/*! For license information please see main.1625efb9.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var i=n(43),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===o?"."+P(l,0):o,w(s)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),I(s,t,r,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+P(a=e[c],c);l+=I(a,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,r,u=o+P(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var i=[],r=0;return I(e,i,"","",function(e){return t.call(n,e,r++)}),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=M,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,O(x);else{var t=i(u);null!==t&&N(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var o=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&N(w,h.startTime-n),l=!1}return l}finally{d=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,E=-1,T=5,P=-1;function I(){return!(t.unstable_now()-P<T)}function R(){if(null!==S){var e=t.unstable_now();P=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"===typeof _)k=function(){_(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=R,k=function(){D.postMessage(null)}}else k=function(){v(R,0)};function O(e){S=e,C||(C=!0,k())}function N(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(y(E),E=-1):g=!0,N(w,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,O(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},379:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(705);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},391:(e,t,n)=>{var i=n(950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},705:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function o(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o})},730:(e,t,n)=>{var i=n(43),r=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,L=Object.assign;function z(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),i=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ce=null;function Se(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wr(t),xe(e.stateNode,e.type,t))}}function Ee(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ie(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Pe(e,t,n)}finally{Re=!1,(null!==ke||null!==Ce)&&(Ie(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Oe=!1}function Me(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Le=null,ze=!1,je=null,Ue={onError:function(e){Fe=!0,Le=e}};function Ve(e,t,n,i,r,o,s,a,l){Fe=!1,Le=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return qe(r),e;if(s===i)return qe(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,$e=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=ht(a):0!==(o&=s)&&(i=ht(o))}else 0!==(s=n&~r)?i=ht(s):0!==o&&(i=ht(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,Ct,St,Et=!1,Tt=[],Pt=null,It=null,Rt=null,At=new Map,Dt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=yr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Pt&&zt(Pt)&&(Pt=null),null!==It&&zt(It)&&(It=null),null!==Rt&&zt(Rt)&&(Rt=null),At.forEach(jt),Dt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Pt&&Vt(Pt,e),null!==It&&Vt(It,e),null!==Rt&&Vt(Rt,e),At.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(i=Ot[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,i){var r=_t,o=Wt.transition;Wt.transition=null;try{_t=1,Gt(e,t,n,i)}finally{_t=r,Wt.transition=o}}function Kt(e,t,n,i){var r=_t,o=Wt.transition;Wt.transition=null;try{_t=4,Gt(e,t,n,i)}finally{_t=r,Wt.transition=o}}function Gt(e,t,n,i){if(qt){var r=$t(e,t,n,i);if(null===r)qi(e,t,i,Yt,n),Mt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Pt=Ft(Pt,e,t,n,i,r),!0;case"dragenter":return It=Ft(It,e,t,n,i,r),!0;case"mouseover":return Rt=Ft(Rt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return At.set(o,Ft(At.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Dt.set(o,Ft(Dt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Mt(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var o=_r(r);if(null!==o&&wt(o),null===(o=$t(e,t,n,i))&&qi(e,t,i,Yt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else qi(e,t,i,null,n)}}var Yt=null;function $t(e,t,n,i){if(Yt=null,null!==(e=yr(e=we(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=L({},cn,{view:0,detail:0}),dn=on(hn),pn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},hn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var En=L({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Pn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(An),On=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Nn||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,i){Ee(i),0<(t=Ki(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){zi(e,0)}function $n(e){if(G(br(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Kn&&(Kn.detachEvent("onpropertychange",ni),Gn=Kn=null)}function ni(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,(Kn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function oi(e,t){if("click"===e)return $n(t)}function si(e,t){if("input"===e||"change"===e)return $n(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==Y(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Ki(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Ci={};function Si(e){if(ki[e])return ki[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ci)return ki[e]=n[t];return e}u&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ei=Si("animationend"),Ti=Si("animationiteration"),Pi=Si("animationstart"),Ii=Si("transitionend"),Ri=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Ri.set(e,t),l(t,[e])}for(var Oi=0;Oi<Ai.length;Oi++){var Ni=Ai[Oi];Di(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Di(Ei,"onAnimationEnd"),Di(Ti,"onAnimationIteration"),Di(Pi,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ii,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Li(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,l,c){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=Le;Fe=!1,Le=null,ze||(ze=!0,je=u)}}(i,t,void 0,e),e.currentTarget=null}function zi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Li(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Li(r,a,c),o=l}}}if(ze)throw e=je,ze=!1,je=null,e}function ji(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Vi]){e[Vi]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fi.has(t)||Ui(t,!1,e),Ui(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Ui("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Qt(t)){case 1:var r=Ht;break;case 4:r=Kt;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=yr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Ae(function(){var i=o,r=we(n),s=[];e:{var a=Ri.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ei:case Ti:case Pi:l=vn;break;case Ii:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=De(f,d))&&u.push(Hi(f,m,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:br(l),p=null==c?a:br(c),(a=new u(m,f+"leave",l,n,r)).target=h,a.relatedTarget=p,m=null,yr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Gi(p))f++;for(p=0,m=d;m;m=Gi(m))p++;for(;0<f-p;)u=Gi(u),f--;for(;0<p-f;)d=Gi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Yi(s,a,l,u,!1),null!==c&&null!==h&&Yi(s,h,c,u,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(qn(a))if(Xn)g=si;else{g=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=oi);switch(g&&(g=g(e,i))?Hn(s,g,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?br(i):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(s,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(s,n,r)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Ki(i,_)).length&&(_=new bn(_,e,null,n,r),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ki(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}zi(s,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ki(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=De(e,n))&&i.unshift(Hi(e,o,r)),null!=(o=De(e,t))&&i.push(Hi(e,o,r))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=De(n,o))&&s.unshift(Hi(n,l,a)):r||null!=(l=De(n,o))&&s.push(Hi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $i=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace($i,"\n").replace(Qi,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(o(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Bt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wr(e){return e[pr]||null}var xr=[],kr=-1;function Cr(e){return{current:e}}function Sr(e){0>kr||(e.current=xr[kr],xr[kr]=null,kr--)}function Er(e,t){kr++,xr[kr]=e.current,e.current=t}var Tr={},Pr=Cr(Tr),Ir=Cr(!1),Rr=Tr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Sr(Ir),Sr(Pr)}function Nr(e,t,n){if(Pr.current!==Tr)throw Error(o(168));Er(Pr,t),Er(Ir,n)}function Mr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,W(e)||"Unknown",r));return L({},n,i)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Rr=Pr.current,Er(Pr,e),Er(Ir,Ir.current),!0}function Lr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Mr(e,t,Rr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Ir),Sr(Pr),Er(Pr,e)):Sr(Ir),Er(Ir,n)}var zr=null,jr=!1,Ur=!1;function Vr(e){null===zr?zr=[e]:zr.push(e)}function Br(){if(!Ur&&null!==zr){Ur=!0;var e=0,t=_t;try{var n=zr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}zr=null,jr=!1}catch(r){throw null!==zr&&(zr=zr.slice(e+1)),Ge(Ze,Br),r}finally{_t=t,Ur=!1}}return null}var Wr=[],qr=0,Hr=null,Kr=0,Gr=[],Yr=0,$r=null,Qr=1,Xr="";function Jr(e,t){Wr[qr++]=Kr,Wr[qr++]=Hr,Hr=e,Kr=t}function Zr(e,t,n){Gr[Yr++]=Qr,Gr[Yr++]=Xr,Gr[Yr++]=$r,$r=e;var i=Qr;e=Xr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Qr=1<<32-st(t)+r|n<<r|i,Xr=o+e}else Qr=1<<o|n<<r|i,Xr=e}function eo(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function to(e){for(;e===Hr;)Hr=Wr[--qr],Wr[qr]=null,Kr=Wr[--qr],Wr[qr]=null;for(;e===$r;)$r=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null,Qr=Gr[--Yr],Gr[Yr]=null}var no=null,io=null,ro=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$r?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=io;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var i=no;t&&ao(e,t)?so(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=cr(e.nextSibling)}function fo(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Lc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===k?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&_o(o)===t.type)?((i=r(t,n.props)).ref=vo(e,t,n),i.return=e,i):((i=Nc(n.type,n.key,n.props,null,e.mode,i)).ref=vo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case x:return n.key===r?u(e,t,n,i):null;case D:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||M(n))return null!==r?null:h(e,t,n,i,null);yo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case D:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||M(i))return h(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function m(r,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(r,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(r,h),ro&&Jr(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return ro&&Jr(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=f(h,r,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(r,e)}),ro&&Jr(r,m),c}function g(r,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(r,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(r,m),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(r,m),ro&&Jr(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return ro&&Jr(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(r,e)}),ro&&Jr(r,g),u}return function e(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&_o(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=vo(i,u,s),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}s.type===k?((o=Mc(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Nc(s.type,s.key,s.props,null,i.mode,l)).ref=vo(i,o,s),l.return=i,i=l)}return a(i);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=zc(s,i.mode,l)).return=i,i=o}return a(i);case D:return e(i,o,(u=s._init)(s._payload),l)}if(te(s))return m(i,o,s,l);if(M(s))return g(i,o,s,l);yo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=Lc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var wo=bo(!0),xo=bo(!1),ko=Cr(null),Co=null,So=null,Eo=null;function To(){Eo=So=Co=null}function Po(e){var t=ko.current;Sr(ko),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Co=e,Eo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Co)throw Error(o(308));So=e,Co.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Do=null;function Oo(e){null===Do?Do=[e]:Do.push(e)}function No(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Oo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Mo(e,i)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Mo(e,n)}return null===(r=i.interleaved)?(t.next=t,Oo(i)):(t.next=r.next,r.next=t),i.interleaved=t,Mo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,i){var r=e.updateQueue;Fo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,p=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=L({},h,d);break e;case 2:Fo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Ho={},Ko=Cr(Ho),Go=Cr(Ho),Yo=Cr(Ho);function $o(e){if(e===Ho)throw Error(o(174));return e}function Qo(e,t){switch(Er(Yo,t),Er(Go,e),Er(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Ko),Er(Ko,t)}function Xo(){Sr(Ko),Sr(Go),Sr(Yo)}function Jo(e){$o(Yo.current);var t=$o(Ko.current),n=le(t,e.type);t!==n&&(Er(Go,e),Er(Ko,n))}function Zo(e){Go.current===e&&(Sr(Ko),Sr(Go))}var es=Cr(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function is(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,ps=0;function fs(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function gs(e,t,n,i,r,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Zs:ea,e=n(i,r),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,rs.current=ta,e=n(i,r)}while(hs)}if(rs.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function _s(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ls,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,as.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(_a=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,as.lanes|=s,Fl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);ai(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ks(){}function Cs(e,t){var n=as,i=_s(),r=t(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,_a=!0),i=i.queue,Fs(Ts.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,As(9,Es.bind(null,n,i,r,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||Ss(n,t,r)}return r}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,i){t.value=n,t.getSnapshot=i,Ps(t)&&Is(e)}function Ts(e,t,n){return n(function(){Ps(t)&&Is(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Is(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,as,e),[t.memoizedState,e]}function As(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ds(){return _s().memoizedState}function Os(e,t,n,i){var r=ys();as.flags|=e,r.memoizedState=As(1|t,n,void 0,void 0===i?null:i)}function Ns(e,t,n,i){var r=_s();i=void 0===i?null:i;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==i&&ms(i,s.deps))return void(r.memoizedState=As(t,n,o,i))}as.flags|=e,r.memoizedState=As(1|t,n,o,i)}function Ms(e,t){return Os(8390656,8,e,t)}function Fs(e,t){return Ns(2048,8,e,t)}function Ls(e,t){return Ns(4,2,e,t)}function zs(e,t){return Ns(4,4,e,t)}function js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4,4,js.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=_s();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=_s();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ai(n,t)||(n=mt(),as.lanes|=n,Fl|=n,e.baseState=!0),t)}function Hs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=os.transition;os.transition={};try{e(!1),t()}finally{_t=n,os.transition=i}}function Ks(){return _s().memoizedState}function Gs(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Qs(t,n);else if(null!==(n=No(e,t,n,i))){nc(n,e,i,ec()),Xs(n,t,i)}}function Ys(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Qs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(r.next=r,Oo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=No(e,t,r,i))&&(nc(n,e,i,r=ec()),Xs(n,t,i))}}function $s(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ao,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ao,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ys();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Gs.bind(null,as,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=as,r=ys();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||Ss(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ms(Ts.bind(null,i,s,e),[e]),i.flags|=2048,As(9,Es.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(ro){var n=Xr;t=":"+t+"R"+(n=(Qr&~(1<<32-st(Qr)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ao,useCallback:Bs,useContext:Ao,useEffect:Fs,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Ws,useReducer:ws,useRef:Ds,useState:function(){return ws(bs)},useDebugValue:Vs,useDeferredValue:function(e){return qs(_s(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],_s().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Ao,useCallback:Bs,useContext:Ao,useEffect:Fs,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Ws,useReducer:xs,useRef:Ds,useState:function(){return xs(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=_s();return null===ls?t.memoizedState=e:qs(t,ls.memoizedState,e)},useTransition:function(){return[xs(bs)[0],_s().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=jo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,r))&&(nc(t,e,r,i),Vo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=jo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,r))&&(nc(t,e,r,i),Vo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=jo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Uo(e,r,i))&&(nc(t,e,i,n),Vo(t,e,i))}};function oa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function sa(e,t,n){var i=!1,r=Tr,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(r=Dr(t)?Rr:Pr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ar(e,r):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Ao(o):(o=Dr(t)?Rr:Pr.current,r.context=Ar(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ia(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Wo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(_k){r="\nError generating stack: "+_k.message+"\n"+_k.stack}return{value:e,source:t,stack:r,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ql||(ql=!0,Hl=i),ha(0,t)},n}function fa(e,t,n){(n=jo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ya=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,i){t.child=null===e?xo(t,null,n,i):wo(t,e.child,n,i)}function wa(e,t,n,i,r){n=n.render;var o=t.ref;return Ro(t,r),i=gs(e,t,n,i,o,r),n=vs(),null===e||_a?(ro&&n&&eo(t),t.flags|=1,ba(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qa(e,t,r))}function xa(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return qa(e,t,r)}return t.flags|=1,(e=Oc(o,i)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(_a=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,qa(e,t,r);0!==(131072&e.flags)&&(_a=!0)}}return Ea(e,t,n,i,r)}function Ca(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Er(Ol,Dl),Dl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Er(Ol,Dl),Dl|=i;return ba(e,t,r,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,i,r){var o=Dr(n)?Rr:Pr.current;return o=Ar(t,o),Ro(t,r),n=gs(e,t,n,i,o,r),i=vs(),null===e||_a?(ro&&i&&eo(t),t.flags|=1,ba(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qa(e,t,r))}function Ta(e,t,n,i,r){if(Dr(n)){var o=!0;Fr(t)}else o=!1;if(Ro(t,r),null===t.stateNode)Wa(e,t),sa(t,n,i),la(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ar(t,c=Dr(n)?Rr:Pr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,s,i,c),Fo=!1;var d=t.memoizedState;s.state=d,Wo(t,i,s,r),l=t.memoizedState,a!==i||d!==l||Ir.current||Fo?("function"===typeof u&&(ia(t,n,u,i),l=t.memoizedState),(a=Fo||oa(t,n,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,zo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ar(t,l=Dr(n)?Rr:Pr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,i,l),Fo=!1,d=t.memoizedState,s.state=d,Wo(t,i,s,r);var f=t.memoizedState;a!==h||d!==f||Ir.current||Fo?("function"===typeof p&&(ia(t,n,p,i),f=t.memoizedState),(c=Fo||oa(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Pa(e,t,n,i,o,r)}function Pa(e,t,n,i,r,o){Sa(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&Lr(t,n,!1),qa(e,t,o);i=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=i.state,r&&Lr(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Qo(e,t.containerInfo)}function Ra(e,t,n,i,r){return fo(),mo(r),t.flags|=256,ba(e,t,n,i),t.child}var Aa,Da,Oa,Na,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var i,r=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Er(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),e=Mc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,i=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(s=Mc(s,r,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,ja(e,t,a,i=ua(s=Error(o(419)),i,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(i=Il)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Mo(e,r),nc(i,e,r,-1))}return mc(),ja(e,t,a,i=ua(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,io=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Gr[Yr++]=Qr,Gr[Yr++]=Xr,Gr[Yr++]=$r,Qr=e.id,Xr=e.overflow,$r=t),t=za(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,s,n);if(a){a=r.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Oc(i,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,r}return e=(a=e.child).sibling,r=Oc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,i){return null!==i&&mo(i),wo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Io(e.return,t,n)}function Va(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ba(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ba(e,t,i.children,n),0!==(2&(i=es.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Er(es,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Va(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ts(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ga(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Dr(t.type)&&Or(),Ka(t),null;case 3:return i=t.stateNode,Xo(),Sr(Ir),Sr(Pr),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Da(e,t),Ka(t),null;case 5:Zo(t);var r=$o(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=$o(Ko.current),ho(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[dr]=t,i[pr]=s,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Mi.length;r++)ji(Mi[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":Q(i,s),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ji("invalid",i);break;case"textarea":re(i,s),ji("invalid",i)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":K(i),Z(i,s,!0);break;case"textarea":K(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":ji("cancel",e),ji("close",e),r=i;break;case"iframe":case"object":case"embed":ji("load",e),r=i;break;case"video":case"audio":for(r=0;r<Mi.length;r++)ji(Mi[r],e);r=i;break;case"source":ji("error",e),r=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),r=i;break;case"details":ji("toggle",e),r=i;break;case"input":Q(e,i),r=$(e,i),ji("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),ji("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),ji("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&ji("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":K(e),Z(e,i,!1);break;case"textarea":K(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=$o(Yo.current),$o(Ko.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(s=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ka(t),null;case 13:if(Sr(es),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[dr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xo(),Da(e,t),null===e&&Bi(t.stateNode.containerInfo),Ka(t),null;case 10:return Po(t.type._context),Ka(t),null;case 19:if(Sr(es),null===(s=t.memoizedState))return Ka(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Ha(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bl&&(t.flags|=128,i=!0,Ha(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ts(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return Ka(t),null}else 2*Xe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,i=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,Er(es,i?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Dr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Sr(Ir),Sr(Pr),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Sr(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(es),null;case 4:return Xo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,$o(Ko.current);var o,s=null;switch(n){case"input":r=$(e,r),i=$(e,i),s=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&ji("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Na=function(e,t,n,i){n!==i&&(t.flags|=4)};var $a=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Cc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[mr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var i=ul,r=hl;ul=null,dl(e,t,n),hl=r,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Cc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qa=(i=Qa)||null!==n.memoizedState,dl(e,t,n),Qa=i):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var i=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,a,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Cc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&i&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&i&&null!==n&&Za(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){Cc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,u)}switch(l){case"input":J(r,s);break;case"textarea":oe(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(r,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Xe())),4&i&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,ml(t,e),Qa=u):ml(t,e),vl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(i,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Ja=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Cc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&i&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),cl(e,al(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==Ja;){var r=Ja,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||$a;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=$a;var c=Qa;if($a=s,(Qa=l)&&!c)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?xl(r):null!==l?(l.return=s,Ja=l):xl(r);for(;null!==o;)Ja=o,_l(o,t,n),o=o.sibling;Ja=r,$a=a,Qa=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qo(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&rl(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Cc(t,r,l)}}var o=t.return;try{rl(t)}catch(l){Cc(t,o,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,Cl=Math.ceil,Sl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Pl=0,Il=null,Rl=null,Al=0,Dl=0,Ol=Cr(0),Nl=0,Ml=null,Fl=0,Ll=0,zl=0,jl=null,Ul=null,Vl=0,Bl=1/0,Wl=null,ql=!1,Hl=null,Kl=null,Gl=!1,Yl=null,$l=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Pl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Al?Al&-Al:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,i){if(50<Ql)throw Ql=0,Xl=null,Error(o(185));vt(e,n,i),0!==(2&Pl)&&e===Il||(e===Il&&(0===(2&Pl)&&(Ll|=n),4===Nl&&ac(e,Al)),ic(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Bl=Xe()+500,jr&&Br()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var i=dt(e,e===Il?Al:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){jr=!0,Vr(e)}(lc.bind(null,e)):Vr(lc.bind(null,e)),sr(function(){0===(6&Pl)&&Br()}),n=null;else{switch(bt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Zl=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var i=dt(e,e===Il?Al:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var r=Pl;Pl|=2;var s=fc();for(Il===e&&Al===t||(Wl=null,Bl=Xe()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}To(),Sl.current=s,Pl=r,null!==Rl?t=0:(Il=null,Al=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=oc(e,r))),1===t)throw n=Ml,dc(e,0),ac(e,i),ic(e,Xe()),n;if(6===t)ac(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,i))&&(0!==(s=ft(e))&&(i=s,t=oc(e,s))),1===t))throw n=Ml,dc(e,0),ac(e,i),ic(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Ul,Wl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=Vl+500-Xe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Ul,Wl),t);break}wc(e,Ul,Wl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Ul,Wl),i);break}wc(e,Ul,Wl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Pl))throw Error(o(327));xc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Ml,dc(e,0),ac(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Wl),ic(e,Xe()),null}function cc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Bl=Xe()+500,jr&&Br())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&xc();var t=Pl;Pl|=1;var n=Tl.transition,i=_t;try{if(Tl.transition=null,_t=1,e)return e()}finally{_t=i,Tl.transition=n,0===(6&(Pl=t))&&Br()}}function hc(){Dl=Ol.current,Sr(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Or();break;case 3:Xo(),Sr(Ir),Sr(Pr),is();break;case 5:Zo(i);break;case 4:Xo();break;case 13:case 19:Sr(es);break;case 10:Po(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Rl=e=Oc(e.current,null),Al=Dl=t,Nl=0,Ml=null,zl=Ll=Fl=0,Ul=jl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(i=(n=Do[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Do=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(To(),rs.current=Js,us){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,El.current=null,null===n||null===n.return){Nl=1,Ml=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Nl&&(Nl=2),null===jl?jl=[s]:jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Js,null===e?Js:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Fl)&&0===(268435455&Ll)||ac(Il,Al)}function gc(e,t){var n=Pl;Pl|=2;var i=fc();for(Il===e&&Al===t||(Wl=null,dc(e,t));;)try{vc();break}catch(r){pc(e,r)}if(To(),Pl=n,Sl.current=i,null!==Rl)throw Error(o(261));return Il=null,Al=0,Nl}function vc(){for(;null!==Rl;)_c(Rl)}function yc(){for(;null!==Rl&&!$e();)_c(Rl)}function _c(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function wc(e,t,n){var i=_t,r=Tl.transition;try{Tl.transition=null,_t=1,function(e,t,n,i){do{xc()}while(null!==Yl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,s),e===Il&&(Rl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,function(){return xc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=_t;_t=1;var l=Pl;Pl|=4,El.current=null,function(e,t){if(er=qt,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=a),p===s&&++h===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fi(tr),qt=!!er,tr=er=null,e.current=n,yl(n,e,r),Qe(),Pl=l,_t=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Yl=e,$l=r),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Br()}(e,t,n,i)}finally{Tl.transition=r,_t=i}return null}function xc(){if(null!==Yl){var e=bt($l),t=Tl.transition,n=_t;try{if(Tl.transition=null,_t=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var p=(h=Ja).sibling,f=h.return;if(ol(h),h===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var _=e.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Cc(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Pl=r,Br(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,Tl.transition=t}}return!1}function kc(e,t,n){e=Uo(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){t=Uo(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>Xe()-Vl?dc(e,0):zl|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Ec(e,n)}function Ic(e,t){return Ge(e,t)}function Rc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,i){return new Rc(e,t,n,i)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,i,r,s){var a=2;if(i=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Mc(n.children,r,s,t);case C:a=8,r|=8;break;case S:return(e=Ac(12,n,t,2|r)).elementType=S,e.lanes=s,e;case I:return(e=Ac(13,n,t,r)).elementType=I,e.lanes=s,e;case R:return(e=Ac(19,n,t,r)).elementType=R,e.lanes=s,e;case O:return Fc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case P:a=11;break e;case A:a=14;break e;case D:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Mc(e,t,n,i){return(e=Ac(7,e,i,t)).lanes=n,e}function Fc(e,t,n,i){return(e=Ac(22,e,i,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,i,r,o,s,a,l){return e=new jc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vc(e){if(!e)return Tr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Dr(n))return Mr(e,n,t)}return t}function Bc(e,t,n,i,r,o,s,a,l){return(e=Uc(n,i,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=jo(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,r),e.current.lanes=r,vt(e,r,i),ic(e,i),e}function Wc(e,t,n,i){var r=t.current,o=ec(),s=tc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Uo(r,t,s))&&(nc(e,r,s,o),Vo(e,r,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fo();break;case 5:Jo(t);break;case 1:Dr(t.type)&&Fr(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Er(ko,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Er(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Er(es,1&es.current),null!==(e=qa(e,t,n))?e.sibling:null);Er(es,1&es.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ba(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(es,es.current),i)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,ro&&0!==(1048576&t.flags)&&Zr(t,Kr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wa(e,t),e=t.pendingProps;var r=Ar(t,Pr.current);Ro(t,n),r=gs(null,t,i,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(i)?(s=!0,Fr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Lo(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,i,e,n),t=Pa(null,t,i,!0,s,n)):(t.tag=0,ro&&s&&eo(t),ba(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(i),e=na(i,e),r){case 0:t=Ea(null,t,i,e,n);break e;case 1:t=Ta(null,t,i,e,n);break e;case 11:t=wa(null,t,i,e,n);break e;case 14:t=xa(null,t,i,na(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ea(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ta(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));i=t.pendingProps,r=(s=t.memoizedState).element,zo(e,t),Wo(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,i,n,r=ca(Error(o(423)),t));break e}if(i!==r){t=Ra(e,t,i,n,r=ca(Error(o(424)),t));break e}for(io=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=xo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=qa(e,t,n);break e}ba(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return La(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=wo(t,null,i,n):ba(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Er(ko,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Ir.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=jo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ro(t,n),i=i(r=Ao(r)),t.flags|=1,ba(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),xa(e,t,i,r=na(i.type,r),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Wa(e,t),t.tag=1,Dr(i)?(e=!0,Fr(t)):e=!1,Ro(t,n),sa(t,i,r),la(t,i,r,n),Pa(null,t,i,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var e=qc(s);a.call(e)}}Wc(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=qc(s);o.call(e)}}var s=Bc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[fr]=s.current,Bi(8===e.nodeType?e.parentNode:e),uc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=qc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fr]=l.current,Bi(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,i)}),l}(n,t,e,r,i);return qc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[fr]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Pl)&&(Bl=Xe()+500,Br()))}break;case 13:uc(function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(o(90));G(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[_r,br,wr,Ee,Te,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,i="",r=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Bi(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,r,0,s,a),e[fr]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>i[e]);return s.default=()=>i,n.d(o,s),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".13ed1411.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="taptap-new:";n.l=(i,r,o,s)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/taptap-new/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,o,s=i[0],a=i[1],l=i[2],c=0;if(s.some(t=>0!==e[t])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunktaptap_new=self.webpackChunktaptap_new||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=n(43),r=n.t(i,2),o=n(391);function s(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}var a=n(379);function l(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const u=e=>Array.isArray(e);function h(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function d(e){return"string"===typeof e||Array.isArray(e)}function p(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function f(e,t,n,i){if("function"===typeof t){const[r,o]=p(i);t=t(void 0!==n?n:e.custom,r,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,o]=p(i);t=t(void 0!==n?n:e.custom,r,o)}return t}function m(e,t,n){const i=e.getProps();return f(i,t,void 0!==n?n:i.custom,e)}const g=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v=["initial",...g];function y(e){let t;return()=>(void 0===t&&(t=e()),t)}const _=y(()=>void 0!==window.ScrollTimeline);class b{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>_()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class w extends b{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function x(e,t){return e?e[t]||e.default||e:void 0}const k=2e4;function C(e){let t=0;let n=e.next(t);for(;!n.done&&t<k;)t+=50,n=e.next(t);return t>=k?1/0:t}function S(e){return"function"===typeof e}function E(e,t){e.timeline=t,e.onfinish=null}const T=e=>Array.isArray(e)&&"number"===typeof e[0],P={linearEasing:void 0};function I(e,t){const n=y(e);return()=>{var e;return null!==(e=P[t])&&void 0!==e?e:n()}}const R=I(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),A=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i},D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=e(A(0,r-1,o))+", ";return"linear(".concat(i.substring(0,i.length-2),")")};function O(e){return Boolean("function"===typeof e&&R()||!e||"string"===typeof e&&(e in M||R())||T(e)||Array.isArray(e)&&e.every(O))}const N=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},M={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:N([0,.65,.55,1]),circOut:N([.55,0,1,.45]),backIn:N([.31,.01,.66,-.59]),backOut:N([.33,1.53,.69,.99])};function F(e,t){return e?"function"===typeof e&&R()?D(e,t):T(e)?N(e):Array.isArray(e)?e.map(e=>F(e,t)||M.easeOut):M[e]:void 0}const L={x:!1,y:!1};function z(){return L.x||L.y}function j(e,t){const n=function(e,t,n){var i;if(e instanceof Element)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const o=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),i=new AbortController;return[n,(0,a.A)((0,a.A)({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function U(e){return t=>{"touch"===t.pointerType||z()||e(t)}}const V=(e,t)=>!!t&&(e===t||V(e,t.parentElement)),B=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,W=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const q=new WeakSet;function H(e){return t=>{"Enter"===t.key&&e(t)}}function K(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function G(e){return B(e)&&!z()}function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,o]=j(e,n),s=e=>{const i=e.currentTarget;if(!G(e)||q.has(i))return;q.add(i);const o=t(e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),G(e)&&q.has(i)&&(q.delete(i),"function"===typeof o&&o(e,{success:t}))},a=e=>{s(e,n.useGlobalTarget||V(i,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{(function(e){return W.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,r),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=H(()=>{if(q.has(n))return;K(n,"down");const e=H(()=>{K(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>K(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r),r)}),o}const $=e=>1e3*e,Q=e=>e/1e3,X=e=>e;const J=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Z=new Set(J),ee=new Set(["width","height","top","left","right","bottom",...J]),te=e=>u(e)?e[e.length-1]||0:e,ne=!1,ie=!1;const re=["read","resolveKeyframes","update","preRender","render","postRender"];function oe(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=re.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(t){o.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),r.has(e)||r.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{s=e,i?r=!0:(i=!0,[t,n]=[n,t],t.forEach(a),t.clear(),i=!1,r&&(r=!1,l.process(e)))}};return l}(o),e),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=s,p=()=>{const o=ie?r.timestamp:performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(o-r.timestamp,40),1),r.timestamp=o,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(p))},f=re.reduce((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||e(p)),a.schedule(t,o,s)},t},{});return{schedule:f,cancel:e=>{for(let t=0;t<re.length;t++)s[re[t]].cancel(e)},state:r,steps:s}}const{schedule:se,cancel:ae,state:le,steps:ce}=oe("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:X,!0);let ue;function he(){ue=void 0}const de={now:()=>(void 0===ue&&de.set(le.isProcessing||ie?le.timestamp:performance.now()),ue),set:e=>{ue=e,queueMicrotask(he)}};function pe(e,t){-1===e.indexOf(t)&&e.push(t)}function fe(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class me{constructor(){this.subscriptions=[]}add(e){return pe(this.subscriptions,e),()=>fe(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ge(e,t){return t?e*(1e3/t):0}const ve={current:void 0};class ye{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=de.now();t.updatedAt!==i&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=de.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new me);const n=this.events[e].add(t);return"change"===e?()=>{n(),se.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ve.current&&ve.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=de.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ge(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _e(e,t){return new ye(e,t)}const be=["transitionEnd","transition"];function we(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_e(n))}const xe=e=>Boolean(e&&e.getVelocity);function ke(e,t){const n=e.getValue("willChange");if(i=n,Boolean(xe(i)&&i.add))return n.add(t);var i}const Ce=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Se="data-"+Ce("framerAppearId");function Ee(e){return e.props[Se]}const Te=!1,Pe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ie(e,t,n,i){if(e===t&&n===i)return X;const r=t=>function(e,t,n,i,r){let o,s,a=0;do{s=t+(n-t)/2,o=Pe(s,i,r)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Pe(r(e),t,i)}const Re=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ae=e=>t=>1-e(1-t),De=Ie(.33,1.53,.69,.99),Oe=Ae(De),Ne=Re(Oe),Me=e=>(e*=2)<1?.5*Oe(e):.5*(2-Math.pow(2,-10*(e-1))),Fe=e=>1-Math.sin(Math.acos(e)),Le=Ae(Fe),ze=Re(Fe),je=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Ue(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||je(e))}const Ve=(e,t,n)=>n>t?t:n<e?e:n,Be={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},We=(0,a.A)((0,a.A)({},Be),{},{transform:e=>Ve(0,1,e)}),qe=(0,a.A)((0,a.A)({},Be),{},{default:1}),He=e=>Math.round(1e5*e)/1e5,Ke=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Ge=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Ye=(e,t)=>n=>Boolean("string"===typeof n&&Ge.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),$e=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[r,o,s,a]=i.match(Ke);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Qe=(0,a.A)((0,a.A)({},Be),{},{transform:e=>Math.round((e=>Ve(0,255,e))(e))}),Xe={test:Ye("rgb","red"),parse:$e("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+Qe.transform(t)+", "+Qe.transform(n)+", "+Qe.transform(i)+", "+He(We.transform(r))+")"}};const Je={test:Ye("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:Xe.transform},Ze=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),et=Ze("deg"),tt=Ze("%"),nt=Ze("px"),it=Ze("vh"),rt=Ze("vw"),ot=(0,a.A)((0,a.A)({},tt),{},{parse:e=>tt.parse(e)/100,transform:e=>tt.transform(100*e)}),st={test:Ye("hsl","hue"),parse:$e("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+tt.transform(He(n))+", "+tt.transform(He(i))+", "+He(We.transform(r))+")"}},at={test:e=>Xe.test(e)||Je.test(e)||st.test(e),parse:e=>Xe.test(e)?Xe.parse(e):st.test(e)?st.parse(e):Je.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Xe.transform(e):st.transform(e)},lt=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const ct="number",ut="color",ht=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function dt(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const s=t.replace(ht,e=>(at.test(e)?(i.color.push(o),r.push(ut),n.push(at.parse(e))):e.startsWith("var(")?(i.var.push(o),r.push("var"),n.push(e)):(i.number.push(o),r.push(ct),n.push(parseFloat(e))),++o,"${}")).split("${}");return{values:n,split:s,indexes:i,types:r}}function pt(e){return dt(e).values}function ft(e){const{split:t,types:n}=dt(e),i=t.length;return e=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],void 0!==e[o]){const t=n[o];r+=t===ct?He(e[o]):t===ut?at.transform(e[o]):e[o]}return r}}const mt=e=>"number"===typeof e?0:e;const gt={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Ke))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(lt))||void 0===n?void 0:n.length)||0)>0},parse:pt,createTransformer:ft,getAnimatableNone:function(e){const t=pt(e);return ft(e)(t.map(mt))}},vt=new Set(["brightness","contrast","saturate","opacity"]);function yt(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(Ke)||[];if(!i)return e;const r=n.replace(i,"");let o=vt.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const _t=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,bt=(0,a.A)((0,a.A)({},gt),{},{getAnimatableNone:e=>{const t=e.match(_t);return t?t.map(yt).join(" "):e}}),wt={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt},xt={rotate:et,rotateX:et,rotateY:et,rotateZ:et,scale:qe,scaleX:qe,scaleY:qe,scaleZ:qe,skew:et,skewX:et,skewY:et,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:We,originX:ot,originY:ot,originZ:nt},kt=(0,a.A)((0,a.A)({},Be),{},{transform:Math.round}),Ct=(0,a.A)((0,a.A)((0,a.A)({},wt),xt),{},{zIndex:kt,size:nt,fillOpacity:We,strokeOpacity:We,numOctaves:kt}),St=(0,a.A)((0,a.A)({},Ct),{},{color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:bt,WebkitFilter:bt}),Et=e=>St[e];function Tt(e,t){let n=Et(e);return n!==bt&&(n=gt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Pt=new Set(["auto","none","0"]);const It=e=>e===Be||e===nt,Rt=(e,t)=>parseFloat(e.split(", ")[t]),At=(e,t)=>(n,i)=>{let{transform:r}=i;if("none"===r||!r)return 0;const o=r.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(o)return Rt(o[1],t);{const t=r.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?Rt(t[1],e):0}},Dt=new Set(["x","y","z"]),Ot=J.filter(e=>!Dt.has(e));const Nt={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:At(4,13),y:At(5,14)};Nt.translateX=Nt.x,Nt.translateY=Nt.y;const Mt=new Set;let Ft=!1,Lt=!1;function zt(){if(Lt){const e=Array.from(Mt).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Ot.forEach(n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,i]=t;var r;null===(r=e.getValue(n))||void 0===r||r.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Lt=!1,Ft=!1,Mt.forEach(e=>e.complete()),Mt.clear()}function jt(){Mt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lt=!0)})}class Ut{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mt.add(this),Ft||(Ft=!0,se.read(jt),se.resolveKeyframes(zt))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let r=0;r<e.length;r++)if(null===e[r])if(0===r){const r=null===i||void 0===i?void 0:i.get(),o=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,o);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=o),i&&void 0===r&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let Vt=X,Bt=X;const Wt=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),qt=e=>t=>"string"===typeof t&&t.startsWith(e),Ht=qt("--"),Kt=qt("var(--"),Gt=e=>!!Kt(e)&&Yt.test(e.split("/*")[0].trim()),Yt=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,$t=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Qt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Bt(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[i,r]=function(e){const t=$t.exec(e);if(!t)return[,];const[,n,i,r]=t;return["--".concat(null!==n&&void 0!==n?n:i),r]}(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const e=o.trim();return Wt(e)?parseFloat(e):e}return Gt(r)?Qt(r,t,n+1):r}const Xt=e=>t=>t.test(e),Jt=[Be,nt,tt,et,rt,it,{test:e=>"auto"===e,parse:e=>e}],Zt=e=>Jt.find(Xt(e));class en extends Ut{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Gt(n))){const i=Qt(n,t.current);void 0!==i&&(e[a]=i),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ee.has(n)||2!==e.length)return;const[i,r]=e,o=Zt(i),s=Zt(r);if(o!==s)if(It(o)&&It(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)Ue(e[i])&&n.push(i);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"===typeof t&&!Pt.has(t)&&dt(t).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=Tt(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=Nt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(e=>{let[n,i]=e;t.getValue(n).set(i)}),this.resolveNoneKeyframes()}}const tn=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!gt.test(e)&&"0"!==e||e.startsWith("url(")));function nn(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=tn(r,t),a=tn(o,t);return Vt(s===a,"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(o,'". ').concat(r," is not an animatable value - to enable this animation set ").concat(r," to a value animatable to ").concat(o," via the `style` property.")),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||S(n))&&i)}const rn=e=>null!==e;function on(e,t,n){let{repeat:i,repeatType:r="loop"}=t;const o=e.filter(rn),s=i&&"loop"!==r&&i%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const sn=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class an{constructor(e){let{autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s="loop"}=e,l=c(e,sn);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=de.now(),this.options=(0,a.A)({autoplay:t,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:s},l),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(jt(),zt()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=de.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:o,onComplete:s,onUpdate:l,isGenerator:c}=this.options;if(!c&&!nn(e,n,i,r)){if(Te||!o)return l&&l(on(e,this.options,t)),s&&s(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved=(0,a.A)({keyframes:e,finalKeyframe:t},u),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ln=(e,t,n)=>e+(t-e)*n;function cn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function un(e,t){return n=>n>0?t:e}const hn=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},dn=[Je,Xe,st];function pn(e){const t=(n=e,dn.find(e=>e.test(n)));var n;if(Vt(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let i=t.parse(e);return t===st&&(i=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,n/=100,i/=100;let o=0,s=0,a=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;o=cn(r,e,t+1/3),s=cn(r,e,t),a=cn(r,e,t-1/3)}else o=s=a=i;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(i)),i}const fn=(e,t)=>{const n=pn(e),i=pn(t);if(!n||!i)return un(e,t);const r=(0,a.A)({},n);return e=>(r.red=hn(n.red,i.red,e),r.green=hn(n.green,i.green,e),r.blue=hn(n.blue,i.blue,e),r.alpha=ln(n.alpha,i.alpha,e),Xe.transform(r))},mn=(e,t)=>n=>t(e(n)),gn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(mn)},vn=new Set(["none","hidden"]);function yn(e,t){return n=>ln(e,t,n)}function _n(e){return"number"===typeof e?yn:"string"===typeof e?Gt(e)?un:at.test(e)?fn:xn:Array.isArray(e)?bn:"object"===typeof e?at.test(e)?fn:wn:un}function bn(e,t){const n=[...e],i=n.length,r=e.map((e,n)=>_n(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function wn(e,t){const n=(0,a.A)((0,a.A)({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=_n(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const xn=(e,t)=>{const n=gt.createTransformer(t),i=dt(e),r=dt(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?vn.has(e)&&!r.values.length||vn.has(t)&&!i.values.length?function(e,t){return vn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):gn(bn(function(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][r[s]],l=null!==(n=e.values[a])&&void 0!==n?n:0;i[o]=l,r[s]++}return i}(i,r),r.values),n):(Vt(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),un(e,t))};function kn(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ln(e,t,n);return _n(e)(e,t)}function Cn(e,t,n){const i=Math.max(t-5,0);return ge(n-e(i),t-i)}const Sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},En=.001;function Tn(e){let t,n,{duration:i=Sn.duration,bounce:r=Sn.bounce,velocity:o=Sn.velocity,mass:s=Sn.mass}=e;Vt(i<=$(Sn.maxDuration),"Spring duration must be 10 seconds or less");let a=1-r;a=Ve(Sn.minDamping,Sn.maxDamping,a),i=Ve(Sn.minDuration,Sn.maxDuration,Q(i)),a<1?(t=e=>{const t=e*a,n=t*i,r=t-o,s=In(e,a),l=Math.exp(-n);return En-r/s*l},n=e=>{const n=e*a*i,r=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*i,l=Math.exp(-n),c=In(Math.pow(e,2),a);return(-t(e)+En>0?-1:1)*((r-s)*l)/c}):(t=e=>Math.exp(-e*i)*((e-o)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(o-e)));const l=function(e,t,n){let i=n;for(let r=1;r<Pn;r++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=$(i),isNaN(l))return{stiffness:Sn.stiffness,damping:Sn.damping,duration:i};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:i}}}const Pn=12;function In(e,t){return e*Math.sqrt(1-t*t)}const Rn=["duration","bounce"],An=["stiffness","damping","mass"];function Dn(e,t){return t.some(t=>void 0!==e[t])}function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t=(0,a.A)({velocity:Sn.velocity,stiffness:Sn.stiffness,damping:Sn.damping,mass:Sn.mass,isResolvedFromDuration:!1},e);if(!Dn(e,An)&&Dn(e,Rn))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,o=2*Ve(.05,1,1-(e.bounce||0))*Math.sqrt(r);t=(0,a.A)((0,a.A)({},t),{},{mass:Sn.mass,stiffness:r,damping:o})}else{const n=Tn(e);t=(0,a.A)((0,a.A)((0,a.A)({},t),n),{},{mass:Sn.mass}),t.isResolvedFromDuration=!0}return t}((0,a.A)((0,a.A)({},n),{},{velocity:-Q(n.velocity||0)})),m=p||0,g=u/(2*Math.sqrt(c*h)),v=s-o,y=Q(Math.sqrt(c/h)),_=Math.abs(v)<5;let b;if(i||(i=_?Sn.restSpeed.granular:Sn.restSpeed.default),r||(r=_?Sn.restDelta.granular:Sn.restDelta.default),g<1){const e=In(y,g);b=t=>{const n=Math.exp(-g*y*t);return s-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),i=Math.min(e*t,300);return s-n*((m+g*y*v)*Math.sinh(i)+e*v*Math.cosh(i))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)l.done=e>=d;else{let n=0;g<1&&(n=0===e?$(m):Cn(b,e,t));const o=Math.abs(n)<=i,a=Math.abs(s-t)<=r;l.done=o&&a}return l.value=l.done?s:t,l},toString:()=>{const e=Math.min(C(w),k),t=D(t=>w.next(e*t).value,e,30);return e+"ms "+t}};return w}function Nn(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],p={done:!1,value:d},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=i*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/r),_=e=>v+y(e),b=e=>{const t=y(e),n=_(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,x;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,x=On({keyframes:[p.value,f(p.value)],velocity:Cn(_,e,p.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&b(e),p)}}}const Mn=Ie(.42,0,1,1),Fn=Ie(0,0,.58,1),Ln=Ie(.42,0,.58,1),zn={linear:X,easeIn:Mn,easeInOut:Ln,easeOut:Fn,circIn:Fe,circInOut:ze,circOut:Le,backIn:Oe,backInOut:Ne,backOut:De,anticipate:Me},jn=e=>{if(T(e)){Bt(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,i,r]=e;return Ie(t,n,i,r)}return"string"===typeof e?(Bt(void 0!==zn[e],"Invalid easing type '".concat(e,"'")),zn[e]):e};function Un(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Bt(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const i=[],r=n||kn,o=e.length-1;for(let s=0;s<o;s++){let n=r(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||X:t;n=gn(e,n)}i.push(n)}return i}(t,i,r),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=A(e[i],e[i+1],n);return a[i](r)};return n?t=>c(Ve(e[0],e[o-1],t)):c}function Vn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=A(0,t,i);e.push(ln(n,1,r))}}(t,e.length-1),t}function Bn(e){let{duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(jn):jn(r),s={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(i&&i.length===n.length?i:Vn(n),t),l=Un(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map(()=>u||Ln).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const Wn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>se.update(t,!0),stop:()=>ae(t),now:()=>le.isProcessing?le.timestamp:de.now()}},qn={decay:Nn,inertia:Nn,tween:Bn,keyframes:Bn,spring:On},Hn=e=>e/100;class Kn extends an{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:i,keyframes:r}=this.options,o=(null===i||void 0===i?void 0:i.KeyframeResolver)||Ut;this.resolver=new o(r,(e,t)=>this.onKeyframesResolved(e,t),t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=this.options,s=S(t)?t:qn[t]||Bn;let l,c;s!==Bn&&"number"!==typeof e[0]&&(l=gn(Hn,kn(e[0],e[1])),e=[0,100]);const u=s((0,a.A)((0,a.A)({},this.options),{},{keyframes:e}));"mirror"===r&&(c=s((0,a.A)((0,a.A)({},this.options),{},{keyframes:[...e].reverse(),velocity:-o}))),null===u.calculatedDuration&&(u.calculatedDuration=C(u));const{calculatedDuration:h}=u,d=h+i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:d*(n+1)-i}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return r.next(0);const{delay:h,repeat:d,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,_=r;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(_=o)),y=Ve(0,1,n)*u}const b=v?{done:!1,value:a[0]}:_.next(y);s&&(b.value=s(b.value));let{done:w}=b;v||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&void 0!==i&&(b.value=on(a,this.options,i)),m&&m(b.value),x&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Q(e.calculatedDuration):0}get time(){return Q(this.currentTime)}set time(e){e=$(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Q(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Wn,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gn=new Set(["opacity","clipPath","filter","transform"]);const Yn=y(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$n=["onComplete","onUpdate","motionValue","element"],Qn=["motionValue","onUpdate","onComplete","element"];const Xn={anticipate:Me,backInOut:Ne,circInOut:ze};class Jn extends an{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new en(r,(e,t)=>this.onKeyframesResolved(e,t),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:r,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;var h;if("string"===typeof r&&R()&&r in Xn&&(r=Xn[r]),S((h=this.options).type)||"spring"===h.type||!O(h.ease)){const t=this.options,{onComplete:s,onUpdate:l,motionValue:u,element:h}=t,d=c(t,$n),p=function(e,t){const n=new Kn((0,a.A)((0,a.A)({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let i={done:!1,value:e[0]};const r=[];let o=0;for(;!i.done&&o<2e4;)i=n.sample(o),r.push(i.value),o+=10;return{times:void 0,keyframes:r,duration:o-10,ease:"linear"}}(e,d);1===(e=p.keyframes).length&&(e[1]=e[0]),n=p.duration,i=p.times,r=p.ease,o="keyframes"}const d=function(e,t,n){let{delay:i=0,duration:r=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=F(a,r);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(s.owner.current,l,e,(0,a.A)((0,a.A)({},this.options),{},{duration:n,times:i,ease:r}));return d.startTime=null!==u&&void 0!==u?u:this.calcStartTime(),this.pendingTimeline?(E(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;s.set(on(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Q(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Q(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=$(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return X;const{animation:n}=t;E(n,e)}else this.pendingTimeline=e;return X}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:r,ease:o,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:l,onComplete:u,element:h}=e,d=c(e,Qn),p=new Kn((0,a.A)((0,a.A)({},d),{},{keyframes:n,duration:i,type:r,ease:o,times:s,isGenerator:!0})),f=$(this.time);t.setWithVelocity(p.sample(f-10).value,p.sample(f).value,10)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:o,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return Yn()&&n&&Gn.has(n)&&!a&&!l&&!i&&"mirror"!==r&&0!==o&&"inertia"!==s}}const Zn={type:"spring",stiffness:500,damping:25,restSpeed:10},ei={type:"keyframes",duration:.8},ti={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ni=(e,t)=>{let{keyframes:n}=t;return n.length>2?ei:Z.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Zn:ti},ii=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ri=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const l=x(i,e)||{},u=l.delay||i.delay||0;let{elapsed:h=0}=i;h-=$(u);let d=(0,a.A)((0,a.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-h,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:h}=e,d=c(e,ii);return!!Object.keys(d).length})(l)||(d=(0,a.A)((0,a.A)({},d),ni(e,d))),d.duration&&(d.duration=$(d.duration)),d.repeatDelay&&(d.repeatDelay=$(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(p=!0)),(Te||ne)&&(p=!0,d.duration=0,d.delay=0),p&&!o&&void 0!==t.get()){const e=on(d.keyframes,l);if(void 0!==e)return se.update(()=>{d.onUpdate(e),d.onComplete()}),new w([])}return!o&&Jn.supports(d)?new Jn(d):new Kn(d)}},oi=["transition","transitionEnd"];function si(e,t){let{protectedKeys:n,needsAnimating:i}=e;const r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}function ai(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=e.getDefaultTransition(),transitionEnd:l}=t,u=c(t,oi);i&&(s=i);const h=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const c in u){const t=e.getValue(c,null!==(o=e.latestValues[c])&&void 0!==o?o:null),i=u[c];if(void 0===i||d&&si(d,c))continue;const r=(0,a.A)({delay:n},x(s||{},c));let l=!1;if(window.MotionHandoffAnimation){const t=Ee(e);if(t){const e=window.MotionHandoffAnimation(t,c,se);null!==e&&(r.startTime=e,l=!0)}}ke(e,c),t.start(ri(c,t,i,e.shouldReduceMotion&&ee.has(c)?{type:!1}:r,e,l));const p=t.animation;p&&h.push(p)}return l&&Promise.all(h).then(()=>{se.update(()=>{l&&function(e,t){let n=m(e,t)||{},{transitionEnd:i={},transition:r={}}=n,o=c(n,be);o=(0,a.A)((0,a.A)({},o),i);for(const s in o)we(e,s,te(o[s]))}(e,l)})}),h}function li(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;const r=m(e,t,"exit"===n.type?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const s=r?()=>Promise.all(ai(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:s,staggerDirection:l}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],l=(e.variantChildren.size-1)*i,c=1===r?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(e.variantChildren).sort(ci).forEach((e,i)=>{e.notify("AnimationStart",t),s.push(li(e,t,(0,a.A)((0,a.A)({},o),{},{delay:n+c(i)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,r+i,s,l,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[e,t]="beforeChildren"===c?[s,l]:[l,s];return e().then(()=>t())}return Promise.all([s(),l(n.delay)])}function ci(e,t){return e.sortNodePosition(t)}const ui=v.length;function hi(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&hi(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<ui;n++){const i=v[n],r=e.props[i];(d(r)||!1===r)&&(t[i]=r)}return t}const di=["transition","transitionEnd"],pi=[...g].reverse(),fi=g.length;function mi(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>li(e,t,i));n=Promise.all(r)}else if("string"===typeof t)n=li(e,t,i);else{const r="function"===typeof t?m(e,t,i.custom):t;n=Promise.all(ai(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,i)}))}function gi(e){let t=mi(e),n=_i(),i=!0;const r=t=>(n,i)=>{var r;const o=m(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,i=c(o,di);n=(0,a.A)((0,a.A)((0,a.A)({},n),i),t)}return n};function o(o){const{props:s}=e,c=hi(e.parent)||{},p=[],f=new Set;let m={},g=1/0;for(let t=0;t<fi;t++){const v=pi[t],y=n[v],_=void 0!==s[v]?s[v]:c[v],b=d(_),w=v===o?y.isActive:null;!1===w&&(g=t);let x=_===c[v]&&_!==s[v]&&b;if(x&&i&&e.manuallyAnimateOnMount&&(x=!1),y.protectedKeys=(0,a.A)({},m),!y.isActive&&null===w||!_&&!y.prevProp||l(_)||"boolean"===typeof _)continue;const k=vi(y.prevProp,_);let C=k||v===o&&y.isActive&&!x&&b||t>g&&b,S=!1;const E=Array.isArray(_)?_:[_];let T=E.reduce(r(v),{});!1===w&&(T={});const{prevResolvedValues:P={}}=y,I=(0,a.A)((0,a.A)({},P),T),R=t=>{C=!0,f.has(t)&&(S=!0,f.delete(t)),y.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in I){const t=T[e],n=P[e];if(m.hasOwnProperty(e))continue;let i=!1;i=u(t)&&u(n)?!h(t,n):t!==n,i?void 0!==t&&null!==t?R(e):f.add(e):void 0!==t&&f.has(e)?R(e):y.protectedKeys[e]=!0}y.prevProp=_,y.prevResolvedValues=T,y.isActive&&(m=(0,a.A)((0,a.A)({},m),T)),i&&e.blockInitialAnimation&&(C=!1);C&&(!(x&&k)||S)&&p.push(...E.map(e=>({animation:e,options:{type:v}})))}if(f.size){const t={};f.forEach(n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null}),p.push({animation:t})}let v=Boolean(p.length);return!i||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(v=!1),i=!1,v?t(p):Promise.resolve()}return{animateChanges:o,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)}),n[t].isActive=i;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=_i(),i=!0}}}function vi(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!h(t,e)}function yi(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _i(){return{animate:yi(!0),whileInView:yi(),whileHover:yi(),whileTap:yi(),whileDrag:yi(),whileFocus:yi(),exit:yi()}}class bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}let wi=0;const xi={animation:{Feature:class extends bi{constructor(e){super(e),e.animationState||(e.animationState=gi(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();l(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends bi{constructor(){super(...arguments),this.id=wi++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function ki(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Ci(e){return{point:{x:e.pageX,y:e.pageY}}}function Si(e,t,n,i){return ki(e,t,(e=>t=>B(t)&&e(t,Ci(t)))(n),i)}const Ei=(e,t)=>Math.abs(e-t);class Ti{constructor(e,t){let{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ri(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ei(e.x,t.x),i=Ei(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=le;this.history.push((0,a.A)((0,a.A)({},i),{},{timestamp:r}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Pi(t,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Ri("pointercancel"===e.type?this.lastMoveEventInfo:Pi(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),i&&i(e,o)},!B(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=Pi(Ci(e),this.transformPagePoint),{point:s}=o,{timestamp:l}=le;this.history=[(0,a.A)((0,a.A)({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Ri(o,this.history)),this.removeListeners=gn(Si(this.contextWindow,"pointermove",this.handlePointerMove),Si(this.contextWindow,"pointerup",this.handlePointerUp),Si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ae(this.updatePoint)}}function Pi(e,t){return t?{point:t(e.point)}:e}function Ii(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ri(e,t){let{point:n}=e;return{point:n,delta:Ii(n,Di(t)),offset:Ii(n,Ai(t)),velocity:Oi(t,.1)}}function Ai(e){return e[0]}function Di(e){return e[e.length-1]}function Oi(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=Di(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>$(t)));)n--;if(!i)return{x:0,y:0};const o=Q(r.timestamp-i.timestamp);if(0===o)return{x:0,y:0};const s={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ni(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Mi(e){return e.max-e.min}function Fi(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=ln(t.min,t.max,e.origin),e.scale=Mi(n)/Mi(t),e.translate=ln(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Li(e,t,n,i){Fi(e.x,t.x,n.x,i?i.originX:void 0),Fi(e.y,t.y,n.y,i?i.originY:void 0)}function zi(e,t,n){e.min=n.min+t.min,e.max=e.min+Mi(t)}function ji(e,t,n){e.min=t.min-n.min,e.max=e.min+Mi(t)}function Ui(e,t,n){ji(e.x,t.x,n.x),ji(e.y,t.y,n.y)}function Vi(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Bi(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const Wi=.35;function qi(e,t,n){return{min:Hi(e,t),max:Hi(e,n)}}function Hi(e,t){return"number"===typeof e?e:e[t]||0}const Ki=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Gi(e){return[e("x"),e("y")]}function Yi(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}function $i(e){return void 0===e||1===e}function Qi(e){let{scale:t,scaleX:n,scaleY:i}=e;return!$i(t)||!$i(n)||!$i(i)}function Xi(e){return Qi(e)||Ji(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ji(e){return Zi(e.x)||Zi(e.y)}function Zi(e){return e&&"0%"!==e}function er(e,t,n){return n+t*(e-n)}function tr(e,t,n,i,r){return void 0!==r&&(e=er(e,r,i)),er(e,n,i)+t}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=tr(e.min,t,n,i,r),e.max=tr(e.max,t,n,i,r)}function ir(e,t){let{x:n,y:i}=t;nr(e.x,n.translate,n.scale,n.originPoint),nr(e.y,i.translate,i.scale,i.originPoint)}const rr=.999999999999,or=1.0000000000001;function sr(e,t){e.min=e.min+t,e.max=e.max+t}function ar(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;nr(e,t,n,ln(e.min,e.max,r),i)}function lr(e,t){ar(e.x,t.x,t.scaleX,t.scale,t.originX),ar(e.y,t.y,t.scaleY,t.scale,t.originY)}function cr(e,t){return Yi(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const ur=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},hr=new WeakMap;class dr{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Ti(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ci(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?L[o]?null:(L[o]=!0,()=>{L[o]=!1}):L.x||L.y?null:(L.x=L.y=!0,()=>{L.x=L.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tt.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=Mi(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&se.postRender(()=>r(e,t)),ke(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Gi(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:ur(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&se.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!pr(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?ln(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?ln(r,e,n.max):Math.min(e,r)),e}(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&Ni(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:r,right:o}=t;return{x:Vi(e.x,i,o),y:Vi(e.y,n,r)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return!1===e?e=0:!0===e&&(e=Wi),{x:qi(e,"left","right"),y:qi(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gi(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ni(e))return!1;const n=e.current;Bt(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=cr(e,n),{scroll:r}=t;return r&&(sr(i.x,r.offset.x),sr(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Bi(e.x,t.x),y:Bi(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Yi(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Gi(s=>{if(!pr(s,t,this.currentDirection))return;let c=l&&l[s]||{};o&&(c={min:0,max:0});const u=i?200:1e6,h=i?40:1e7,d=(0,a.A)((0,a.A)({type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},r),c);return this.startAxisValueAnimation(s,d)});return Promise.all(c).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ke(this.visualElement,e),n.start(ri(e,n,0,t,this.visualElement,!1))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gi(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Gi(t=>{const{drag:n}=this.getProps();if(!pr(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:o}=i.layout.layoutBox[t];r.set(e[t]-ln(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ni(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gi(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=Mi(e),r=Mi(t);return r>i?n=A(t.min,t.max-i,e.min):i>r&&(n=A(e.min,e.max-r,t.min)),Ve(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gi(t=>{if(!pr(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:o}=this.constraints[t];n.set(ln(r,o,i[t]))})}addListeners(){if(!this.visualElement.current)return;hr.set(this.visualElement,this);const e=Si(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ni(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),se.read(t);const r=ki(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Gi(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Wi,dragMomentum:s=!0}=e;return(0,a.A)((0,a.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:s})}}function pr(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const fr=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};var mr=n(579);const gr=(0,i.createContext)(null);const vr=(0,i.createContext)({}),yr=(0,i.createContext)({}),_r={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function br(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wr={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!nt.test(e))return e;e=parseFloat(e)}const n=br(e,t.target.x),i=br(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},xr={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const r=e,o=gt.parse(e);if(o.length>5)return r;const s=gt.createTransformer(e),a="number"!==typeof o[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=ln(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}},kr={};const{schedule:Cr,cancel:Sr}=oe(queueMicrotask,!1);class Er extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;var o;o=Pr,Object.assign(kr,o),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions((0,a.A)((0,a.A)({},r.options),{},{onExitComplete:()=>this.safeToRemove()}))),_r.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,o=n.projection;return o?(o.isPresent=r,i||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||se.postRender(()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tr(e){const[t,n]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(gr);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{e&&o(s)},[e]);const a=(0,i.useCallback)(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}(),r=(0,i.useContext)(vr);return(0,mr.jsx)(Er,(0,a.A)((0,a.A)({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(yr),isPresent:t,safeToRemove:n}))}const Pr={borderRadius:(0,a.A)((0,a.A)({},wr),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:wr,borderTopRightRadius:wr,borderBottomLeftRadius:wr,borderBottomRightRadius:wr,boxShadow:xr};const Ir=(e,t)=>e.depth-t.depth;class Rr{constructor(){this.children=[],this.isDirty=!1}add(e){pe(this.children,e),this.isDirty=!0}remove(e){fe(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ir),this.isDirty=!1,this.children.forEach(e)}}function Ar(e,t){const n=de.now(),i=r=>{let{timestamp:o}=r;const s=o-n;s>=t&&(ae(i),e(s-t))};return se.read(i,!0),()=>ae(i)}function Dr(e){const t=xe(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Or=["TopLeft","TopRight","BottomLeft","BottomRight"],Nr=Or.length,Mr=e=>"string"===typeof e?parseFloat(e):e,Fr=e=>"number"===typeof e||nt.test(e);function Lr(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const zr=Ur(0,.5,Le),jr=Ur(.5,.95,X);function Ur(e,t,n){return i=>i<e?0:i>t?1:n(A(e,t,i))}function Vr(e,t){e.min=t.min,e.max=t.max}function Br(e,t){Vr(e.x,t.x),Vr(e.y,t.y)}function Wr(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qr(e,t,n,i,r){return e=er(e-=t,1/n,i),void 0!==r&&(e=er(e,1/r,i)),e}function Hr(e,t,n,i,r){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;tt.test(t)&&(t=parseFloat(t),t=ln(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=ln(o.min,o.max,i);e===o&&(a-=t),e.min=qr(e.min,t,n,a,r),e.max=qr(e.max,t,n,a,r)}(e,t[o],t[s],t[a],t.scale,i,r)}const Kr=["x","scaleX","originX"],Gr=["y","scaleY","originY"];function Yr(e,t,n,i){Hr(e.x,t,Kr,n?n.x:void 0,i?i.x:void 0),Hr(e.y,t,Gr,n?n.y:void 0,i?i.y:void 0)}function $r(e){return 0===e.translate&&1===e.scale}function Qr(e){return $r(e.x)&&$r(e.y)}function Xr(e,t){return e.min===t.min&&e.max===t.max}function Jr(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Zr(e,t){return Jr(e.x,t.x)&&Jr(e.y,t.y)}function eo(e){return Mi(e.x)/Mi(e.y)}function to(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class no{constructor(){this.members=[]}add(e){pe(this.members,e),e.scheduleRender()}remove(e){if(fe(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ro="undefined"!==typeof window&&void 0!==window.MotionDebug,oo=["","X","Y","Z"],so={visibility:"hidden"};let ao=0;function lo(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function co(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ee(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&co(i)}function uo(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=ao++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ro&&(io.totalNodes=io.resolvedTargetDeltas=io.recalculatedProjection=0),this.nodes.forEach(fo),this.nodes.forEach(wo),this.nodes.forEach(xo),this.nodes.forEach(mo),ro&&window.MotionDebug.record(io)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rr)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new me),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;const{layoutId:r,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||r)&&(this.isLayoutDirty=!0),t){let n;const i=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Ar(i,250),_r.hasAnimatedSinceResize&&(_r.hasAnimatedSinceResize=!1,this.nodes.forEach(bo))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:i,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||Po,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=s.getProps(),u=!this.targetLayout||!Zr(this.targetLayout,r)||i,h=!n&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,h);const e=(0,a.A)((0,a.A)({},x(o,"layout")),{},{onPlay:l,onComplete:c});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||bo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ko),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&co(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vo);this.isUpdating||this.nodes.forEach(yo),this.isUpdating=!1,this.nodes.forEach(_o),this.nodes.forEach(ho),this.nodes.forEach(po),this.clearAllSnapshots();const e=de.now();le.delta=Ve(0,1e3/60,e-le.timestamp),le.timestamp=e,le.isProcessing=!0,ce.update.process(le),ce.preRender.process(le),ce.render.process(le),le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(go),this.sharedNodes.forEach(Co)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Qr(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&(t||Xi(this.latestValues)||r)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),Ao((i=n).x),Ao(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Oo))){const{scroll:e}=this.root;e&&(sr(n.x,e.offset.x),sr(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Br(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:o}=t;t!==this.root&&r&&o.layoutScroll&&(r.wasRoot&&Br(n,e),sr(n.x,r.offset.x),sr(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Br(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&lr(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Xi(e.latestValues)&&lr(n,e.latestValues)}return Xi(this.latestValues)&&lr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Br(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Xi(e.latestValues))continue;Qi(e.latestValues)&&e.updateSnapshot();const i=Ki();Br(i,e.measurePageBox()),Yr(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return Xi(this.latestValues)&&Yr(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,a.A)((0,a.A)((0,a.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:o}=this.options;if(this.layout&&(r||o)){if(this.resolvedRelativeTargetAt=le.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ui(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,zi(s.x,a.x,l.x),zi(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),ir(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ui(this.relativeTargetOrigin,this.target,e.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ro&&io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Qi(this.parent.latestValues)&&!Ji(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===le.timestamp&&(i=!1),i)return;const{layout:r,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!o)return;Br(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let o,s;t.x=t.y=1;for(let a=0;a<r;a++){o=n[a],s=o.projectionDelta;const{visualElement:r}=o.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&lr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ir(e,s)),i&&Xi(o.latestValues)&&lr(e,o.latestValues))}t.x<or&&t.x>rr&&(t.x=1),t.y<or&&t.y>rr&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Wr(this.prevProjectionDelta.x,this.projectionDelta.x),Wr(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Li(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&to(this.projectionDelta.x,this.prevProjectionDelta.x)&&to(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ro&&io.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=(0,a.A)({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,h=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(To));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var a,c,p,f,m,g;So(o.x,e.x,n),So(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ui(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=s,g=n,Eo(p.x,f.x,m.x,g),Eo(p.y,f.y,m.y,g),d&&(a=this.relativeTarget,c=d,Xr(a.x,c.x)&&Xr(a.y,c.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Br(d,this.relativeTarget)),l&&(this.animationValues=r,function(e,t,n,i,r,o){r?(e.opacity=ln(0,void 0!==n.opacity?n.opacity:1,zr(i)),e.opacityExit=ln(void 0!==t.opacity?t.opacity:1,0,jr(i))):o&&(e.opacity=ln(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let s=0;s<Nr;s++){const r="border".concat(Or[s],"Radius");let o=Lr(t,r),a=Lr(n,r);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||Fr(o)===Fr(a)?(e[r]=Math.max(ln(Mr(o),Mr(a),i),0),(tt.test(a)||tt.test(o))&&(e[r]+="%")):e[r]=a)}(t.rotate||n.rotate)&&(e.rotate=ln(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,h,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{_r.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const i=xe(e)?e:_e(e);return i.start(ri("",i,t,n)),i.animation}(0,1e3,(0,a.A)((0,a.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&Do(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Mi(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=Mi(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}Br(t,n),lr(t,r),Li(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new no);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&lo("z",e,i,this.animationValues);for(let r=0;r<oo.length;r++)lo("rotate".concat(oo[r]),e,i,this.animationValues),lo("skew".concat(oo[r]),e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return so;const i={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Dr(null===e||void 0===e?void 0:e.pointerEvents)||"",i.transform=r?r(this.latestValues,""):"none",i;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Dr(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=function(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((r||o||s)&&(i="translate3d(".concat(r,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:o,skewX:s,skewY:a}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),o&&(i+="rotateY(".concat(o,"deg) ")),s&&(i+="skewX(".concat(s,"deg) ")),a&&(i+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(i+="scale(".concat(a,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),r&&(i.transform=r(s,i.transform));const{x:a,y:l}=this.projectionDelta;i.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?i.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:i.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in kr){if(void 0===s[c])continue;const{correct:e,applyTo:t}=kr[c],n="none"===i.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let r=0;r<e;r++)i[t[r]]=n}else i[c]=n}return this.options.layoutId&&(i.pointerEvents=o===this?Dr(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(vo),this.root.sharedNodes.clear()}}}function ho(e){e.updateLayout()}function po(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,o=n.source!==e.layout.source;"size"===r?Gi(e=>{const i=o?n.measuredBox[e]:n.layoutBox[e],r=Mi(i);i.min=t[e].min,i.max=i.min+r}):Do(r,n.layoutBox,t)&&Gi(i=>{const r=o?n.measuredBox[i]:n.layoutBox[i],s=Mi(t[i]);r.max=r.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Li(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Li(a,e.applyTransform(i,!0),n.measuredBox):Li(a,t,n.layoutBox);const l=!Qr(s);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:o}=i;if(r&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};Ui(s,n.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ui(a,t,o.layoutBox),Zr(s,a)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function fo(e){ro&&io.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function go(e){e.clearSnapshot()}function vo(e){e.clearMeasurements()}function yo(e){e.isLayoutDirty=!1}function _o(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wo(e){e.resolveTargetDelta()}function xo(e){e.calcProjection()}function ko(e){e.resetSkewAndRotation()}function Co(e){e.removeLeadSnapshot()}function So(e,t,n){e.translate=ln(t.translate,0,n),e.scale=ln(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Eo(e,t,n,i){e.min=ln(t.min,n.min,i),e.max=ln(t.max,n.max,i)}function To(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Po={duration:.45,ease:[.4,0,.1,1]},Io=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ro=Io("applewebkit/")&&!Io("chrome/")?Math.round:X;function Ao(e){e.min=Ro(e.min),e.max=Ro(e.max)}function Do(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=eo(t),r=eo(n),o=.2,!(Math.abs(i-r)<=o));var i,r,o}function Oo(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const No=uo({attachResizeListener:(e,t)=>ki(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mo={current:void 0},Fo=uo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mo.current){const e=new No({});e.mount(window),e.setOptions({layoutScroll:!0}),Mo.current=e}return Mo.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Lo={pan:{Feature:class extends bi{constructor(){super(...arguments),this.removePointerDownListener=X}onPointerDown(e){this.session=new Ti(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ur(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:fr(e),onStart:fr(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&se.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=Si(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends bi{constructor(e){super(e),this.removeGroupControls=X,this.removeListeners=X,this.controls=new dr(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||X}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Fo,MeasureLayout:Tr}};function zo(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&se.postRender(()=>r(t,Ci(t)))}function jo(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&se.postRender(()=>r(t,Ci(t)))}const Uo=["root"],Vo=new WeakMap,Bo=new WeakMap,Wo=e=>{const t=Vo.get(e.target);t&&t(e)},qo=e=>{e.forEach(Wo)};function Ho(e,t,n){const i=function(e){let{root:t}=e,n=c(e,Uo);const i=t||document;Bo.has(i)||Bo.set(i,{});const r=Bo.get(i),o=JSON.stringify(n);return r[o]||(r[o]=new IntersectionObserver(qo,(0,a.A)({root:t},n))),r[o]}(t);return Vo.set(e,n),i.observe(e),()=>{Vo.delete(e),i.unobserve(e)}}const Ko={some:0,all:1};const Go={inView:{Feature:class extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:Ko[i]};return Ho(this.node.current,o,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),o=t?n:i;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=Y(e,e=>(jo(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return jo(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gn(ki(this.node.current,"focus",()=>this.onFocus()),ki(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,o]=j(e,n),s=U(e=>{const{target:n}=e,i=t(e);if("function"!==typeof i||!n)return;const o=U(e=>{i(e),n.removeEventListener("pointerleave",o)});n.addEventListener("pointerleave",o,r)});return i.forEach(e=>{e.addEventListener("pointerenter",s,r)}),o}(e,e=>(zo(this.node,e,"Start"),e=>zo(this.node,e,"End"))))}unmount(){}}}},Yo={layout:{ProjectionNode:Fo,MeasureLayout:Tr}},$o=(0,i.createContext)({strict:!1}),Qo=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xo=(0,i.createContext)({});function Jo(e){return l(e.animate)||v.some(t=>d(e[t]))}function Zo(e){return Boolean(Jo(e)||e.variants)}function es(e){const{initial:t,animate:n}=function(e,t){if(Jo(e)){const{initial:t,animate:n}=e;return{initial:!1===t||d(t)?t:void 0,animate:d(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Xo));return(0,i.useMemo)(()=>({initial:t,animate:n}),[ts(t),ts(n)])}function ts(e){return Array.isArray(e)?e.join(" "):e}const ns="undefined"!==typeof window,is={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rs={};for(const US in is)rs[US]={isEnabled:e=>is[US].some(t=>!!e[t])};const os=Symbol.for("motionComponentSymbol");function ss(e,t,n){return(0,i.useCallback)(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&("function"===typeof n?n(i):Ni(n)&&(n.current=i))},[t])}const as=ns?i.useLayoutEffect:i.useEffect;function ls(e,t,n,r,o){var s,a;const{visualElement:l}=(0,i.useContext)(Xo),c=(0,i.useContext)($o),u=(0,i.useContext)(gr),h=(0,i.useContext)(Qo).reducedMotion,d=(0,i.useRef)(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const p=d.current,f=(0,i.useContext)(yr);!p||p.projection||!o||"html"!==p.type&&"svg"!==p.type||function(e,t,n,i){const{layoutId:r,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cs(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Ni(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}(d.current,n,o,f);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{p&&m.current&&p.update(n,u)});const g=n[Se],v=(0,i.useRef)(Boolean(g)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return as(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Cr.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),(0,i.useEffect)(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),v.current=!1))}),p}function cs(e){if(e)return!1!==e.options.allowProjection?e.projection:cs(e.parent)}function us(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:s}=e;var l,c;function u(e,t){let l;const c=(0,a.A)((0,a.A)((0,a.A)({},(0,i.useContext)(Qo)),e),{},{layoutId:hs(e)}),{isStatic:u}=c,h=es(e),d=o(e,u);if(!u&&ns){!function(){(0,i.useContext)($o).strict;0}();const e=function(e){const{drag:t,layout:n}=rs;if(!t&&!n)return{};const i=(0,a.A)((0,a.A)({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(c);l=e.MeasureLayout,h.visualElement=ls(s,d,c,n,e.ProjectionNode)}return(0,mr.jsxs)(Xo.Provider,{value:h,children:[l&&h.visualElement?(0,mr.jsx)(l,(0,a.A)({visualElement:h.visualElement},c)):null,r(s,e,ss(d,h.visualElement,t),d,u,h.visualElement)]})}t&&function(e){for(const t in e)rs[t]=(0,a.A)((0,a.A)({},rs[t]),e[t])}(t),u.displayName="motion.".concat("string"===typeof s?s:"create(".concat(null!==(c=null!==(l=s.displayName)&&void 0!==l?l:s.name)&&void 0!==c?c:"",")"));const h=(0,i.forwardRef)(u);return h[os]=s,h}function hs(e){let{layoutId:t}=e;const n=(0,i.useContext)(vr).id;return n&&void 0!==t?n+"-"+t:t}const ds=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ps(e){return"string"===typeof e&&!e.includes("-")&&!!(ds.indexOf(e)>-1||/[A-Z]/.test(e))}const fs=["transitionEnd","transition"];const ms=e=>(t,n)=>{const r=(0,i.useContext)(Xo),o=(0,i.useContext)(gr),s=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:o,onUpdate:s}=e;const l={latestValues:gs(t,n,i,r),renderState:o()};return s&&(l.onMount=e=>s((0,a.A)({props:t,current:e},l)),l.onUpdate=e=>s(e)),l}(e,t,r,o);return n?s():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(s)};function gs(e,t,n,i){const r={},o=i(e,{});for(const l in o)r[l]=Dr(o[l]);let{initial:s,animate:a}=e;const u=Jo(e),h=Zo(e);t&&h&&!u&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const p=d?a:s;if(p&&"boolean"!==typeof p&&!l(p)){const t=Array.isArray(p)?p:[p];for(let n=0;n<t.length;n++){const i=f(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=c(i,fs);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const vs=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ys={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_s=J.length;function bs(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(Z.has(l))s=!0;else if(Ht(l))r[l]=e;else{const t=vs(e,Ct[l]);l.startsWith("origin")?(a=!0,o[l]=t):i[l]=t}}if(t.transform||(s||n?i.transform=function(e,t,n){let i="",r=!0;for(let o=0;o<_s;o++){const s=J[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=vs(a,Ct[s]);l||(r=!1,i+="".concat(ys[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const ws={offset:"stroke-dashoffset",array:"stroke-dasharray"},xs={offset:"strokeDashoffset",array:"strokeDasharray"};function ks(e,t,n){return"string"===typeof e?e:nt.transform(t+n*e)}const Cs=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Ss(e,t,n,i){let{attrX:r,attrY:o,attrScale:s,originX:a,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:d=0}=t;if(bs(e,c(t,Cs),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const i=ks(t,e.x,e.width),r=ks(n,e.y,e.height);return"".concat(i," ").concat(r)}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==r&&(p.x=r),void 0!==o&&(p.y=o),void 0!==s&&(p.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=r?ws:xs;e[o.offset]=nt.transform(-i);const s=nt.transform(t),a=nt.transform(n);e[o.array]="".concat(s," ").concat(a)}(p,u,h,d,!1)}const Es=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ts=()=>(0,a.A)((0,a.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Ps=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Is(e,t,n,i){let{style:r,vars:o}=t;Object.assign(e.style,r,i&&i.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const Rs=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function As(e,t,n,i){Is(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Rs.has(r)?r:Ce(r),t.attrs[r])}function Ds(e,t){let{layout:n,layoutId:i}=t;return Z.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!kr[e]||"opacity"===e)}function Os(e,t,n){var i;const{style:r}=e,o={};for(const s in r)(xe(r[s])||t.style&&xe(t.style[s])||Ds(s,e)||void 0!==(null===(i=null===n||void 0===n?void 0:n.getValue(s))||void 0===i?void 0:i.liveStyle))&&(o[s]=r[s]);return o}function Ns(e,t,n){const i=Os(e,t,n);for(const r in e)if(xe(e[r])||xe(t[r])){i[-1!==J.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}const Ms=["x","y","width","height","cx","cy","r"],Fs={useVisualState:ms({scrapeMotionValuesFromProps:Ns,createRenderState:Ts,onUpdate:e=>{let{props:t,prevProps:n,current:i,renderState:r,latestValues:o}=e;if(!i)return;let s=!!t.drag;if(!s)for(const l in o)if(Z.has(l)){s=!0;break}if(!s)return;let a=!n;if(n)for(let l=0;l<Ms.length;l++){const e=Ms[l];t[e]!==n[e]&&(a=!0)}a&&se.read(()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}(i,r),se.render(()=>{Ss(r,o,Ps(i.tagName),t.transformTemplate),As(i,r)})})}})},Ls={useVisualState:ms({scrapeMotionValuesFromProps:Os,createRenderState:Es})};function zs(e,t,n){for(const i in t)xe(t[i])||Ds(i,n)||(e[i]=t[i])}function js(e,t){const n={};return zs(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return bs(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function Us(e,t){const n={},i=js(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Vs=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bs(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vs.has(e)}let Ws=e=>!Bs(e);try{(qs=require("@emotion/is-prop-valid").default)&&(Ws=e=>e.startsWith("on")?!Bs(e):qs(e))}catch(zS){}var qs;function Hs(e,t,n,r){const o=(0,i.useMemo)(()=>{const n=Ts();return Ss(n,t,Ps(r),e.transformTemplate),(0,a.A)((0,a.A)({},n.attrs),{},{style:(0,a.A)({},n.style)})},[t]);if(e.style){const t={};zs(t,e.style,e),o.style=(0,a.A)((0,a.A)({},t),o.style)}return o}function Ks(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,s)=>{let{latestValues:l}=o;const c=(ps(t)?Hs:Us)(n,l,s,t),u=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"===typeof e.values||(Ws(r)||!0===n&&Bs(r)||!t&&!Bs(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(n,"string"===typeof t,e),h=t!==i.Fragment?(0,a.A)((0,a.A)((0,a.A)({},u),c),{},{ref:r}):{},{children:d}=n,p=(0,i.useMemo)(()=>xe(d)?d.get():d,[d]);return(0,i.createElement)(t,(0,a.A)((0,a.A)({},h),{},{children:p}))}}function Gs(e,t){return function(n){let{forwardMotionProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const r=ps(n)?Fs:Ls;return us((0,a.A)((0,a.A)({},r),{},{preloadedFeatures:e,useRender:Ks(i),createVisualElement:t,Component:n}))}}const Ys={current:null},$s={current:!1};const Qs=[...Jt,at,gt],Xs=new WeakMap;const Js=["willChange"],Zs=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ea{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:s}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ut,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=de.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,se.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:d}=s;this.onUpdate=d,this.latestValues=u,this.baseTarget=(0,a.A)({},u),this.initialValues=n.initial?(0,a.A)({},u):{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Jo(n),this.isVariantNode=Zo(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const p=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=p,m=c(p,Js);for(const a in m){const e=m[a];void 0!==u[a]&&xe(e)&&e.set(u[a],!1)}}mount(e){this.current=e,Xs.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),$s.current||function(){if($s.current=!0,ns)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ys.current=e.matches;e.addListener(t),t()}else Ys.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ys.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xs.delete(this.current),this.projection&&this.projection.unmount(),ae(this.notifyUpdate),ae(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Z.has(e),i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&se.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in rs){const t=rs[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Zs.length;n++){const t=Zs[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],o=n[i];if(xe(r))e.addValue(i,r);else if(xe(o))e.addValue(i,_e(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,_e(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=_e(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==i&&null!==i&&("string"===typeof i&&(Wt(i)||je(i))?i=parseFloat(i):(r=i,!Qs.find(Xt(r))&&gt.test(t)&&(i=Tt(e,t))),this.setBaseTarget(e,xe(i)?i.get():i)),xe(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if("string"===typeof n||"object"===typeof n){const r=f(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(i=r[e])}if(n&&void 0!==i)return i;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||xe(r)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new me),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}}class ta extends ea{constructor(){super(...arguments),this.KeyframeResolver=en}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xe(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}class na extends ta{constructor(){super(...arguments),this.type="html",this.renderInstance=Is}readValueFromInstance(e,t){if(Z.has(t)){const e=Et(t);return e&&e.default||0}{const i=(n=e,window.getComputedStyle(n)),r=(Ht(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof r?r.trim():r}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return cr(e,n)}build(e,t,n){bs(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Os(e,t,n)}}class ia extends ta{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ki}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Z.has(t)){const e=Et(t);return e&&e.default||0}return t=Rs.has(t)?t:Ce(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Ns(e,t,n)}build(e,t,n){Ss(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){As(e,t,0,i)}mount(e){this.isSVGTag=Ps(e.tagName),super.mount(e)}}const ra=(e,t)=>ps(e)?new ia(t):new na(t,{allowProjection:e!==i.Fragment}),oa=s(Gs((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},xi),Go),Lo),Yo),ra));var sa,aa=n(950),la=n.t(aa,2);function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ca.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(sa||(sa={}));const ua="popstate";function ha(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function da(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function pa(e,t){return{usr:e.state,key:e.key,idx:t}}function fa(e,t,n,i){return void 0===n&&(n=null),ca({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ga(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function ma(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function va(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=sa.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=sa.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:ma(e);return n=n.replace(/ $/,"%20"),ha(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(ca({},s.state,{idx:c}),""));let p={get action(){return a},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ua,h),l=e,()=>{r.removeEventListener(ua,h),l=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=sa.Push;let i=fa(p.location,e,t);n&&n(i,e),c=u()+1;let h=pa(i,c),d=p.createHref(i);try{s.pushState(h,"",d)}catch(uf){if(uf instanceof DOMException&&"DataCloneError"===uf.name)throw uf;r.location.assign(d)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=sa.Replace;let i=fa(p.location,e,t);n&&n(i,e),c=u();let r=pa(i,c),h=p.createHref(i);s.replaceState(r,"",h),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}var ya;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ya||(ya={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _a(e,t,n){return void 0===n&&(n="/"),ba(e,t,n,!1)}function ba(e,t,n,i){let r=Na(("string"===typeof t?ga(t):t).pathname||"/",n);if(null==r)return null;let o=wa(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=Oa(r);s=Aa(o[a],e,i)}return s}function wa(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(ha(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=ja([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(ha(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),wa(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Ra(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of xa(e.path))r(e,t,i);else r(e,t)}),t}function xa(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=xa(i.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),r&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const ka=/^:[\w-]+$/,Ca=3,Sa=2,Ea=1,Ta=10,Pa=-2,Ia=e=>"*"===e;function Ra(e,t){let n=e.split("/"),i=n.length;return n.some(Ia)&&(i+=Pa),t&&(i+=Sa),n.filter(e=>!Ia(e)).reduce((e,t)=>e+(ka.test(t)?Ca:""===t?Ea:Ta),i)}function Aa(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},o="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===o?t:t.slice(o.length)||"/",u=Da({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=Da({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:ja([o,u.pathname]),pathnameBase:Ua(ja([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=ja([o,u.pathnameBase]))}return s}function Da(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);da("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function Oa(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(uf){return da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+uf+")."),e}}function Na(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Ma(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Fa(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function La(e,t){let n=Fa(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function za(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=ga(e):(r=ca({},e),ha(!r.pathname||!r.pathname.includes("?"),Ma("?","pathname","search",r)),ha(!r.pathname||!r.pathname.includes("#"),Ma("#","pathname","hash",r)),ha(!r.search||!r.search.includes("#"),Ma("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?ga(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Va(i),hash:Ba(r)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ja=e=>e.join("/").replace(/\/\/+/g,"/"),Ua=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Va=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ba=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Wa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const qa=["post","put","patch","delete"],Ha=(new Set(qa),["get",...qa]);new Set(Ha),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ka.apply(this,arguments)}const Ga=i.createContext(null);const Ya=i.createContext(null);const $a=i.createContext(null);const Qa=i.createContext(null);const Xa=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Ja=i.createContext(null);function Za(){return null!=i.useContext(Qa)}function el(){return Za()||ha(!1),i.useContext(Qa).location}function tl(e){i.useContext($a).static||i.useLayoutEffect(e)}function nl(){let{isDataRoute:e}=i.useContext(Xa);return e?function(){let{router:e}=hl(cl.UseNavigateStable),t=pl(ul.UseNavigateStable),n=i.useRef(!1);tl(()=>{n.current=!0});let r=i.useCallback(function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,Ka({fromRouteId:t},r)))},[e,t]);return r}():function(){Za()||ha(!1);let e=i.useContext(Ga),{basename:t,future:n,navigator:r}=i.useContext($a),{matches:o}=i.useContext(Xa),{pathname:s}=el(),a=JSON.stringify(La(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return tl(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=za(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:ja([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e])}()}function il(e,t,n,r){Za()||ha(!1);let{navigator:o}=i.useContext($a),{matches:s}=i.useContext(Xa),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,h=el();if(t){var d;let e="string"===typeof t?ga(t):t;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||ha(!1),u=e}else u=h;let p=u.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=_a(e,{pathname:f});let g=ll(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ja([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ja([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&g?i.createElement(Qa.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sa.Pop}},g):g}function rl(){let e=function(){var e;let t=i.useContext(Ja),n=dl(ul.UseRouteError),r=pl(ul.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Wa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ol=i.createElement(rl,null);class sl extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Xa.Provider,{value:this.props.routeContext},i.createElement(Ja.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function al(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Ga);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Xa.Provider,{value:t},r)}function ll(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||ha(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,h=!1,d=null,p=null;var f;n&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ol,c&&(u<0&&0===o?(f="route-fallback",!1||fl[f]||(fl[f]=!0),h=!0,p=null):u===o&&(h=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?d:h?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(al,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(sl,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var cl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cl||{}),ul=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ul||{});function hl(e){let t=i.useContext(Ga);return t||ha(!1),t}function dl(e){let t=i.useContext(Ya);return t||ha(!1),t}function pl(e){let t=function(){let e=i.useContext(Xa);return e||ha(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||ha(!1),n.route.id}const fl={};function ml(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function gl(e){let{to:t,replace:n,state:r,relative:o}=e;Za()||ha(!1);let{future:s,static:a}=i.useContext($a),{matches:l}=i.useContext(Xa),{pathname:c}=el(),u=nl(),h=za(t,La(l,s.v7_relativeSplatPath),c,"path"===o),d=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:o}),[u,d,o,n,r]),null}function vl(e){ha(!1)}function yl(e){let{basename:t="/",children:n=null,location:r,navigationType:o=sa.Pop,navigator:s,static:a=!1,future:l}=e;Za()&&ha(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo(()=>({basename:c,navigator:s,static:a,future:Ka({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);"string"===typeof r&&(r=ga(r));let{pathname:h="/",search:d="",hash:p="",state:f=null,key:m="default"}=r,g=i.useMemo(()=>{let e=Na(h,c);return null==e?null:{location:{pathname:e,search:d,hash:p,state:f,key:m},navigationType:o}},[c,h,d,p,f,m,o]);return null==g?null:i.createElement($a.Provider,{value:u},i.createElement(Qa.Provider,{children:n,value:g}))}function _l(e){let{children:t,location:n}=e;return il(bl(t),n)}new Promise(()=>{});i.Component;function bl(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,bl(e.props.children,o));e.type!==vl&&ha(!1),e.props.index&&e.props.children&&ha(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=bl(e.props.children,o)),n.push(s)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(jS){}new Map;const wl=r.startTransition;la.flushSync,r.useId;function xl(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),va(function(e,t){let{pathname:n="/",search:i="",hash:r=""}=ga(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),fa("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:ma(t))},function(e,t){da("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&wl?wl(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>ml(r),[r]),i.createElement(yl,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var kl,Cl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kl||(kl={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Cl||(Cl={}));const Sl=!1,El=!1,Tl="${JSCORE_VERSION}",Pl=function(e,t){if(!e)throw Il(t)},Il=function(e){return new Error("Firebase Database ("+Tl+") INTERNAL ASSERT FAILED: "+e)},Rl=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Al={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const s=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==s||null==a)throw new Dl;const l=t<<2|o>>4;if(i.push(l),64!==s){const e=o<<4&240|s>>2;if(i.push(e),64!==a){const e=s<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Dl extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ol=function(e){const t=Rl(e);return Al.encodeByteArray(t,!0)},Nl=function(e){return Ol(e).replace(/\./g,"")},Ml=function(e){try{return Al.decodeString(e,!0)}catch(jS){console.error("base64Decode failed: ",jS)}return null};function Fl(e){return Ll(void 0,e)}function Ll(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&zl(n)&&(e[n]=Ll(e[n],t[n]));return e}function zl(e){return"__proto__"!==e}const jl=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ul=()=>{try{return jl()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/taptap-new",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(jS){return}const t=e&&Ml(e[1]);return t&&JSON.parse(t)})()}catch(jS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(jS))}},Vl=e=>{var t,n;return null===(n=null===(t=Ul())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bl=()=>{var e;return null===(e=Ul())||void 0===e?void 0:e.config},Wl=e=>{var t;return null===(t=Ul())||void 0===t?void 0:t["_".concat(e)]};class ql{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Hl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kl(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hl())}function Gl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Yl(){return!0===Sl||!0===El}class $l extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(Xl,(e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,t):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new $l(n,o,t)}}const Xl=/\{\$([^}]+)}/g;function Jl(e){return JSON.parse(e)}function Zl(e){return JSON.stringify(e)}const ec=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=Jl(Ml(o[0])||""),n=Jl(Ml(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(jS){}return{header:t,claims:n,data:i,signature:r}};function tc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nc(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ic(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rc(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function oc(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(sc(n)&&sc(o)){if(!oc(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function sc(e){return null!==e&&"object"===typeof e}function ac(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function cc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class uc{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):u<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const e=(o<<5|o>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class hc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=dc),void 0===i.error&&(i.error=dc),void 0===i.complete&&(i.complete=dc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(jS){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(jS){"undefined"!==typeof console&&console.error&&console.error(jS)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dc(){}function pc(e,t){return"".concat(e," failed: ").concat(t," argument ")}const fc=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function mc(e){return e&&e._delegate?e._delegate:e}class gc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vc="[DEFAULT]";class yc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ql;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(jS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(jS){if(i)return null;throw jS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vc})}catch(jS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(jS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(zS){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===vc?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(zS){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc;return this.component?this.component.multipleInstances?e:vc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const bc=[];var wc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wc||(wc={}));const xc={debug:wc.DEBUG,verbose:wc.VERBOSE,info:wc.INFO,warn:wc.WARN,error:wc.ERROR,silent:wc.SILENT},kc=wc.INFO,Cc={[wc.DEBUG]:"log",[wc.VERBOSE]:"log",[wc.INFO]:"info",[wc.WARN]:"warn",[wc.ERROR]:"error"},Sc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Cc[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Ec{constructor(e){this.name=e,this._logLevel=kc,this._logHandler=Sc,this._userLogHandler=null,bc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?xc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wc.DEBUG,...t),this._logHandler(this,wc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wc.VERBOSE,...t),this._logHandler(this,wc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wc.INFO,...t),this._logHandler(this,wc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wc.WARN,...t),this._logHandler(this,wc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wc.ERROR,...t),this._logHandler(this,wc.ERROR,...t)}}let Tc,Pc;const Ic=new WeakMap,Rc=new WeakMap,Ac=new WeakMap,Dc=new WeakMap,Oc=new WeakMap;let Nc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ac.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pc||(Pc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(zc(this),n),Lc(Ic.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Lc(e.apply(zc(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=e.call(zc(this),t,...i);return Ac.set(o,t.sort?t.sort():[t]),Lc(o)}}function Fc(e){return"function"===typeof e?Mc(e):(e instanceof IDBTransaction&&function(e){if(Rc.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Rc.set(e,t)}(e),t=e,(Tc||(Tc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Nc):e);var t}function Lc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(Lc(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Ic.set(t,e)}).catch(()=>{}),Oc.set(t,e),t}(e);if(Dc.has(e))return Dc.get(e);const t=Fc(e);return t!==e&&(Dc.set(e,t),Oc.set(t,e)),t}const zc=e=>Oc.get(e);const jc=["get","getKey","getAll","getAllKeys","count"],Uc=["put","add","delete","clear"],Vc=new Map;function Bc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Vc.get(t))return Vc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Uc.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!jc.includes(n))return;const o=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&t.done]))[0]};return Vc.set(t,o),o}Nc=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,i)=>Bc(t,n)||e.get(t,n,i),has:(t,n)=>!!Bc(t,n)||e.has(t,n)}))(Nc);class Wc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const qc="@firebase/app",Hc="0.9.13",Kc=new Ec("@firebase/app"),Gc="@firebase/app-compat",Yc="@firebase/analytics-compat",$c="@firebase/analytics",Qc="@firebase/app-check-compat",Xc="@firebase/app-check",Jc="@firebase/auth",Zc="@firebase/auth-compat",eu="@firebase/database",tu="@firebase/database-compat",nu="@firebase/functions",iu="@firebase/functions-compat",ru="@firebase/installations",ou="@firebase/installations-compat",su="@firebase/messaging",au="@firebase/messaging-compat",lu="@firebase/performance",cu="@firebase/performance-compat",uu="@firebase/remote-config",hu="@firebase/remote-config-compat",du="@firebase/storage",pu="@firebase/storage-compat",fu="@firebase/firestore",mu="@firebase/firestore-compat",gu="firebase",vu="[DEFAULT]",yu={[qc]:"fire-core",[Gc]:"fire-core-compat",[$c]:"fire-analytics",[Yc]:"fire-analytics-compat",[Xc]:"fire-app-check",[Qc]:"fire-app-check-compat",[Jc]:"fire-auth",[Zc]:"fire-auth-compat",[eu]:"fire-rtdb",[tu]:"fire-rtdb-compat",[nu]:"fire-fn",[iu]:"fire-fn-compat",[ru]:"fire-iid",[ou]:"fire-iid-compat",[su]:"fire-fcm",[au]:"fire-fcm-compat",[lu]:"fire-perf",[cu]:"fire-perf-compat",[uu]:"fire-rc",[hu]:"fire-rc-compat",[du]:"fire-gcs",[pu]:"fire-gcs-compat",[fu]:"fire-fst",[mu]:"fire-fst-compat","fire-js":"fire-js",[gu]:"fire-js-all"},_u=new Map,bu=new Map;function wu(e,t){try{e.container.addComponent(t)}catch(jS){Kc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),jS)}}function xu(e){const t=e.name;if(bu.has(t))return Kc.debug("There were multiple attempts to register component ".concat(t,".")),!1;bu.set(t,e);for(const n of _u.values())wu(n,e);return!0}function ku(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Cu=new Ql("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Su{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cu.create("app-deleted",{appName:this._name})}}const Eu="9.23.0";function Tu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:vu,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Cu.create("bad-app-name",{appName:String(r)});if(n||(n=Bl()),!n)throw Cu.create("no-options");const o=_u.get(r);if(o){if(oc(n,o.options)&&oc(i,o.config))return o;throw Cu.create("duplicate-app",{appName:r})}const s=new _c(r);for(const l of bu.values())s.addComponent(l);const a=new Su(n,i,s);return _u.set(r,a),a}function Pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;const t=_u.get(e);if(!t&&e===vu&&Bl())return Tu();if(!t)throw Cu.create("no-app",{appName:e});return t}function Iu(e,t,n){var i;let r=null!==(i=yu[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Kc.warn(e.join(" "))}xu(new gc("".concat(r,"-version"),()=>({library:r,version:t}),"VERSION"))}const Ru="firebase-heartbeat-store";let Au=null;function Du(){return Au||(Au=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Lc(s);return i&&s.addEventListener("upgradeneeded",e=>{i(Lc(s.result),e.oldVersion,e.newVersion,Lc(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ru)}}).catch(e=>{throw Cu.create("idb-open",{originalErrorMessage:e.message})})),Au}async function Ou(e,t){try{const n=(await Du()).transaction(Ru,"readwrite"),i=n.objectStore(Ru);await i.put(t,Nu(e)),await n.done}catch(jS){if(jS instanceof $l)Kc.warn(jS.message);else{const t=Cu.create("idb-set",{originalErrorMessage:null===jS||void 0===jS?void 0:jS.message});Kc.warn(t.message)}}}function Nu(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Lu(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Fu();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Fu(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),zu(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),zu(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=Nl(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fu(){return(new Date).toISOString().substring(0,10)}class Lu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(jS){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(uf){t(uf)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Du();return await t.transaction(Ru).objectStore(Ru).get(Nu(e))}catch(jS){if(jS instanceof $l)Kc.warn(jS.message);else{const t=Cu.create("idb-get",{originalErrorMessage:null===jS||void 0===jS?void 0:jS.message});Kc.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ou(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ou(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zu(e){return Nl(JSON.stringify({version:2,heartbeats:e})).length}var ju;ju="",xu(new gc("platform-logger",e=>new Wc(e),"PRIVATE")),xu(new gc("heartbeat",e=>new Mu(e),"PRIVATE")),Iu(qc,Hc,ju),Iu(qc,Hc,"esm2017"),Iu("fire-js","");Iu("firebase","9.23.0","app");function Uu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Vu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bu=Vu,Wu=new Ql("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qu=new Ec("@firebase/auth");function Hu(e){if(qu.logLevel<=wc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];qu.error("Auth (".concat(Eu,"): ").concat(e),...n)}}function Ku(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Qu(e,...n)}function Gu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Qu(e,...n)}function Yu(e,t,n){const i=Object.assign(Object.assign({},Bu()),{[t]:n});return new Ql("auth","Firebase",i).create(t,{appName:e.name})}function $u(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ku(e,"argument-error"),Yu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Qu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return Wu.create(e,...n)}function Xu(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Qu(t,...i)}}function Ju(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hu(t),new Error(t)}function Zu(e,t){e||Ju(t)}function eh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function th(){return"http:"===nh()||"https:"===nh()}function nh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ih(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(th()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class rh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zu(t>e,"Short delay should be less than long delay!"),this.isMobile=Kl()||Gl()}get(){return ih()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oh(e,t){Zu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class sh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ju("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ju("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ju("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ah={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lh=new rh(3e4,6e4);function ch(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function uh(e,t,n,i){return hh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const s=ac(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),sh.fetch()(ph(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))})}async function hh(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},ah),t);try{const t=new fh(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw mh(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mh(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw mh(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw mh(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Yu(e,a,s);Ku(e,a)}}catch(jS){if(jS instanceof $l)throw jS;Ku(e,"network-request-failed",{message:String(jS)})}}async function dh(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await uh(e,t,n,i,r);return"mfaPendingCredential"in o&&Ku(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ph(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?oh(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}class fh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Gu(this.auth,"network-request-failed")),lh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mh(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Gu(e,t,i);return r.customData._tokenResponse=n,r}function gh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(jS){}}function vh(e){return 1e3*Number(e)}function yh(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ml(n);return e?JSON.parse(e):(Hu("Failed to decode base64 JWT payload"),null)}catch(jS){return Hu("Caught error parsing JWT payload as JSON",null===jS||void 0===jS?void 0:jS.toString()),null}}async function _h(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(jS){throw jS instanceof $l&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(jS)&&e.auth.currentUser===e&&await e.auth.signOut(),jS}}class bh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(jS){return void((null===jS||void 0===jS?void 0:jS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class wh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(e){var t;const n=e.auth,i=await e.getIdToken(),r=await _h(e,async function(e,t){return uh(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Xu(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=Uu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xu(e.idToken,"internal-error"),Xu("undefined"!==typeof e.idToken,"internal-error"),Xu("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=yh(e);return Xu(t,"internal-error"),Xu("undefined"!==typeof t.exp,"internal-error"),Xu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xu(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await hh(e,{},async()=>{const n=ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=ph(e,i,"/v1/token","key=".concat(r)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",sh.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new kh;return n&&(Xu("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(Xu("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(Xu("number"===typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return Ju("not implemented")}}function Ch(e,t){Xu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sh{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Uu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new wh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await _h(this,this.stsTokenManager.getToken(this.auth,e));return Xu(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=mc(e),i=await n.getIdToken(t),r=yh(i);Xu(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"===typeof r.firebase?r.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:gh(vh(r.auth_time)),issuedAtTime:gh(vh(r.iat)),expirationTime:gh(vh(r.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=mc(e);await xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _h(this,async function(e,t){return uh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;Xu(y&&x,e,"internal-error");const k=kh.fromJSON(this.name,x);Xu("string"===typeof y,e,"internal-error"),Ch(u,e.name),Ch(h,e.name),Xu("boolean"===typeof _,e,"internal-error"),Xu("boolean"===typeof b,e,"internal-error"),Ch(d,e.name),Ch(p,e.name),Ch(f,e.name),Ch(m,e.name),Ch(g,e.name),Ch(v,e.name);const C=new Sh({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>Object.assign({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new kh;i.updateFromServerResponse(t);const r=new Sh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await xh(r),r}}const Eh=new Map;function Th(e){Zu(e instanceof Function,"Expected a class definition");let t=Eh.get(e);return t?(Zu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Eh.set(e,t),t)}class Ph{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ph.type="NONE";const Ih=Ph;function Rh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ah{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Rh(this.userKey,i.apiKey,r),this.fullPersistenceKey=Rh("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ah(Th(Ih),e,n);const i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=i[0]||Th(Ih);const o=Rh(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Sh._fromJSON(e,t);l!==r&&(s=n),r=l;break}}catch(zS){}const a=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(o)}catch(zS){}})),new Ah(r,e,n)):new Ah(r,e,n)}}function Dh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zh(t))return"Blackberry";if(jh(t))return"Webos";if(Nh(t))return"Safari";if((t.includes("chrome/")||Mh(t))&&!t.includes("edge/"))return"Chrome";if(Lh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/firefox\//i.test(e)}function Nh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/crios\//i.test(e)}function Fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/iemobile/i.test(e)}function Lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/android/i.test(e)}function zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/blackberry/i.test(e)}function jh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/webos/i.test(e)}function Uh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vh(){return function(){const e=Hl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Bh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl();return Uh(e)||Lh(e)||jh(e)||zh(e)||/windows phone/i.test(e)||Fh(e)}function Wh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Dh(Hl());break;case"Worker":t="".concat(Dh(Hl()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Eu,"/").concat(i)}async function qh(e,t){return uh(e,"GET","/v2/recaptchaConfig",ch(e,t))}function Hh(e){return void 0!==e&&void 0!==e.enterprise}class Kh{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Gh(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Gu("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)})}function Yh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $h{constructor(e){this.type="recaptcha-enterprise",this.auth=Zh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Hh(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{qh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new Kh(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&Hh(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Gh("https://www.google.com/recaptcha/enterprise.js?render="+r).then(()=>{n(r,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Qh(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new $h(e);let o;try{o=await r.verify(n)}catch(uf){o=await r.verify(n,!0)}const s=Object.assign({},t);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Xh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{n(e(t))}catch(jS){i(jS)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(jS){t.reverse();for(const i of t)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===jS||void 0===jS?void 0:jS.message})}}}class Jh{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ed(this),this.idTokenSubscription=new ed(this),this.beforeStateQueue=new Xh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Th(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ah.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(jS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(jS){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(jS))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xu(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(jS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(jS){if((null===jS||void 0===jS?void 0:jS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?mc(e):null;return t&&Xu(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xu(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Th(e))})}async initializeRecaptchaConfig(){const e=await qh(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Kh(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new $h(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Th(e)||this._popupRedirectResolver;Xu(t,this,"argument-error"),this.redirectPersistenceManager=await Ah.create(this,[Th(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Xu(o,this,"internal-error"),o.then(()=>r(this.currentUser)),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xu(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(qu.logLevel<=wc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];qu.warn("Auth (".concat(Eu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zh(e){return mc(e)}class ed{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new hc(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Xu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function td(e,t,n){const i=Zh(e);Xu(i._canInitEmulator,i,"emulator-config-failed"),Xu(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=nd(t),{host:s,port:a}=function(e){const t=nd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:id(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:id(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function nd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function id(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class rd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ju("not implemented")}_getIdTokenResponse(e){return Ju("not implemented")}_linkToIdToken(e,t){return Ju("not implemented")}_getReauthenticationResolver(e){return Ju("not implemented")}}async function od(e,t){return uh(e,"POST","/v1/accounts:update",t)}async function sd(e,t){return dh(e,"POST","/v1/accounts:signInWithPassword",ch(e,t))}async function ad(e,t){return uh(e,"POST","/v1/accounts:sendOobCode",ch(e,t))}async function ld(e,t){return ad(e,t)}class cd extends rd{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cd(e,t,"password")}static _fromEmailAndCode(e,t){return new cd(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Qh(e,n,"signInWithPassword");return sd(e,t)}return sd(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Qh(e,n,"signInWithPassword");return sd(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return dh(e,"POST","/v1/accounts:signInWithEmailLink",ch(e,t))}(e,{email:this._email,oobCode:this._password});default:Ku(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return od(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return dh(e,"POST","/v1/accounts:signInWithEmailLink",ch(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ku(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ud(e,t){return dh(e,"POST","/v1/accounts:signInWithIdp",ch(e,t))}class hd extends rd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ku("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Uu(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new hd(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return ud(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ud(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ud(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}const dd={USER_NOT_FOUND:"user-not-found"};class pd extends rd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return dh(e,"POST","/v1/accounts:signInWithPhoneNumber",ch(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await dh(e,"POST","/v1/accounts:signInWithPhoneNumber",ch(e,t));if(n.temporaryProof)throw mh(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return dh(e,"POST","/v1/accounts:signInWithPhoneNumber",ch(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),dd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new pd({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class fd{constructor(e){var t,n,i,r,o,s;const a=lc(cc(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Xu(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=lc(cc(e)).link,n=t?lc(cc(t)).deep_link_id:null,i=lc(cc(e)).deep_link_id;return(i?lc(cc(i)).link:null)||i||n||t||e}(e);try{return new fd(t)}catch(zS){return null}}}class md{constructor(){this.providerId=md.PROVIDER_ID}static credential(e,t){return cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=fd.parseLink(t);return Xu(n,"argument-error"),cd._fromEmailAndCode(e,n.code,n.tenantId)}}md.PROVIDER_ID="password",md.EMAIL_PASSWORD_SIGN_IN_METHOD="password",md.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vd extends gd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yd extends vd{constructor(){super("facebook.com")}static credential(e){return hd._fromParams({providerId:yd.PROVIDER_ID,signInMethod:yd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yd.credentialFromTaggedObject(e)}static credentialFromError(e){return yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yd.credential(t.oauthAccessToken)}catch(zS){return null}}}yd.FACEBOOK_SIGN_IN_METHOD="facebook.com",yd.PROVIDER_ID="facebook.com";class _d extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hd._fromParams({providerId:_d.PROVIDER_ID,signInMethod:_d.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _d.credentialFromTaggedObject(e)}static credentialFromError(e){return _d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return _d.credential(n,i)}catch(zS){return null}}}_d.GOOGLE_SIGN_IN_METHOD="google.com",_d.PROVIDER_ID="google.com";class bd extends vd{constructor(){super("github.com")}static credential(e){return hd._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bd.credential(t.oauthAccessToken)}catch(zS){return null}}}bd.GITHUB_SIGN_IN_METHOD="github.com",bd.PROVIDER_ID="github.com";class wd extends vd{constructor(){super("twitter.com")}static credential(e,t){return hd._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return wd.credential(n,i)}catch(zS){return null}}}async function xd(e,t){return dh(e,"POST","/v1/accounts:signUp",ch(e,t))}wd.TWITTER_SIGN_IN_METHOD="twitter.com",wd.PROVIDER_ID="twitter.com";class kd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Sh._fromIdTokenResponse(e,n,i),o=Cd(n);return new kd({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Cd(n);return new kd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Cd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Sd extends $l{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Sd(e,t,n,i)}}function Ed(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Sd._fromErrorAndOperation(e,n,t,i);throw n})}async function Td(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await _h(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return kd._forOperation(e,"link",i)}async function Pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const o=await _h(e,Ed(i,r,t,e),n);Xu(o.idToken,i,"internal-error");const s=yh(o.idToken);Xu(s,i,"internal-error");const{sub:a}=s;return Xu(e.uid===a,i,"user-mismatch"),kd._forOperation(e,r,o)}catch(jS){throw(null===jS||void 0===jS?void 0:jS.code)==="auth/".concat("user-not-found")&&Ku(i,"user-mismatch"),jS}}async function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await Ed(e,i,t),o=await kd._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function Rd(e,t){return Id(Zh(e),t)}function Ad(e,t,n){var i;Xu((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),Xu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Dd="__sak";class Od{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch(zS){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Nd extends Od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Hl();return Nh(e)||Uh(e)}()&&function(){try{return!(!window||window===window.top)}catch(jS){return!1}}(),this.fallbackToPolling=Bh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Vh()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nd.type="LOCAL";const Md=Nd;class Fd extends Od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fd.type="SESSION";const Ld=Fd;class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new zd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async e=>e(t.origin,r)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}zd.receivers=[];class Ud{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((s,a)=>{const l=jd("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Vd(){return window}function Bd(){return"undefined"!==typeof Vd().WorkerGlobalScope&&"function"===typeof Vd().importScripts}const Wd="firebaseLocalStorageDb",qd="firebaseLocalStorage",Hd="fbase_key";class Kd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gd(e,t){return e.transaction([qd],t?"readwrite":"readonly").objectStore(qd)}function Yd(){const e=indexedDB.open(Wd,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(qd,{keyPath:Hd})}catch(jS){n(jS)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(qd)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wd);return new Kd(e).toPromise()}(),t(await Yd()))})})}async function $d(e,t,n){const i=Gd(e,!0).put({[Hd]:t,value:n});return new Kd(i).toPromise()}function Qd(e,t){const n=Gd(e,!0).delete(t);return new Kd(n).toPromise()}class Xd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Yd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(jS){if(t++>3)throw jS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(Bd()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ud(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(zS){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yd();return await $d(e,Dd,"1"),await Qd(e,Dd),!0}catch(zS){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$d(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Gd(e,!1).get(t),i=await new Kd(n).toPromise();return void 0===i?null:i.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qd(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Gd(e,!1).getAll();return new Kd(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xd.type="LOCAL";const Jd=Xd;Yh("rcb"),new rh(3e4,6e4);const Zd="recaptcha";async function ep(e,t,n){var i;const r=await n.verify();try{let o;if(Xu("string"===typeof r,e,"argument-error"),Xu(n.type===Zd,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Xu("enroll"===t.type,e,"internal-error");const n=await function(e,t){return uh(e,"POST","/v2/accounts/mfaEnrollment:start",ch(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Xu("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;Xu(n,e,"missing-multi-factor-info");const s=await function(e,t){return uh(e,"POST","/v2/accounts/mfaSignIn:start",ch(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return uh(e,"POST","/v1/accounts:sendVerificationCode",ch(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class tp{constructor(e){this.providerId=tp.PROVIDER_ID,this.auth=Zh(e)}verifyPhoneNumber(e,t){return ep(this.auth,e,mc(t))}static credential(e,t){return pd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return tp.credentialFromTaggedObject(t)}static credentialFromError(e){return tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?pd._fromTokenResponse(n,i):null}}function np(e,t){return t?Th(t):(Xu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tp.PROVIDER_ID="phone",tp.PHONE_SIGN_IN_METHOD="phone";class ip extends rd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ud(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ud(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ud(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rp(e){return Id(e.auth,new ip(e),e.bypassAuthState)}function op(e){const{auth:t,user:n}=e;return Xu(n,t,"internal-error"),Pd(n,new ip(e),e.bypassAuthState)}async function sp(e){const{auth:t,user:n}=e;return Xu(n,t,"internal-error"),Td(n,new ip(e),e.bypassAuthState)}class ap{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(jS){this.reject(jS)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(jS){this.reject(jS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rp;case"linkViaPopup":case"linkViaRedirect":return sp;case"reauthViaPopup":case"reauthViaRedirect":return op;default:Ku(this.auth,"internal-error")}}resolve(e){Zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lp=new rh(2e3,1e4);class cp extends ap{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,cp.currentPopupAction&&cp.currentPopupAction.cancel(),cp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xu(e,this.auth,"internal-error"),e}async onExecution(){Zu(1===this.filter.length,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Gu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gu(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,lp.get())};e()}}cp.currentPopupAction=null;const up=new Map;class hp extends ap{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fp(t),i=pp(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(jS){e=()=>Promise.reject(jS)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function dp(e,t){up.set(e._key(),t)}function pp(e){return Th(e._redirectPersistence)}function fp(e){return Rh("pendingRedirect",e.config.apiKey,e.name)}async function mp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Zh(e),r=np(i,t),o=new hp(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class gp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!yp(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Gu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vp(e))}saveEventToCache(e){this.cachedEventUids.add(vp(e)),this.lastProcessedEventTime=Date.now()}}function vp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function yp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const _p=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bp=/^https?/;async function wp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return uh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(xp(n))return}catch(zS){}Ku(e,"unauthorized-domain")}function xp(e){const t=eh(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!bp.test(n))return!1;if(_p.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const kp=new rh(3e4,6e4);function Cp(){const e=Vd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Sp=null;function Ep(e){return Sp=Sp||function(e){return new Promise((t,n)=>{var i,r,o;function s(){Cp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cp(),n(Gu(e,"network-request-failed"))},timeout:kp.get()})}if(null===(r=null===(i=Vd().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Vd().gapi)||void 0===o?void 0:o.load)){const t=Yh("iframefcb");return Vd()[t]=()=>{gapi.load?s():n(Gu(e,"network-request-failed"))},Gh("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Sp=null,e})}(e),Sp}const Tp=new rh(5e3,15e3),Pp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ip=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rp(e){const t=e.config;Xu(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?oh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:Eu},r=Ip.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat(ac(i).slice(1))}const Ap={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(jS){}}}function Op(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ap),{width:i.toString(),height:r.toString(),top:o,left:s}),c=Hl().toLowerCase();n&&(a=Mh(c)?"_blank":n),Oh(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")},"");if(function(){var e;return Uh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Dp(null);const h=window.open(t||"",a,u);Xu(h,e,"popup-blocked");try{h.focus()}catch(jS){}return new Dp(h)}const Np="__/auth/handler",Mp="emulator/auth/handler",Fp=encodeURIComponent("fac");async function Lp(e,t,n,i,r,o){Xu(e.config.authDomain,e,"auth-domain-config-required"),Xu(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Eu,eventId:r};if(t instanceof gd){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ic(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof vd){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Fp,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Np);return oh(t,Mp)}(e),"?").concat(ac(a).slice(1)).concat(c)}const zp="webStorageSupport";const jp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ld,this._completeRedirectFn=mp,this._overrideRedirectResult=dp}async _openPopup(e,t,n,i){var r;Zu(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Op(e,await Lp(e,t,n,eh(),i),jd())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Vd().location.href=e}(await Lp(e,t,n,eh(),i)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zu(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Ep(e),n=Vd().gapi;return Xu(n,e,"internal-error"),t.open({where:document.body,url:Rp(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pp,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Gu(e,"network-request-failed"),o=Vd().setTimeout(()=>{i(r)},Tp.get());function s(){Vd().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{i(r)})}))}(e),n=new gp(e);return t.register("authEvent",t=>{Xu(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zp,{type:zp},n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[zp];void 0!==r&&t(!!r),Ku(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bh()||Nh()||Uh()}};var Up="@firebase/auth",Vp="0.23.2";class Bp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wp=Wl("authIdTokenMaxAge")||300;let qp=null;var Hp;Hp="Browser",xu(new gc("auth",(e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Xu(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:Hp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wh(Hp)},c=new Jh(i,r,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Th);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),xu(new gc("auth-internal",e=>(e=>new Bp(e))(Zh(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Iu(Up,Vp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Hp)),Iu(Up,Vp,"esm2017");const Kp="@firebase/database",Gp="0.14.4";let Yp="";class $p{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zl(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Jl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Qp{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return tc(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Xp=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $p(t)}}catch(jS){}return new Qp},Jp=Xp("localStorage"),Zp=Xp("sessionStorage"),ef=new Ec("@firebase/database"),tf=function(){let e=1;return function(){return e++}}(),nf=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,Pl(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new uc;n.update(t);const i=n.digest();return Al.encodeByteArray(i)},rf=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=rf.apply(null,n):e+="object"===typeof n?Zl(n):n,e+=" "}return e};let of=null,sf=!0;const af=function(e,t){Pl(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ef.logLevel=wc.VERBOSE,of=ef.log.bind(ef),t&&Zp.set("logging_enabled",!0)):"function"===typeof e?of=e:(of=null,Zp.remove("logging_enabled"))},lf=function(){if(!0===sf&&(sf=!1,null===of&&!0===Zp.get("logging_enabled")&&af(!0)),of){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=rf.apply(null,t);of(i)}},cf=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];lf(e,...n)}},uf=function(){const e="FIREBASE INTERNAL ERROR: "+rf(...arguments);ef.error(e)},hf=function(){const e="FIREBASE FATAL ERROR: ".concat(rf(...arguments));throw ef.error(e),new Error(e)},df=function(){const e="FIREBASE WARNING: "+rf(...arguments);ef.warn(e)},pf=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ff="[MIN_NAME]",mf="[MAX_NAME]",gf=function(e,t){if(e===t)return 0;if(e===ff||t===mf)return-1;if(t===ff||e===mf)return 1;{const n=Cf(e),i=Cf(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},vf=function(e,t){return e===t?0:e<t?-1:1},yf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Zl(t))},_f=function(e){if("object"!==typeof e||null===e)return Zl(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=Zl(t[i]),n+=":",n+=_f(e[t[i]]);return n+="}",n},bf=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function wf(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xf=function(e){Pl(!pf(e),"Invalid JSON number");const t=1023;let n,i,r,o,s;0===e?(i=0,r=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=o+t,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const kf=new RegExp("^-?(0*)\\d{1,10}$"),Cf=function(e){if(kf.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Sf=function(e){try{e()}catch(jS){setTimeout(()=>{const t=jS.stack||"";throw df("Exception was thrown by user callback.",t),jS},Math.floor(0))}},Ef=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Tf{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){df('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Pf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(lf("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',df(e)}}class If{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}If.OWNER="owner";const Rf="5",Af=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Df="ac",Of="websocket",Nf="long_polling";class Mf{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Ff(e,t,n){let i;if(Pl("string"===typeof t,"typeof type must == string"),Pl("object"===typeof n,"typeof params must == object"),t===Of)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Nf)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return wf(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}class Lf{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;tc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Fl(this.counters_)}}const zf={},jf={};function Uf(e){const t=e.toString();return zf[t]||(zf[t]=new Lf),zf[t]}class Vf{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Sf(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Bf="start";class Wf{constructor(e,t,n,i,r,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cf(e),this.stats_=Uf(t),this.urlFn=e=>(this.appCheckToken&&(e[Df]=this.appCheckToken),Ff(t,Nf,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Vf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Yl()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qf(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===Bf)n.id=o,n.password=s;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[Bf]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Rf,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Df]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Af.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wf.forceAllow_=!0}static forceDisallow(){Wf.forceDisallow_=!0}static isAvailable(){return!Yl()&&(!!Wf.forceAllow_||!Wf.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Zl(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ol(t),i=bf(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Yl())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Zl(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qf{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Yl())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tf(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=qf.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(jS){lf("frame writing exception"),jS.stack&&lf(jS.stack),lf(jS)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lf("No IE domain setting required")}catch(jS){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){Yl()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{lf("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(jS){}},Math.floor(1))}}let Hf=null;"undefined"!==typeof MozWebSocket?Hf=MozWebSocket:"undefined"!==typeof WebSocket&&(Hf=WebSocket);class Kf{constructor(e,t,n,i,r,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cf(this.connId),this.stats_=Uf(t),this.connURL=Kf.connectionURL_(t,o,s,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const o={};return o.v=Rf,!Yl()&&"undefined"!==typeof location&&location.hostname&&Af.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),i&&(o[Df]=i),r&&(o.p=r),Ff(e,Of,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jp.set("previous_websocket_failure",!0);try{let e;if(Yl()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Rf,"/").concat(Yp,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/taptap-new",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new Hf(this.connURL,[],e)}catch(jS){this.log_("Error instantiating WebSocket.");const t=jS.message||jS.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Kf.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Hf&&!Kf.forceDisallow_}static previouslyFailed(){return Jp.isInMemoryStorage||!0===Jp.get("previous_websocket_failure")}markConnectionHealthy(){Jp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Jl(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Pl(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Zl(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=bf(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(jS){this.log_("Exception thrown from WebSocket.send():",jS.message||jS.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kf.responsesRequiredToBeHealthy=2,Kf.healthyTimeout=3e4;class Gf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wf,Kf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Kf&&Kf.isAvailable();let n=t&&!Kf.previouslyFailed();if(e.webSocketOnly&&(t||df("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Kf];else{const e=this.transports_=[];for(const t of Gf.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Gf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gf.globalTransportInitialized_=!1;class Yf{constructor(e,t,n,i,r,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cf("c:"+this.id+":"),this.transportManager_=new Gf(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ef(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=yf("t",e),n=yf("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=yf("t",e),n=yf("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=yf("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?uf("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uf("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Rf!==n&&df("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ef(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ef(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $f{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Qf{constructor(e){this.allowedEvents_=e,this.listeners_={},Pl(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){Pl(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Xf extends Qf{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Kl()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(e){return Pl("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Jf{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Zf(){return new Jf("")}function em(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function tm(e){return e.pieces_.length-e.pieceNum_}function nm(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Jf(e.pieces_,t)}function im(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function om(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Jf(t,0)}function sm(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Jf)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Jf(n,0)}function am(e){return e.pieceNum_>=e.pieces_.length}function lm(e,t){const n=em(e),i=em(t);if(null===n)return t;if(n===i)return lm(nm(e),nm(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cm(e,t){const n=rm(e,0),i=rm(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=gf(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function um(e,t){if(tm(e)!==tm(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function hm(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(tm(e)>tm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class dm{constructor(e,t){this.errorPrefix_=t,this.parts_=rm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=fc(this.parts_[n]);pm(this)}}function pm(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+fm(e))}function fm(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class mm extends Qf{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new mm}getInitialEvent(e){return Pl("visible"===e,"Unknown event type: "+e),[this.visible_]}}const gm=1e3;class vm extends $f{constructor(e,t,n,i,r,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=vm.nextPersistentConnectionId_++,this.log_=cf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Yl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Zl(r)),Pl(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new ql,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),Pl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pl(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{const o=r.d,s=r.s;vm.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&tc(e,"w")){const n=nc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();df("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ec(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ec(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Pl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zl(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):uf("Unrecognized action received from server: "+Zl(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Pl(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gm),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+vm.nextConnectionId_++,r=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Pl(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?lf("getToken() completed but was canceled"):(lf("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Yf(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{df(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},r))}catch(uf){this.log_("Failed to get token: "+uf),o||(this.repoInfo_.nodeAdmin&&df(uf),a())}}}interrupt(e){lf("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lf("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ic(this.interruptReasons_)&&(this.reconnectDelay_=gm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>_f(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new Jf(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){lf("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){lf("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Yl()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Yp.replace(/\./g,"-")]=1,Kl()?e["framework.cordova"]=1:Gl()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xf.getInstance().currentlyOnline();return ic(this.interruptReasons_)&&e}}vm.nextPersistentConnectionId_=0,vm.nextConnectionId_=0;class ym{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ym(e,t)}}class _m{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ym(ff,e),i=new ym(ff,t);return 0!==this.compare(n,i)}minPost(){return ym.MIN}}let bm;class wm extends _m{static get __EMPTY_NODE(){return bm}static set __EMPTY_NODE(e){bm=e}compare(e,t){return gf(e.name,t.name)}isDefinedOn(e){throw Il("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ym.MIN}maxPost(){return new ym(mf,bm)}makePost(e,t){return Pl("string"===typeof e,"KeyIndex indexValue must always be a string."),new ym(e,bm)}toString(){return".key"}}const xm=new wm;class km{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Cm{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Cm.RED,this.left=null!=i?i:Sm.EMPTY_NODE,this.right=null!=r?r:Sm.EMPTY_NODE}copy(e,t,n,i,r){return new Cm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sm.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Sm.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Cm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Cm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Cm.RED=!0,Cm.BLACK=!1;class Sm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sm.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Sm(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Cm.BLACK,null,null))}remove(e){return new Sm(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cm.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new km(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new km(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new km(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new km(this.root_,null,this.comparator_,!0,e)}}function Em(e,t){return gf(e.name,t.name)}function Tm(e,t){return gf(e,t)}let Pm;Sm.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new Cm(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Im=function(e){return"number"===typeof e?"number:"+xf(e):"string:"+e},Rm=function(e){if(e.isLeafNode()){const t=e.val();Pl("string"===typeof t||"number"===typeof t||"object"===typeof t&&tc(t,".sv"),"Priority must be a string or number.")}else Pl(e===Pm||e.isEmpty(),"priority of unexpected type.");Pl(e===Pm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Am,Dm,Om;class Nm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nm.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Pl(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Rm(this.priorityNode_)}static set __childrenNodeConstructor(e){Am=e}static get __childrenNodeConstructor(){return Am}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nm(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Nm.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return am(e)?this:".priority"===em(e)?this.priorityNode_:Nm.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Nm.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=em(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Pl(".priority"!==n||1===tm(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Nm.__childrenNodeConstructor.EMPTY_NODE.updateChild(nm(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Im(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?xf(this.value_):this.value_,this.lazyHash_=nf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nm.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nm.__childrenNodeConstructor?-1:(Pl(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=Nm.VALUE_TYPE_ORDER.indexOf(t),r=Nm.VALUE_TYPE_ORDER.indexOf(n);return Pl(i>=0,"Unknown leaf type: "+t),Pl(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Nm.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Mm=new class extends _m{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?gf(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ym.MIN}maxPost(){return new ym(mf,new Nm("[PRIORITY-POST]",Om))}makePost(e,t){const n=Dm(e);return new ym(t,new Nm("[PRIORITY-POST]",n))}toString(){return".priority"}},Fm=Math.log(2);class Lm{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fm,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zm=function(e,t,n,i){e.sort(t);const r=function(t,i){const o=i-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Cm(a,s.node,Cm.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=r(t,l),u=r(l+1,i);return s=e[l],a=n?n(s):s,new Cm(a,s.node,Cm.BLACK,c,u)}},o=function(t){let i=null,o=null,s=e.length;const a=function(t,i){const o=s-t,a=s;s-=t;const c=r(o+1,a),u=e[o],h=n?n(u):u;l(new Cm(h,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Cm.BLACK):(a(i,Cm.BLACK),a(i,Cm.RED))}return o}(new Lm(e.length));return new Sm(i||t,o)};let jm;const Um={};class Vm{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Pl(Um&&Mm,"ChildrenNode.ts has not been loaded"),jm=jm||new Vm({".priority":Um},{".priority":Mm}),jm}get(e){const t=nc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Sm?t:null}hasIndex(e){return tc(this.indexSet_,e.toString())}addIndex(e,t){Pl(e!==xm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(ym.Wrap);let o,s=r.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=r.getNext();o=i?zm(n,e.getCompare()):Um;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Vm(c,l)}addToIndexes(e,t){const n=rc(this.indexes_,(n,i)=>{const r=nc(this.indexSet_,i);if(Pl(r,"Missing index implementation for "+i),n===Um){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(ym.Wrap);let o=i.getNext();for(;o;)o.name!==e.name&&n.push(o),o=i.getNext();return n.push(e),zm(n,r.getCompare())}return Um}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new ym(e.name,i))),r.insert(e,e.node)}});return new Vm(n,this.indexSet_)}removeFromIndexes(e,t){const n=rc(this.indexes_,n=>{if(n===Um)return n;{const i=t.get(e.name);return i?n.remove(new ym(e.name,i)):n}});return new Vm(n,this.indexSet_)}}let Bm;class Wm{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rm(this.priorityNode_),this.children_.isEmpty()&&Pl(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bm||(Bm=new Wm(new Sm(Tm),null,Vm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bm}updatePriority(e){return this.children_.isEmpty()?this:new Wm(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Bm:t}}getChild(e){const t=em(e);return null===t?this:this.getImmediateChild(t).getChild(nm(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Pl(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ym(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?Bm:this.priorityNode_;return new Wm(i,o,r)}}updateChild(e,t){const n=em(e);if(null===n)return t;{Pl(".priority"!==em(e)||1===tm(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(nm(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(Mm,(o,s)=>{t[o]=s.val(e),n++,r&&Wm.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Im(this.getPriority().val())+":"),this.forEachChild(Mm,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":nf(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new ym(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ym(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ym(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,ym.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,ym.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qm?-1:0}withIndex(e){if(e===xm||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Wm(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===xm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Mm),n=t.getIterator(Mm);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===xm?null:this.indexMap_.get(e.toString())}}Wm.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const qm=new class extends Wm{constructor(){super(new Sm(Tm),Wm.EMPTY_NODE,Vm.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Wm.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ym,{MIN:{value:new ym(ff,Wm.EMPTY_NODE)},MAX:{value:new ym(mf,qm)}}),wm.__EMPTY_NODE=Wm.EMPTY_NODE,Nm.__childrenNodeConstructor=Wm,Pm=qm,function(e){Om=e}(qm);function Hm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Wm.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Pl(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Nm(e,Hm(t))}if(e instanceof Array){let n=Wm.EMPTY_NODE;return wf(e,(t,i)=>{if(tc(e,t)&&"."!==t.substring(0,1)){const e=Hm(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Hm(t))}{const n=[];let i=!1;if(wf(e,(e,t)=>{if("."!==e.substring(0,1)){const r=Hm(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new ym(e,r)))}}),0===n.length)return Wm.EMPTY_NODE;const r=zm(n,Em,e=>e.name,Tm);if(i){const e=zm(n,Mm.getCompare());return new Wm(r,Hm(t),new Vm({".priority":e},{".priority":Mm}))}return new Wm(r,Hm(t),Vm.Default)}}!function(e){Dm=e}(Hm);class Km extends _m{constructor(e){super(),this.indexPath_=e,Pl(!am(e)&&".priority"!==em(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?gf(e.name,t.name):r}makePost(e,t){const n=Hm(e),i=Wm.EMPTY_NODE.updateChild(this.indexPath_,n);return new ym(t,i)}maxPost(){const e=Wm.EMPTY_NODE.updateChild(this.indexPath_,qm);return new ym(mf,e)}toString(){return rm(this.indexPath_,0).join("/")}}const Gm=new class extends _m{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?gf(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ym.MIN}maxPost(){return ym.MAX}makePost(e,t){const n=Hm(e);return new ym(t,n)}toString(){return".value"}};function Ym(e){return{type:"value",snapshotNode:e}}function $m(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Qm(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Xm(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Jm{constructor(e){this.index_=e}updateChild(e,t,n,i,r,o){Pl(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Qm(t,s)):Pl(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange($m(t,n)):o.trackChildChange(Xm(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Mm,(e,i)=>{t.hasChild(e)||n.trackChildChange(Qm(e,i))}),t.isLeafNode()||t.forEachChild(Mm,(t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(Xm(t,i,r))}else n.trackChildChange($m(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Wm.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zm{constructor(e){this.indexedFilter_=new Jm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zm.getStartPost_(e),this.endPost_=Zm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,o){return this.matches(new ym(t,n))||(n=Wm.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Wm.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Wm.EMPTY_NODE);const r=this;return t.forEachChild(Mm,(e,t)=>{r.matches(new ym(e,t))||(i=i.updateImmediateChild(e,Wm.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class eg{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Zm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,o){return this.rangedFilter_.matches(new ym(t,n))||(n=Wm.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=Wm.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=Wm.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(Wm.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,Wm.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Pl(s.numChildren()===this.limit_,"");const a=new ym(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(Xm(t,n,e)),s.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(Qm(t,e));const n=s.updateImmediateChild(t,Wm.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange($m(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=r&&(r.trackChildChange(Qm(l.name,l.node)),r.trackChildChange($m(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Wm.EMPTY_NODE)):e}}class tg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mm}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Pl(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pl(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ff}hasEnd(){return this.endSet_}getIndexEndValue(){return Pl(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pl(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Pl(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mm}copy(){const e=new tg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ng(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Mm?n="$priority":e.index_===Gm?n="$value":e.index_===xm?n="$key":(Pl(e.index_ instanceof Km,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Zl(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Zl(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Zl(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Zl(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Zl(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ig(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Mm&&(t.i=e.index_.toString()),t}class rg extends $f{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=cf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Pl(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=rg.getListenId_(e,n),s={};this.listens_[o]=s;const a=ng(e._queryParams);this.restRequest_(r+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),nc(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}})}unlisten(e,t){const n=rg.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ng(e._queryParams),n=e._path.toString(),i=new ql;return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(i=>{let[r,o]=i;r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ac(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Jl(a.responseText)}catch(jS){df("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&df("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class og{constructor(){this.rootNode_=Wm.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function sg(){return{value:null,children:new Map}}function ag(e,t,n){if(am(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=em(t);e.children.has(i)||e.children.set(i,sg());ag(e.children.get(i),t=nm(t),n)}}function lg(e,t){if(am(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Mm,(t,n)=>{ag(e,new Jf(t),n)}),lg(e,t)}}if(e.children.size>0){const n=em(t);if(t=nm(t),e.children.has(n)){lg(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function cg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,i)=>{cg(i,new Jf(t.toString()+"/"+e),n)})}class ug{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&wf(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class hg{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ug(e);const n=1e4+2e4*Math.random();Ef(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;wf(e,(e,i)=>{i>0&&tc(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),Ef(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var dg;function pg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dg||(dg={}));class fg{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=dg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(am(this.path)){if(null!=this.affectedTree.value)return Pl(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Jf(e));return new fg(Zf(),t,this.revert)}}return Pl(em(this.path)===e,"operationForChild called for unrelated child."),new fg(nm(this.path),this.affectedTree,this.revert)}}class mg{constructor(e,t){this.source=e,this.path=t,this.type=dg.LISTEN_COMPLETE}operationForChild(e){return am(this.path)?new mg(this.source,Zf()):new mg(this.source,nm(this.path))}}class gg{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=dg.OVERWRITE}operationForChild(e){return am(this.path)?new gg(this.source,Zf(),this.snap.getImmediateChild(e)):new gg(this.source,nm(this.path),this.snap)}}class vg{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=dg.MERGE}operationForChild(e){if(am(this.path)){const t=this.children.subtree(new Jf(e));return t.isEmpty()?null:t.value?new gg(this.source,Zf(),t.value):new vg(this.source,Zf(),t)}return Pl(em(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vg(this.source,nm(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class yg{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(am(e))return this.isFullyInitialized()&&!this.filtered_;const t=em(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class _g{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bg(e,t,n,i,r,o){const s=i.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Il("Should only compare child_ events.");const i=new ym(t.childName,t.snapshotNode),r=new ym(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n)),s.forEach(n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function wg(e,t){return{eventCache:e,serverCache:t}}function xg(e,t,n,i){return wg(new yg(t,n,i),e.serverCache)}function kg(e,t,n,i){return wg(e.eventCache,new yg(t,n,i))}function Cg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sg(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Eg;class Tg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Eg||(Eg=new Sm(vf)),Eg);this.value=e,this.children=t}static fromObject(e){let t=new Tg(null);return wf(e,(e,n)=>{t=t.set(new Jf(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Zf(),value:this.value};if(am(e))return null;{const n=em(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(nm(e),t);if(null!=r){return{path:sm(new Jf(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(am(e))return this;{const t=em(e),n=this.children.get(t);return null!==n?n.subtree(nm(e)):new Tg(null)}}set(e,t){if(am(e))return new Tg(t,this.children);{const n=em(e),i=(this.children.get(n)||new Tg(null)).set(nm(e),t),r=this.children.insert(n,i);return new Tg(this.value,r)}}remove(e){if(am(e))return this.children.isEmpty()?new Tg(null):new Tg(null,this.children);{const t=em(e),n=this.children.get(t);if(n){const i=n.remove(nm(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Tg(null):new Tg(this.value,r)}return this}}get(e){if(am(e))return this.value;{const t=em(e),n=this.children.get(t);return n?n.get(nm(e)):null}}setTree(e,t){if(am(e))return t;{const n=em(e),i=(this.children.get(n)||new Tg(null)).setTree(nm(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Tg(this.value,r)}}fold(e){return this.fold_(Zf(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(sm(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Zf(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(am(e))return null;{const i=em(e),r=this.children.get(i);return r?r.findOnPath_(nm(e),sm(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Zf(),t)}foreachOnPath_(e,t,n){if(am(e))return this;{this.value&&n(t,this.value);const i=em(e),r=this.children.get(i);return r?r.foreachOnPath_(nm(e),sm(t,i),n):new Tg(null)}}foreach(e){this.foreach_(Zf(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(sm(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Pg{constructor(e){this.writeTree_=e}static empty(){return new Pg(new Tg(null))}}function Ig(e,t,n){if(am(t))return new Pg(new Tg(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=lm(r,t);return o=o.updateChild(s,n),new Pg(e.writeTree_.set(r,o))}{const i=new Tg(n),r=e.writeTree_.setTree(t,i);return new Pg(r)}}}function Rg(e,t,n){let i=e;return wf(n,(e,n)=>{i=Ig(i,sm(t,e),n)}),i}function Ag(e,t){if(am(t))return Pg.empty();{const n=e.writeTree_.setTree(t,new Tg(null));return new Pg(n)}}function Dg(e,t){return null!=Og(e,t)}function Og(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(lm(n.path,t)):null}function Ng(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Mm,(e,n)=>{t.push(new ym(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new ym(e,n.value))}),t}function Mg(e,t){if(am(t))return e;{const n=Og(e,t);return new Pg(null!=n?new Tg(n):e.writeTree_.subtree(t))}}function Fg(e){return e.writeTree_.isEmpty()}function Lg(e,t){return zg(Zf(),e.writeTree_,t)}function zg(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?(Pl(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=zg(sm(e,t),r,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(sm(e,".priority"),i)),n}}function jg(e,t){return Jg(t,e)}function Ug(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Pl(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Vg(t,i.path)?r=!1:hm(i.path,t.path)&&(o=!0)),s--}if(r){if(o)return function(e){e.visibleWrites=Wg(e.allWrites,Bg,Zf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=Ag(e.visibleWrites,i.path);else{wf(i.children,t=>{e.visibleWrites=Ag(e.visibleWrites,sm(i.path,t))})}return!0}return!1}function Vg(e,t){if(e.snap)return hm(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&hm(sm(e.path,n),t))return!0;return!1}function Bg(e){return e.visible}function Wg(e,t,n){let i=Pg.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const e=o.path;let t;if(o.snap)hm(n,e)?(t=lm(n,e),i=Ig(i,t,o.snap)):hm(e,n)&&(t=lm(e,n),i=Ig(i,Zf(),o.snap.getChild(t)));else{if(!o.children)throw Il("WriteRecord should have .snap or .children");if(hm(n,e))t=lm(n,e),i=Rg(i,t,o.children);else if(hm(e,n))if(t=lm(e,n),am(t))i=Rg(i,Zf(),o.children);else{const e=nc(o.children,em(t));if(e){const n=e.getChild(nm(t));i=Ig(i,Zf(),n)}}}}}return i}function qg(e,t,n,i,r){if(i||r){const o=Mg(e.visibleWrites,t);if(!r&&Fg(o))return n;if(r||null!=n||Dg(o,Zf())){const o=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(hm(e.path,t)||hm(t,e.path))};return Lg(Wg(e.allWrites,o,t),n||Wm.EMPTY_NODE)}return null}{const i=Og(e.visibleWrites,t);if(null!=i)return i;{const i=Mg(e.visibleWrites,t);if(Fg(i))return n;if(null!=n||Dg(i,Zf())){return Lg(i,n||Wm.EMPTY_NODE)}return null}}}function Hg(e,t,n,i){return qg(e.writeTree,e.treePath,t,n,i)}function Kg(e,t){return function(e,t,n){let i=Wm.EMPTY_NODE;const r=Og(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Mm,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const r=Mg(e.visibleWrites,t);return n.forEachChild(Mm,(e,t)=>{const n=Lg(Mg(r,new Jf(e)),t);i=i.updateImmediateChild(e,n)}),Ng(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return Ng(Mg(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}(e.writeTree,e.treePath,t)}function Gg(e,t,n,i){return function(e,t,n,i,r){Pl(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=sm(t,n);if(Dg(e.visibleWrites,o))return null;{const t=Mg(e.visibleWrites,o);return Fg(t)?r.getChild(n):Lg(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function Yg(e,t){return function(e,t){return Og(e.visibleWrites,t)}(e.writeTree,sm(e.treePath,t))}function $g(e,t,n,i,r,o){return function(e,t,n,i,r,o,s){let a;const l=Mg(e.visibleWrites,t),c=Og(l,Zf());if(null!=c)a=c;else{if(null==n)return[];a=Lg(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,o)}function Qg(e,t,n){return function(e,t,n,i){const r=sm(t,n),o=Og(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n))return Lg(Mg(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Xg(e,t){return Jg(sm(e.treePath,t),e.writeTree)}function Jg(e,t){return{treePath:e,writeTree:t}}class Zg{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Pl("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Pl(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,Xm(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Qm(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,$m(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw Il("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,Xm(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ev=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class tv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new yg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qg(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sg(this.viewCache_),r=$g(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}function nv(e,t,n,i,r){const o=new Zg;let s,a;if(n.type===dg.OVERWRITE){const l=n;l.source.fromUser?s=ov(e,t,l.path,l.snap,i,r,o):(Pl(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!am(l.path),s=rv(e,t,l.path,l.snap,i,r,a,o))}else if(n.type===dg.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,i,r,o,s){let a=t;return i.foreach((i,l)=>{const c=sm(n,i);sv(t,em(c))&&(a=ov(e,a,c,l,r,o,s))}),i.foreach((i,l)=>{const c=sm(n,i);sv(t,em(c))||(a=ov(e,a,c,l,r,o,s))}),a}(e,t,l.path,l.children,i,r,o):(Pl(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=lv(e,t,l.path,l.children,i,r,a,o))}else if(n.type===dg.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,i,r,o){let s;if(null!=Yg(i,n))return t;{const a=new tv(i,t,r),l=t.eventCache.getNode();let c;if(am(n)||".priority"===em(n)){let n;if(t.serverCache.isFullyInitialized())n=Hg(i,Sg(t));else{const e=t.serverCache.getNode();Pl(e instanceof Wm,"serverChildren would be complete if leaf node"),n=Kg(i,e)}c=e.filter.updateFullNode(l,n,o)}else{const r=em(n);let u=Qg(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,nm(n),a,o):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,Wm.EMPTY_NODE,nm(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Hg(i,Sg(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Yg(i,Zf()),xg(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,i,r,o):function(e,t,n,i,r,o,s){if(null!=Yg(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(am(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rv(e,t,n,l.getNode().getChild(n),r,o,a,s);if(am(n)){let i=new Tg(null);return l.getNode().forEachChild(xm,(e,t)=>{i=i.set(new Jf(e),t)}),lv(e,t,n,i,r,o,a,s)}return t}{let c=new Tg(null);return i.foreach((e,t)=>{const i=sm(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))}),lv(e,t,n,c,r,o,a,s)}}(e,t,a.path,a.affectedTree,i,r,o)}else{if(n.type!==dg.LISTEN_COMPLETE)throw Il("Unknown operation type: "+n.type);s=function(e,t,n,i,r){const o=t.serverCache,s=kg(t,o.getNode(),o.isFullyInitialized()||am(n),o.isFiltered());return iv(e,s,n,i,ev,r)}(e,t,n.path,i,o)}const l=o.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Cg(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Ym(Cg(t)))}}(t,s,l),{viewCache:s,changes:l}}function iv(e,t,n,i,r,o){const s=t.eventCache;if(null!=Yg(i,n))return t;{let a,l;if(am(n))if(Pl(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Sg(t),r=Kg(i,n instanceof Wm?n:Wm.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,o)}else{const n=Hg(i,Sg(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=em(n);if(".priority"===c){Pl(1===tm(n),"Can't have a priority with additional path components");const r=s.getNode();l=t.serverCache.getNode();const o=Gg(i,n,r,l);a=null!=o?e.filter.updatePriority(r,o):s.getNode()}else{const u=nm(n);let h;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Gg(i,n,s.getNode(),l);h=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else h=Qg(i,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,u,r,o):s.getNode()}}return xg(t,a,s.isFullyInitialized()||am(n),e.filter.filtersNodes())}}function rv(e,t,n,i,r,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(am(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=em(n);if(!l.isCompleteForPath(n)&&tm(n)>1)return t;const r=nm(n),o=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,r,ev,null)}const h=kg(t,c,l.isFullyInitialized()||am(n),u.filtersNodes());return iv(e,h,n,r,new tv(r,h,o),a)}function ov(e,t,n,i,r,o,s){const a=t.eventCache;let l,c;const u=new tv(r,t,o);if(am(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=xg(t,c,!0,e.filter.filtersNodes());else{const r=em(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=xg(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=nm(n),c=a.getNode().getImmediateChild(r);let h;if(am(o))h=i;else{const e=u.getCompleteChild(r);h=null!=e?".priority"===im(o)&&e.getChild(om(o)).isEmpty()?e:e.updateChild(o,i):Wm.EMPTY_NODE}if(c.equals(h))l=t;else{l=xg(t,e.filter.updateChild(a.getNode(),r,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function sv(e,t){return e.eventCache.isCompleteForChild(t)}function av(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function lv(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=am(n)?i:new Tg(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=av(0,t.serverCache.getNode().getImmediateChild(n),i);c=rv(e,c,new Jf(n),l,r,o,s,a)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=av(0,t.serverCache.getNode().getImmediateChild(n),i);c=rv(e,c,new Jf(n),l,r,o,s,a)}}),c}class cv{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Jm(n.getIndex()),r=(o=n).loadsAllData()?new Jm(o.getIndex()):o.hasLimit()?new eg(o):new Zm(o);var o;this.processor_=function(e){return{filter:e}}(r);const s=t.serverCache,a=t.eventCache,l=i.updateFullNode(Wm.EMPTY_NODE,s.getNode(),null),c=r.updateFullNode(Wm.EMPTY_NODE,a.getNode(),null),u=new yg(l,s.isFullyInitialized(),i.filtersNodes()),h=new yg(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=wg(h,u),this.eventGenerator_=new _g(this.query_)}get query(){return this.query_}}function uv(e,t){const n=Sg(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!am(t)&&!n.getImmediateChild(em(t)).isEmpty())?n.getChild(t):null}function hv(e){return 0===e.eventRegistrations_.length}function dv(e,t,n){const i=[];if(n){Pl(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function pv(e,t,n,i){t.type===dg.MERGE&&null!==t.source.queryId&&(Pl(Sg(e.viewCache_),"We should always have a full cache before handling merges"),Pl(Cg(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=nv(e.processor_,r,t,n,i);var s,a;return s=e.processor_,a=o.viewCache,Pl(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Pl(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Pl(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,fv(e,o.changes,o.viewCache.eventCache.getNode(),null)}function fv(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),bg(e,r,"child_removed",t,i,n),bg(e,r,"child_added",t,i,n),bg(e,r,"child_moved",o,i,n),bg(e,r,"child_changed",t,i,n),bg(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}let mv,gv;class vv{constructor(){this.views=new Map}}function yv(e,t,n,i){const r=t.source.queryId;if(null!==r){const o=e.views.get(r);return Pl(null!=o,"SyncTree gave us an op for an invalid query."),pv(o,t,n,i)}{let r=[];for(const o of e.views.values())r=r.concat(pv(o,t,n,i));return r}}function _v(e,t,n,i,r){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Hg(n,r?i:null),o=!1;e?o=!0:i instanceof Wm?(e=Kg(n,i),o=!1):(e=Wm.EMPTY_NODE,o=!1);const s=wg(new yg(e,o,!1),new yg(i,r,!1));return new cv(t,s)}return s}function bv(e,t,n,i,r,o){const s=_v(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Mm,(e,t)=>{i.push($m(e,t))});return n.isFullyInitialized()&&i.push(Ym(n.getNode())),fv(e,i,n.getNode(),t)}(s,n)}function wv(e,t,n,i){const r=t._queryIdentifier,o=[];let s=[];const a=Ev(e);if("default"===r)for(const[l,c]of e.views.entries())s=s.concat(dv(c,n,i)),hv(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(r);t&&(s=s.concat(dv(t,n,i)),hv(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Ev(e)&&o.push(new(Pl(mv,"Reference.ts has not been loaded"),mv)(t._repo,t._path)),{removed:o,events:s}}function xv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function kv(e,t){let n=null;for(const i of e.views.values())n=n||uv(i,t);return n}function Cv(e,t){if(t._queryParams.loadsAllData())return Tv(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Sv(e,t){return null!=Cv(e,t)}function Ev(e){return null!=Tv(e)}function Tv(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Pv=1;class Iv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tg(null),this.pendingWriteTree_={visibleWrites:Pg.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rv(e,t,n,i,r){return function(e,t,n,i,r){Pl(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Ig(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?jv(e,new gg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Av(e,t,n,i){!function(e,t,n,i){Pl(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Rg(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=Tg.fromObject(n);return jv(e,new vg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function Dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(Ug(e.pendingWriteTree_,t)){let t=new Tg(null);return null!=i.snap?t=t.set(Zf(),!0):wf(i.children,e=>{t=t.set(new Jf(e),!0)}),jv(e,new fg(i.path,t,n))}return[]}function Ov(e,t,n){return jv(e,new gg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Nv(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Sv(s,t))){const l=wv(s,t,n,i);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(o,(e,t)=>Ev(t));if(n&&!r){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Ev(t)){return[Tv(t)]}{let e=[];return t&&(e=xv(t)),wf(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,o=Bv(e,i);e.listenProvider_.startListening(Yv(r),Wv(e,r),o.hashFn,o.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(Yv(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(qv(t));e.listenProvider_.stopListening(Yv(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=qv(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Mv(e,t,n,i){const r=Hv(e,i);if(null!=r){const i=Kv(r),o=i.path,s=i.queryId,a=lm(o,t);return Gv(e,o,new gg(pg(s),a,n))}return[]}function Fv(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=lm(e,r);o=o||kv(t,n),s=s||Ev(t)});let a,l=e.syncPointTree_.get(r);if(l?(s=s||Ev(l),o=o||kv(l,Zf())):(l=new vv,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=o)a=!0;else{a=!1,o=Wm.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=kv(t,Zf());n&&(o=o.updateImmediateChild(e,n))})}const c=Sv(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=qv(t);Pl(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=Pv++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=bv(l,t,n,jg(e.pendingWriteTree_,r),o,a);if(!c&&!s&&!i){const n=Cv(l,t);u=u.concat(function(e,t,n){const i=t._path,r=Wv(e,t),o=Bv(e,n),s=e.listenProvider_.startListening(Yv(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)Pl(!Ev(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!am(e)&&t&&Ev(t))return[Tv(t).query];{let e=[];return t&&(e=e.concat(xv(t).map(e=>e.query))),wf(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(Yv(i),Wv(e,i))}}return s}(e,t,n))}return u}function Lv(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=kv(n,lm(e,t));if(i)return i});return qg(i,t,r,n,!0)}function zv(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const r=lm(e,n);i=i||kv(t,r)});let r=e.syncPointTree_.get(n);r?i=i||kv(r,Zf()):(r=new vv,e.syncPointTree_=e.syncPointTree_.set(n,r));const o=null!=i,s=o?new yg(i,!0,!1):null;return function(e){return Cg(e.viewCache_)}(_v(r,t,jg(e.pendingWriteTree_,t._path),o?s.getNode():Wm.EMPTY_NODE,o))}function jv(e,t){return Uv(t,e.syncPointTree_,null,jg(e.pendingWriteTree_,Zf()))}function Uv(e,t,n,i){if(am(e.path))return Vv(e,t,n,i);{const r=t.get(Zf());null==n&&null!=r&&(n=kv(r,Zf()));let o=[];const s=em(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Xg(i,s);o=o.concat(Uv(a,l,e,t))}return r&&(o=o.concat(yv(r,e,i,n))),o}}function Vv(e,t,n,i){const r=t.get(Zf());null==n&&null!=r&&(n=kv(r,Zf()));let o=[];return t.children.inorderTraversal((t,r)=>{const s=n?n.getImmediateChild(t):null,a=Xg(i,t),l=e.operationForChild(t);l&&(o=o.concat(Vv(l,r,s,a)))}),r&&(o=o.concat(yv(r,e,i,n))),o}function Bv(e,t){const n=t.query,i=Wv(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Wm.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=Hv(e,n);if(i){const n=Kv(i),r=n.path,o=n.queryId,s=lm(r,t);return Gv(e,r,new mg(pg(o),s))}return[]}(e,n._path,i):function(e,t){return jv(e,new mg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return Nv(e,n,null,i)}}}}function Wv(e,t){const n=qv(t);return e.queryToTagMap.get(n)}function qv(e){return e._path.toString()+"$"+e._queryIdentifier}function Hv(e,t){return e.tagToQueryMap.get(t)}function Kv(e){const t=e.indexOf("$");return Pl(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Jf(e.substr(0,t))}}function Gv(e,t,n){const i=e.syncPointTree_.get(t);Pl(i,"Missing sync point for query tag that we're tracking");return yv(i,n,jg(e.pendingWriteTree_,t),null)}function Yv(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Pl(gv,"Reference.ts has not been loaded"),gv)(e._repo,e._path):e}class $v{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $v(t)}node(){return this.node_}}class Qv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=sm(this.path_,e);return new Qv(this.syncTree_,t)}node(){return Lv(this.syncTree_,this.path_)}}const Xv=function(e,t,n){return e&&"object"===typeof e?(Pl(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Jv(e[".sv"],t,n):"object"===typeof e[".sv"]?Zv(e[".sv"],t):void Pl(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jv=function(e,t,n){if("timestamp"===e)return n.timestamp;Pl(!1,"Unexpected server value: "+e)},Zv=function(e,t,n){e.hasOwnProperty("increment")||Pl(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!==typeof i&&Pl(!1,"Unexpected increment value: "+i);const r=t.node();if(Pl(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!==typeof o?i:o+i},ey=function(e,t,n,i){return ny(t,new Qv(n,e),i)},ty=function(e,t,n){return ny(e,new $v(t),n)};function ny(e,t,n){const i=e.getPriority().val(),r=Xv(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const i=e,o=Xv(i.getValue(),t,n);return o!==i.getValue()||r!==i.getPriority().val()?new Nm(o,Hm(r)):e}{const i=e;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new Nm(r))),i.forEachChild(Mm,(e,i)=>{const r=ny(i,t.getImmediateChild(e),n);r!==i&&(o=o.updateImmediateChild(e,r))}),o}}class iy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ry(e,t){let n=t instanceof Jf?t:new Jf(t),i=e,r=em(n);for(;null!==r;){const e=nc(i.node.children,r)||{children:{},childCount:0};i=new iy(r,i,e),n=nm(n),r=em(n)}return i}function oy(e){return e.node.value}function sy(e,t){e.node.value=t,hy(e)}function ay(e){return e.node.childCount>0}function ly(e,t){wf(e.node.children,(n,i)=>{t(new iy(n,e,i))})}function cy(e,t,n,i){n&&!i&&t(e),ly(e,e=>{cy(e,t,!0,i)}),n&&i&&t(e)}function uy(e){return new Jf(null===e.parent?e.name:uy(e.parent)+"/"+e.name)}function hy(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===oy(e)&&!ay(e)}(n),r=tc(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,hy(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,hy(e))}(e.parent,e.name,e)}const dy=/[\[\].#$\/\u0000-\u001F\u007F]/,py=/[\[\].#$\u0000-\u001F\u007F]/,fy=10485760,my=function(e){return"string"===typeof e&&0!==e.length&&!dy.test(e)},gy=function(e){return"string"===typeof e&&0!==e.length&&!py.test(e)},vy=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!pf(e)||e&&"object"===typeof e&&tc(e,".sv")},yy=function(e,t,n,i){i&&void 0===t||_y(pc(e,"value"),t,n)},_y=function(e,t,n){const i=n instanceof Jf?new dm(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+fm(i));if("function"===typeof t)throw new Error(e+"contains a function "+fm(i)+" with contents = "+t.toString());if(pf(t))throw new Error(e+"contains "+t.toString()+" "+fm(i));if("string"===typeof t&&t.length>fy/3&&fc(t)>fy)throw new Error(e+"contains a string greater than "+fy+" utf8 bytes "+fm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(wf(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!my(t)))throw new Error(e+" contains an invalid key ("+t+") "+fm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fc(t),pm(e)}(i,t),_y(e,o,i),function(e){const t=e.parts_.pop();e.byteLength_-=fc(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),n&&r)throw new Error(e+' contains ".value" child '+fm(i)+" in addition to actual children.")}},by=function(e,t,n,i){if(i&&void 0===t)return;const r=pc(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];wf(t,(e,t)=>{const i=new Jf(e);if(_y(r,t,sm(n,i)),".priority"===im(i)&&!vy(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(i)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=rm(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!my(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(cm);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&hm(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},wy=function(e,t,n){if(!n||void 0!==t){if(pf(t))throw new Error(pc(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vy(t))throw new Error(pc(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xy=function(e,t,n,i){if((!i||void 0!==n)&&!gy(n))throw new Error(pc(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ky=function(e,t){if(".info"===em(t))throw new Error(e+" failed = Can't modify data under /.info/")},Cy=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!my(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gy(e)}(n))throw new Error(pc(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Sy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ey(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null===n||um(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function Ty(e,t,n){Ey(e,n),Iy(e,e=>um(e,t))}function Py(e,t,n){Ey(e,n),Iy(e,e=>hm(e,t)||hm(t,e))}function Iy(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(Ry(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ry(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();of&&lf("event: "+n.toString()),Sf(i)}}}const Ay="repo_interrupt";class Dy{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sg(),this.transactionQueueTree_=new iy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Oy(e,t,n){if(e.stats_=Uf(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new rg(e.repoInfo_,(t,n,i,r)=>{Fy(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ly(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zl(n)}catch(jS){throw new Error("Invalid authOverride provided: "+jS)}}e.persistentConnection_=new vm(e.repoInfo_,t,(t,n,i,r)=>{Fy(e,t,n,i,r)},t=>{Ly(e,t)},t=>{!function(e,t){wf(t,(t,n)=>{zy(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return jf[n]||(jf[n]=t()),jf[n]}(e.repoInfo_,()=>new hg(e.stats_,e.server_)),e.infoData_=new og,e.infoSyncTree_=new Iv({startListening:(t,n,i,r)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Ov(e.infoSyncTree_,t._path,s),setTimeout(()=>{r("ok")},0)),o},stopListening:()=>{}}),zy(e,"connected",!1),e.serverSyncTree_=new Iv({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{const o=r(n,i);Py(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ny(e){const t=e.infoData_.getNode(new Jf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function My(e){return(t=(t={timestamp:Ny(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Fy(e,t,n,i,r){e.dataUpdateCount++;const o=new Jf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){const t=rc(n,e=>Hm(e));s=function(e,t,n,i){const r=Hv(e,i);if(r){const i=Kv(r),o=i.path,s=i.queryId,a=lm(o,t),l=Tg.fromObject(n);return Gv(e,o,new vg(pg(s),a,l))}return[]}(e.serverSyncTree_,o,t,r)}else{const t=Hm(n);s=Mv(e.serverSyncTree_,o,t,r)}else if(i){const t=rc(n,e=>Hm(e));s=function(e,t,n){const i=Tg.fromObject(n);return jv(e,new vg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,t)}else{const t=Hm(n);s=Ov(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=$y(e,o)),Py(e.eventQueue_,a,s)}function Ly(e,t){zy(e,"connected",t),!1===t&&function(e){Hy(e,"onDisconnectEvents");const t=My(e),n=sg();cg(e.onDisconnect_,Zf(),(i,r)=>{const o=ey(i,r,e.serverSyncTree_,t);ag(n,i,o)});let i=[];cg(n,Zf(),(t,n)=>{i=i.concat(Ov(e.serverSyncTree_,t,n));const r=e_(e,t);$y(e,r)}),e.onDisconnect_=sg(),Py(e.eventQueue_,Zf(),i)}(e)}function zy(e,t,n){const i=new Jf("/.info/"+t),r=Hm(n);e.infoData_.updateSnapshot(i,r);const o=Ov(e.infoSyncTree_,i,r);Py(e.eventQueue_,i,o)}function jy(e){return e.nextWriteId_++}function Uy(e,t,n,i,r){Hy(e,"set",{path:t.toString(),value:n,priority:i});const o=My(e),s=Hm(n,i),a=Lv(e.serverSyncTree_,t),l=ty(s,a,o),c=jy(e),u=Rv(e.serverSyncTree_,t,l,c,!0);Ey(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,i)=>{const o="ok"===n;o||df("set at "+t+" failed: "+n);const s=Dv(e.serverSyncTree_,c,!o);Py(e.eventQueue_,t,s),Ky(e,r,n,i)});const h=e_(e,t);$y(e,h),Py(e.eventQueue_,h,[])}function Vy(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&lg(e.onDisconnect_,t),Ky(e,n,i,r)})}function By(e,t,n,i){const r=Hm(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(n,o)=>{"ok"===n&&ag(e.onDisconnect_,t,r),Ky(e,i,n,o)})}function Wy(e,t,n){let i;i=".info"===em(t._path)?Nv(e.infoSyncTree_,t,n):Nv(e.serverSyncTree_,t,n),Ty(e.eventQueue_,t._path,i)}function qy(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ay)}function Hy(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lf(t,...i)}function Ky(e,t,n,i){t&&Sf(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const o=new Error(r);o.code=e,t(o)}})}function Gy(e,t,n){return Lv(e.serverSyncTree_,t,n)||Wm.EMPTY_NODE}function Yy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Zy(e,t),oy(t)){const n=Xy(e,t);Pl(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const i=n.map(e=>e.currentWriteId),r=Gy(e,t,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const e=n[c];Pl(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=lm(t,e.path);o=o.updateChild(i,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,i=>{Hy(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Dv(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Zy(e,ry(e.transactionQueueTree_,t)),Yy(e,e.transactionQueueTree_),Py(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Sf(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{df("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}$y(e,t)}},s)}(e,uy(t),n)}else ay(t)&&ly(t,t=>{Yy(e,t)})}function $y(e,t){const n=Qy(e,t),i=uy(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=lm(n,o.path);let c,u=!1;if(Pl(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,r=r.concat(Dv(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",r=r.concat(Dv(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Gy(e,o.path,s);o.currentInputSnapshot=n;const i=t[a].update(n.val());if(void 0!==i){_y("transaction failed: Data returned ",i,o.path);let t=Hm(i);"object"===typeof i&&null!=i&&tc(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=My(e),c=ty(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=jy(e),s.splice(s.indexOf(a),1),r=r.concat(Rv(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),r=r.concat(Dv(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",r=r.concat(Dv(e.serverSyncTree_,o.currentWriteId,!0))}Py(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(c),!1,null))))}Zy(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Sf(i[a]);Yy(e,e.transactionQueueTree_)}(e,Xy(e,n),i),i}function Qy(e,t){let n,i=e.transactionQueueTree_;for(n=em(t);null!==n&&void 0===oy(i);)i=ry(i,n),n=em(t=nm(t));return i}function Xy(e,t){const n=[];return Jy(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Jy(e,t,n){const i=oy(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);ly(t,t=>{Jy(e,t,n)})}function Zy(e,t){const n=oy(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,sy(t,n.length>0?n:void 0)}ly(t,t=>{Zy(e,t)})}function e_(e,t){const n=uy(Qy(e,t)),i=ry(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,t=>{t_(e,t)}),t_(e,i),cy(i,t=>{t_(e,t)}),n}function t_(e,t){const n=oy(t);if(n){const i=[];let r=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Pl(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Pl(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Dv(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?sy(t,void 0):n.length=o+1,Py(e.eventQueue_,uy(t),r);for(let e=0;e<i.length;e++)Sf(i[e])}}const n_=function(e,t){const n=i_(e),i=n.namespace;"firebase.com"===n.domain&&hf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||hf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&df("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Mf(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Jf(n.pathString)}},i_=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(r=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(jS){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):df("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=i}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},r_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",o_=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=r_.charAt(n%64),n=Math.floor(n/64);Pl(0===n,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=r_.charAt(t[r]);return Pl(20===s.length,"nextPushId: Length should be 20."),s}}();class s_{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zl(this.snapshot.exportVal())}}class a_{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class l_{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Pl(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class c_{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ql;return Vy(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ky("OnDisconnect.remove",this._path);const e=new ql;return By(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ky("OnDisconnect.set",this._path),yy("OnDisconnect.set",e,this._path,!1);const t=new ql;return By(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ky("OnDisconnect.setWithPriority",this._path),yy("OnDisconnect.setWithPriority",e,this._path,!1),wy("OnDisconnect.setWithPriority",t,!1);const n=new ql;return function(e,t,n,i,r){const o=Hm(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,i)=>{"ok"===n&&ag(e.onDisconnect_,t,o),Ky(0,r,n,i)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){ky("OnDisconnect.update",this._path),by("OnDisconnect.update",e,this._path,!1);const t=new ql;return function(e,t,n,i){if(ic(n))return lf("onDisconnect().update() called with empty data.  Don't do anything."),void Ky(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{"ok"===r&&wf(n,(n,i)=>{const r=Hm(i);ag(e.onDisconnect_,sm(t,n),r)}),Ky(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class u_{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return am(this._path)?null:im(this._path)}get ref(){return new h_(this._repo,this._path)}get _queryIdentifier(){const e=ig(this._queryParams),t=_f(e);return"{}"===t?"default":t}get _queryObject(){return ig(this._queryParams)}isEqual(e){if(!((e=mc(e))instanceof u_))return!1;const t=this._repo===e._repo,n=um(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class h_ extends u_{constructor(e,t){super(e,t,new tg,!1)}get parent(){const e=om(this._path);return null===e?null:new h_(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class d_{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Jf(e),n=f_(this.ref,e);return new d_(this._node.getChild(t),n,Mm)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new d_(n,f_(this.ref,t),Mm)))}hasChild(e){const t=new Jf(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function p_(e,t){return(e=mc(e))._checkNotDeleted("ref"),void 0!==t?f_(e._root,t):e._root}function f_(e,t){var n,i,r,o;return null===em((e=mc(e))._path)?(n="child",i="path",o=!1,(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),xy(n,i,r,o)):xy("child","path",t,!1),new h_(e._repo,sm(e._path,t))}function m_(e,t){e=mc(e),ky("set",e._path),yy("set",t,e._path,!1);const n=new ql;return Uy(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function g_(e,t){by("update",t,e._path,!1);const n=new ql;return function(e,t,n,i){Hy(e,"update",{path:t.toString(),value:n});let r=!0;const o=My(e),s={};if(wf(n,(n,i)=>{r=!1,s[n]=ey(sm(t,n),Hm(i),e.serverSyncTree_,o)}),r)lf("update() called with empty data.  Don't do anything."),Ky(0,i,"ok",void 0);else{const r=jy(e),o=Av(e.serverSyncTree_,t,s,r);Ey(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||df("update at "+t+" failed: "+n);const a=Dv(e.serverSyncTree_,r,!s),l=a.length>0?$y(e,t):t;Py(e.eventQueue_,l,a),Ky(0,i,n,o)}),wf(n,n=>{const i=e_(e,sm(t,n));$y(e,i)}),Py(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function v_(e){e=mc(e);const t=new l_(()=>{}),n=new y_(t);return function(e,t,n){const i=zv(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(i=>{const r=Hm(i).withIndex(t._queryParams.getIndex());let o;if(Fv(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Ov(e.serverSyncTree_,t._path,r);else{const n=Wv(e.serverSyncTree_,t);o=Mv(e.serverSyncTree_,t._path,r,n)}return Py(e.eventQueue_,t._path,o),Nv(e.serverSyncTree_,t,n,null,!0),r},n=>(Hy(e,"get for query "+Zl(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new d_(t,new h_(e._repo,e._path),e._queryParams.getIndex()))}class y_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new s_("value",this,new d_(e.snapshotNode,new h_(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a_(this,e,t):null}matches(e){return e instanceof y_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class __{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a_(this,e,t):null}createEvent(e,t){Pl(null!=e.childName,"Child events should have a childName.");const n=f_(new h_(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new s_(e.type,this,new d_(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof __&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function b_(e,t,n,i,r){let o;if("object"===typeof i&&(o=void 0,r=i),"function"===typeof i&&(o=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{Wy(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const s=new l_(n,o||void 0),a="value"===t?new y_(s):new __(t,s);return function(e,t,n){let i;i=".info"===em(t._path)?Fv(e.infoSyncTree_,t,n):Fv(e.serverSyncTree_,t,n),Ty(e.eventQueue_,t._path,i)}(e._repo,e,a),()=>Wy(e._repo,e,a)}function w_(e,t,n,i){return b_(e,"value",t,n,i)}!function(e){Pl(!mv,"__referenceConstructor has already been defined"),mv=e}(h_),function(e){Pl(!gv,"__referenceConstructor has already been defined"),gv=e}(h_);const x_={};let k_=!1;function C_(e,t,n,i,r){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||hf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lf("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=n_(o,r),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/taptap-new",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=n_(o,r),c=l.repoInfo):s=!l.repoInfo.secure;const u=r&&s?new If(If.OWNER):new Pf(e.name,e.options,t);Cy("Invalid Firebase Database URL",l),am(l.path)||hf("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,i){let r=x_[t.name];r||(r={},x_[t.name]=r);let o=r[e.toURLString()];o&&hf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Dy(e,k_,n,i),r[e.toURLString()]=o,o}(c,e,u,new Tf(e.name,n));return new S_(h,e)}class S_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Oy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new h_(this._repo,Zf())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=x_[t];n&&n[e.key]===e||hf("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),qy(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&hf("Cannot call "+e+" on a deleted database.")}}const E_={".sv":"timestamp"};function T_(){return E_}vm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},vm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Yp=e}(Eu),xu(new gc("database",(e,t)=>{let{instanceIdentifier:n}=t;return C_(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Iu(Kp,Gp,e),Iu(Kp,Gp,"esm2017")}();const P_=Tu({apiKey:"AIzaSyA5ia1cFqxamm2exfqb1-pTvGzQFHGKlsQ",authDomain:"johnmunga-2d89b.firebaseapp.com",databaseURL:"https://johnmunga-2d89b-default-rtdb.firebaseio.com",projectId:"johnmunga-2d89b",storageBucket:"johnmunga-2d89b.firebasestorage.app",messagingSenderId:"1036647099803",appId:"1:1036647099803:web:87a204324b19099adc053e",measurementId:"G-97VVKSQ7ZW"}),I_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu();const t=ku(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ku(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(oc(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ku(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:jp,persistence:[Jd,Md,Ld]}),i=Wl("authTokenSyncURL");if(i){const e=(r=i,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Wp)return;const i=null===t||void 0===t?void 0:t.token;qp!==i&&(qp=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(e,t,n){mc(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,i){mc(e).onIdTokenChanged(t,n,i)}(n,t=>e(t))}var r;const o=Vl("auth");return o&&td(n,"http://".concat(o)),n}(P_),R_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu(),t=arguments.length>1?arguments[1]:void 0;const n=ku(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=Vl(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})("database");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=mc(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&hf("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&hf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new If(If.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nl(JSON.stringify({alg:"none",type:"JWT"})),Nl(JSON.stringify(o)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new If(t)}!function(e,t,n,i){e.repoInfo_=new Mf("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,t,n,o)}(n,...e)}return n}(P_),A_=new _d,D_=()=>function(e,t){return mc(e).setPersistence(t)}(I_,Md),O_=()=>{const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),m=nl();return(0,mr.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-black to-purple-900 flex items-center justify-center p-4",children:(0,mr.jsxs)(oa.div,{className:"bg-white bg-opacity-10 backdrop-blur-lg p-8 rounded-xl border border-cyan-500 border-opacity-50 max-w-md w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-cyan-400 mb-6 text-center",children:e?"Welcome Back!":"Join TapTap!"}),c&&(0,mr.jsx)(oa.p,{className:"text-red-400 mb-4 text-center",initial:{opacity:0},animate:{opacity:1},children:c}),p?(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Enter Email for Reset"}),(0,mr.jsx)("input",{type:"email",value:n,onChange:e=>r(e.target.value),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"Enter your email",required:!0}),(0,mr.jsx)(oa.button,{onClick:async()=>{u(""),d(!0);try{await async function(e,t,n){var i;const r=Zh(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Qh(r,o,"getOobCode",!0);n&&Ad(r,e,n),await ld(r,e)}else n&&Ad(r,o,n),await ld(r,o).catch(async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Qh(r,o,"getOobCode",!0);n&&Ad(r,e,n),await ld(r,e)}})}(I_,n),u("Password reset email sent! Check your inbox.")}catch(e){u(e.message.replace("Firebase: ","")),console.error("Password reset error:",e)}finally{d(!1),f(!1)}},className:"w-full p-3 ".concat(h?"bg-gray-500":"bg-cyan-400"," text-black rounded-lg font-semibold hover:bg-cyan-500"),disabled:h,whileHover:{scale:1.05},whileTap:{scale:.95},children:h?"Sending...":"Send Reset Email"}),(0,mr.jsx)("button",{onClick:()=>f(!1),className:"text-cyan-400 hover:underline",children:"Back to Login"})]}):(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(""),d(!0);try{a&&await D_(),e?await function(e,t,n){return Rd(mc(e),md.credential(t,n))}(I_,n,o):await async function(e,t,n){var i;const r=Zh(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Qh(r,o,"signUpPassword");s=xd(r,e)}else s=xd(r,o).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Qh(r,o,"signUpPassword");return xd(r,e)}return Promise.reject(e)});const a=await s.catch(e=>Promise.reject(e)),l=await kd._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}(I_,n,o),console.log("Auth successful, redirecting to /profile"),m("/profile")}catch(i){u(i.message.replace("Firebase: ","")),console.error("Auth error:",i)}finally{d(!1)}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Email"}),(0,mr.jsx)("input",{type:"email",value:n,onChange:e=>r(e.target.value),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"Enter your email",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Password"}),(0,mr.jsx)("input",{type:"password",value:o,onChange:e=>s(e.target.value),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"Enter your password",required:!0})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("label",{className:"flex items-center text-gray-400",children:[(0,mr.jsx)("input",{type:"checkbox",checked:a,onChange:()=>l(!a),className:"mr-2"}),"Remember Me"]}),e&&(0,mr.jsx)("button",{type:"button",onClick:()=>f(!0),className:"text-cyan-400 hover:underline",children:"Forgot Password?"})]}),(0,mr.jsx)(oa.button,{type:"submit",className:"w-full p-3 ".concat(h?"bg-gray-500":"bg-cyan-400"," text-black rounded-lg font-semibold hover:bg-cyan-500"),disabled:h,whileHover:{scale:1.05},whileTap:{scale:.95},children:h?"Processing...":e?"Log In":"Sign Up"})]}),(0,mr.jsxs)("div",{className:"mt-6 text-center",children:[(0,mr.jsxs)("p",{className:"text-gray-400 mb-4",children:[e?"Don't have an account?":"Already have an account?",(0,mr.jsx)("button",{onClick:()=>t(!e),className:"text-cyan-400 hover:underline ml-1",children:e?"Sign Up":"Log In"})]}),(0,mr.jsxs)(oa.button,{onClick:async()=>{u(""),d(!0);try{a&&await D_(),await async function(e,t,n){const i=Zh(e);$u(e,t,gd);const r=np(i,n);return new cp(i,"signInViaPopup",t,r).executeNotNull()}(I_,A_),console.log("Google Sign-In successful, redirecting to /profile"),m("/profile")}catch(e){u(e.message.replace("Firebase: ","")),console.error("Google Sign-In error:",e)}finally{d(!1)}},className:"w-full p-3 ".concat(h?"bg-gray-500":"bg-white"," text-black rounded-lg font-semibold hover:bg-gray-100 flex items-center justify-center"),disabled:h,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,mr.jsx)("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),"Sign in with Google"]})]})]})})},N_=e=>{let{currentUser:t}=e;const[n,r]=(0,i.useState)({displayName:"",location:"",dateOfBirth:"",bio:""}),[o,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),u=nl();(0,i.useEffect)(()=>{if(!t)return;v_(p_(R_,"users/".concat(t.uid))).then(e=>{e.exists()&&(console.log("Fetched profile:",e.val()),r(e.val()))}).catch(e=>{console.error("Error fetching profile:",e)})},[t]);return(0,mr.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-black to-purple-900 flex items-center justify-center p-4",children:(0,mr.jsxs)(oa.div,{className:"bg-white bg-opacity-10 backdrop-blur-lg p-8 rounded-xl border border-cyan-500 border-opacity-50 max-w-md w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-cyan-400 mb-6 text-center",children:"Create Your Profile"}),o&&(0,mr.jsx)(oa.p,{className:"text-red-400 mb-4 text-center",initial:{opacity:0},animate:{opacity:1},children:o}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s(""),c(!0),!n.displayName.trim())return s("Display name is required"),void c(!1);try{const e=p_(R_,"users/".concat(t.uid)),i=(0,a.A)((0,a.A)({},n),{},{email:t.email,online:!0,lastActive:T_()});console.log("Saving profile:",i),await g_(e,i),u("/main")}catch(i){s(i.message),console.error("Profile update error:",i)}finally{c(!1)}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Display Name"}),(0,mr.jsx)("input",{type:"text",value:n.displayName,onChange:e=>r((0,a.A)((0,a.A)({},n),{},{displayName:e.target.value})),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"Enter your name",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Location"}),(0,mr.jsx)("input",{type:"text",value:n.location,onChange:e=>r((0,a.A)((0,a.A)({},n),{},{location:e.target.value})),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"e.g., Nairobi, Kenya"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Date of Birth"}),(0,mr.jsx)("input",{type:"date",value:n.dateOfBirth,onChange:e=>r((0,a.A)((0,a.A)({},n),{},{dateOfBirth:e.target.value})),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-400 mb-1",children:"Bio"}),(0,mr.jsx)("textarea",{value:n.bio,onChange:e=>r((0,a.A)((0,a.A)({},n),{},{bio:e.target.value})),className:"w-full p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600",placeholder:"Tell us about yourself",rows:"4"})]}),(0,mr.jsx)(oa.button,{type:"submit",className:"w-full p-3 ".concat(l?"bg-gray-500":"bg-cyan-400"," text-black rounded-lg font-semibold hover:bg-cyan-500"),disabled:l,whileHover:{scale:1.05},whileTap:{scale:.95},children:l?"Saving...":"Save Profile"})]})]})})},M_=e=>{let{currentUser:t}=e;const[n,r]=(0,i.useState)([]),o=nl();(0,i.useEffect)(()=>{if(!t)return void console.log("No currentUser, skipping user fetch");console.log("Current user:",t.uid,t.email);const e=p_(R_,"users");console.log("Subscribing to usersRef:",e.path);const n=w_(e,e=>{const n=[];e.exists()?(e.forEach(e=>{const i=e.val();console.log("Raw user data:",e.key,i),i.online&&e.key!==t.uid&&n.push((0,a.A)({id:e.key},i))}),console.log("Filtered online users:",n)):console.log("No users found in database");const i=n.sort((e,n)=>e.location===t.location&&n.location!==t.location?-1:e.location!==t.location&&n.location===t.location?1:0);r(i)},e=>{console.error("Error fetching users:",e)});return()=>{console.log("Unsubscribing from usersRef"),n()}},[t]);return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-black to-purple-900 p-6",children:[(0,mr.jsx)(oa.h1,{className:"text-4xl font-bold text-cyan-500 mb-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:"TapTap Community"}),(0,mr.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,mr.jsx)(oa.button,{onClick:()=>o("/settings"),className:"p-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900",whileHover:{scale:1.05},transition:{duration:.2},children:"Settings"}),(0,mr.jsx)(oa.button,{onClick:()=>o("/posts"),className:"p-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900",whileHover:{scale:1.05},transition:{duration:.2},children:"Posts"}),(0,mr.jsx)(oa.button,{onClick:()=>I_.signOut(),className:"p-2 bg-red-800 text-white rounded-lg hover:bg-red-900",whileHover:{scale:1.05},transition:{duration:.2},children:"Log Out"})]}),(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-cyan-400 mb-4",children:"Online Users"}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===n.length?(0,mr.jsx)("p",{className:"text-gray-400 text-center",children:"No users online. Invite friends to TapTap!"}):n.map(e=>(0,mr.jsxs)(oa.div,{className:"p-4 rounded-lg bg-white bg-opacity-10 backdrop-blur-lg border border-cyan-500 border-opacity-50 cursor-pointer hover:bg-opacity-20",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},whileHover:{scale:1.05},onClick:()=>(async e=>{const n=[t.uid,e].sort().join("_");try{console.log("Starting chat:",n,"Participants:",t.uid,e),await m_(p_(R_,"chats/".concat(n)),{participants:{[t.uid]:!0,[e]:!0},createdAt:T_()}),console.log("Chat created, navigating to:","/chat/".concat(n)),o("/chat/".concat(n))}catch(uf){console.error("Error starting chat:",uf)}})(e.id),children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-cyan-500",children:e.displayName}),(0,mr.jsx)("p",{className:"text-gray-400",children:e.email}),e.location&&(0,mr.jsxs)("p",{className:"text-gray-400",children:["\ud83d\udccd ",e.location]}),(0,mr.jsx)("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mt-2"})]},e.id))})]})},F_=e=>{let{currentUser:t}=e;const{chatId:n}=function(){let{matches:e}=i.useContext(Xa),t=e[e.length-1];return t?t.params:{}}(),[r,o]=(0,i.useState)([]),[s,l]=(0,i.useState)(""),c=(0,i.useRef)(null),u=nl();(0,i.useEffect)(()=>{if(!t||!n)return void console.error("Missing currentUser or chatId:",{currentUser:t,chatId:n});const e=p_(R_,"chats/".concat(n,"/messages"));console.log("Subscribing to:","chats/".concat(n,"/messages"));const i=w_(e,e=>{const t=[];e.exists()?(e.forEach(e=>{const n=e.val();t.push((0,a.A)({id:e.key},n))}),console.log("Fetched messages:",t)):console.log("No messages in chat:",n),o(t)},e=>{console.error("Error fetching messages:",e)});return()=>{console.log("Unsubscribing from:","chats/".concat(n,"/messages")),i()}},[n,t]),(0,i.useEffect)(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-black to-purple-900 flex flex-col",children:[(0,mr.jsxs)(oa.div,{className:"flex justify-between p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-cyan-400",children:"Chat"}),(0,mr.jsx)(oa.button,{onClick:()=>u("/main"),className:"p-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900",whileHover:{scale:1.05},transition:{duration:.2},children:"Back to Main"})]}),(0,mr.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[0===r.length?(0,mr.jsx)("p",{className:"text-gray-400 text-center",children:"No messages yet. Start chatting!"}):r.map(e=>(0,mr.jsx)(oa.div,{className:"flex ".concat(e.sender===t.uid?"justify-end":"justify-start"," mb-4"),initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:(0,mr.jsxs)("div",{className:"max-w-xs p-3 rounded-lg ".concat(e.sender===t.uid?"bg-cyan-400 text-black":"bg-white bg-opacity-10 text-white"),children:[(0,mr.jsx)("p",{children:e.text}),(0,mr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"Sending..."})]})},e.id)),(0,mr.jsx)("div",{ref:c})]}),(0,mr.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),s.trim())try{console.log("Sending message:",{text:s,sender:t.uid}),await function(e,t){e=mc(e),ky("push",e._path),yy("push",t,e._path,!0);const n=Ny(e._repo),i=o_(n),r=f_(e,i),o=f_(e,i);let s;return s=null!=t?m_(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(p_(R_,"chats/".concat(n,"/messages")),{sender:t.uid,text:s,timestamp:T_()}),l("")}catch(uf){console.error("Error sending message:",uf)}},className:"p-6",children:(0,mr.jsxs)("div",{className:"flex space-x-4",children:[(0,mr.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Type a message...",className:"flex-1 p-3 bg-transparent border border-cyan-400 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyan-600"}),(0,mr.jsx)(oa.button,{type:"submit",className:"p-3 bg-cyan-400 text-black rounded-lg font-semibold hover:bg-cyan-500",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Send"})]})})]})},L_="generated",z_="pointerleave",j_="pointermove",U_="touchend",V_="tsParticles - Error",B_=100,W_=.5,q_=1e3,H_=0,K_=0,G_=0,Y_=1,$_=0,Q_=0,X_=1,J_="random",Z_="mid",eb=2*Math.PI,tb="true",nb="false",ib="canvas",rb=255,ob=360,sb=.25,ab=255;var lb;function cb(e){return"boolean"===typeof e}function ub(e){return"string"===typeof e}function hb(e){return"number"===typeof e}function db(e){return"object"===typeof e&&null!==e}function pb(e){return Array.isArray(e)}function fb(e){return null===e||void 0===e}!function(e){e.bottom="bottom",e.bottomLeft="bottom-left",e.bottomRight="bottom-right",e.left="left",e.none="none",e.right="right",e.top="top",e.topLeft="top-left",e.topRight="top-right",e.outside="outside",e.inside="inside"}(lb||(lb={}));class mb{constructor(e,t,n){if(this._updateFromAngle=(e,t)=>{this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},!hb(e)&&e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:G_}else{if(void 0===e||void 0===t)throw new Error("".concat(V_," Vector3d not initialized correctly"));this.x=e,this.y=t,this.z=null!==n&&void 0!==n?n:G_}}static get origin(){return mb.create(H_,K_,G_)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return mb.create(e.x,e.y,e.z)}static create(e,t,n){return new mb(e,t,n)}add(e){return mb.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return mb.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return mb.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return mb.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;0!=e&&this.multTo(1/e)}rotate(e){return mb.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),G_)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:G_}sub(e){return mb.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class gb extends mb{constructor(e,t){super(e,t,G_)}static get origin(){return gb.create(H_,K_)}static clone(e){return gb.create(e.x,e.y)}static create(e,t){return new gb(e,t)}}let vb=Math.random;const yb={nextFrame:e=>requestAnimationFrame(e),cancel:e=>cancelAnimationFrame(e)};function _b(){return bb(vb(),0,1-Number.EPSILON)}function bb(e,t,n){return Math.min(Math.max(e,t),n)}function wb(e,t,n,i){return Math.floor((e*n+t*i)/(n+i))}function xb(e){const t=Sb(e);let n=Cb(e);return t===n&&(n=0),_b()*(t-n)+n}function kb(e){return hb(e)?e:xb(e)}function Cb(e){return hb(e)?e:e.min}function Sb(e){return hb(e)?e:e.max}function Eb(e,t){if(e===t||void 0===t&&hb(e))return e;const n=Cb(e),i=Sb(e);return void 0!==t?{min:Math.min(n,t),max:Math.max(i,t)}:Eb(n,i)}function Tb(e,t){const n=e.x-t.x,i=e.y-t.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function Pb(e,t){return Tb(e,t).distance}function Ib(e){return e*Math.PI/180}function Rb(e,t,n,i){return gb.create(e.x*(n-i)/(n+i)+2*t.x*i/(n+i),e.y)}function Ab(e){var t,n,i,r;return{x:null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:_b()*e.size.width,y:null!==(i=null===(r=e.position)||void 0===r?void 0:r.y)&&void 0!==i?i:_b()*e.size.height}}function Db(e){return e?e.endsWith("%")?parseFloat(e)/B_:parseFloat(e):1}var Ob,Nb,Mb,Fb,Lb,zb;!function(e){e.auto="auto",e.increase="increase",e.decrease="decrease",e.random="random"}(Ob||(Ob={})),function(e){e.increasing="increasing",e.decreasing="decreasing"}(Nb||(Nb={})),function(e){e.none="none",e.max="max",e.min="min"}(Mb||(Mb={})),function(e){e.bottom="bottom",e.left="left",e.right="right",e.top="top"}(Fb||(Fb={})),function(e){e.precise="precise",e.percent="percent"}(Lb||(Lb={})),function(e){e.max="max",e.min="min",e.random="random"}(zb||(zb={}));const jb=["mode"],Ub={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Vb(){return Ub}function Bb(e){const t={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:o,velocity:s,factor:a}=e;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(n.max>=r.min&&n.max<=(r.max+r.min)*W_&&s>0||n.min<=r.max&&n.min>(r.max+r.min)*W_&&s<0)&&(t.velocity=s*-a,t.bounced=!0),t}function Wb(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function qb(e){if(!Wb()&&"undefined"!==typeof matchMedia)return matchMedia(e)}function Hb(e,t){return e===t||pb(t)&&t.indexOf(e)>-1}async function Kb(e,t){try{await document.fonts.load("".concat(null!==t&&void 0!==t?t:"400"," 36px '").concat(null!==e&&void 0!==e?e:"Verdana","'"))}catch(n){}}function Gb(e,t){return e[void 0!==t&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?t%e.length:function(e){return Math.floor(_b()*e.length)}(e)]}function Yb(e,t,n,i,r){return function(e,t,n,i){let r=!0;i&&i!==Fb.bottom||(r=e.top<t.height+n.x);!r||i&&i!==Fb.left||(r=e.right>n.x);!r||i&&i!==Fb.right||(r=e.left<t.width+n.y);!r||i&&i!==Fb.top||(r=e.bottom>n.y);return r}($b(e,null!==i&&void 0!==i?i:0),t,n,r)}function $b(e,t){return{bottom:e.y+t,left:e.x-t,right:e.x+t,top:e.y-t}}function Qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n){if(void 0===r||null===r)continue;if(!db(r)){e=r;continue}const t=Array.isArray(r);!t||!db(e)&&e&&Array.isArray(e)?t||!db(e)&&e&&!Array.isArray(e)||(e={}):e=[];for(const n in r){if("__proto__"===n)continue;const t=r[n],i=e;i[n]=db(t)&&Array.isArray(t)?t.map(e=>Qb(i[n],e)):Qb(i[n],t)}}return e}function Xb(e,t){return!!ow(t,t=>t.enable&&Hb(e,t.mode))}function Jb(e,t,n){iw(t,t=>{const i=t.mode;t.enable&&Hb(e,i)&&function(e,t){const n=e.selectors;iw(n,n=>{t(n,e)})}(t,n)})}function Zb(e,t){if(t&&e)return ow(e,e=>function(e,t){const n=iw(t,t=>e.matches(t));return pb(n)?n.some(e=>e):n}(t,e.selectors))}function ew(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:gb.create(kb(e.options.bounce.horizontal.value),kb(e.options.bounce.vertical.value))}}function tw(e,t){const{x:n,y:i}=e.velocity.sub(t.velocity),[r,o]=[e.position,t.position],{dx:s,dy:a}=Tb(o,r);if(n*s+i*a<0)return;const l=-Math.atan2(a,s),c=e.mass,u=t.mass,h=e.velocity.rotate(l),d=t.velocity.rotate(l),p=Rb(h,d,c,u),f=Rb(d,h,c,u),m=p.rotate(-l),g=f.rotate(-l);e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y,t.velocity.x=g.x*t.factor.x,t.velocity.y=g.y*t.factor.y}function nw(e,t){const n=$b(e.getPosition(),e.getRadius()),i=e.options.bounce,r=Bb({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:t.left,max:t.right},rectOtherSide:{min:t.top,max:t.bottom},velocity:e.velocity.x,factor:kb(i.horizontal.value)});r.bounced&&(void 0!==r.velocity&&(e.velocity.x=r.velocity),void 0!==r.position&&(e.position.x=r.position));const o=Bb({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:t.top,max:t.bottom},rectOtherSide:{min:t.left,max:t.right},velocity:e.velocity.y,factor:kb(i.vertical.value)});o.bounced&&(void 0!==o.velocity&&(e.velocity.y=o.velocity),void 0!==o.position&&(e.position.y=o.position))}function iw(e,t){return pb(e)?e.map((e,n)=>t(e,n)):t(e,0)}function rw(e,t,n){return pb(e)?Gb(e,t,n):e}function ow(e,t){if(pb(e))return e.find((e,n)=>t(e,n));return t(e,0)?e:void 0}function sw(e,t){const n=e.value,i=e.animation,r={delayTime:kb(i.delay)*q_,enable:i.enable,value:kb(e.value)*t,max:Sb(n)*t,min:Cb(n)*t,loops:0,maxLoops:kb(i.count),time:0};if(i.enable){switch(r.decay=1-kb(i.decay),i.mode){case Ob.increase:r.status=Nb.increasing;break;case Ob.decrease:r.status=Nb.decreasing;break;case Ob.random:r.status=_b()>=W_?Nb.increasing:Nb.decreasing}const e=i.mode===Ob.auto;switch(i.startValue){case zb.min:r.value=r.min,e&&(r.status=Nb.increasing);break;case zb.max:r.value=r.max,e&&(r.status=Nb.decreasing);break;case zb.random:default:r.value=xb(r),e&&(r.status=_b()>=W_?Nb.increasing:Nb.decreasing)}}return r.initialValue=r.value,r}function aw(e,t){if(!(e.mode===Lb.percent)){const{mode:t}=e;return c(e,jb)}return"x"in e?{x:e.x/B_*t.width,y:e.y/B_*t.height}:{width:e.width/B_*t.width,height:e.height/B_*t.height}}function lw(e,t){return aw(e,t)}function cw(e,t,n,i,r){var o,s,a,l,c,u,h,d,p;if(e.destroyed||!t||!t.enable||(null!==(o=t.maxLoops)&&void 0!==o?o:0)>0&&(null!==(s=t.loops)&&void 0!==s?s:0)>(null!==(a=t.maxLoops)&&void 0!==a?a:0))return;const f=(null!==(l=t.velocity)&&void 0!==l?l:0)*r.factor,m=t.min,g=t.max,v=null!==(c=t.decay)&&void 0!==c?c:1;if(t.time||(t.time=0),(null!==(u=t.delayTime)&&void 0!==u?u:0)>0&&t.time<(null!==(h=t.delayTime)&&void 0!==h?h:0)&&(t.time+=r.value),!((null!==(d=t.delayTime)&&void 0!==d?d:0)>0&&t.time<(null!==(p=t.delayTime)&&void 0!==p?p:0))){switch(t.status){case Nb.increasing:t.value>=g?(n?t.status=Nb.decreasing:t.value-=g,t.loops||(t.loops=0),t.loops++):t.value+=f;break;case Nb.decreasing:t.value<=m?(n?t.status=Nb.increasing:t.value+=g,t.loops||(t.loops=0),t.loops++):t.value-=f}t.velocity&&1!==v&&(t.velocity*=v),function(e,t,n,i,r){switch(t){case Mb.max:n>=r&&e.destroy();break;case Mb.min:n<=i&&e.destroy()}}(e,i,t.value,m,g),e.destroyed||(t.value=bb(t.value,m,g))}}const uw=function(e){const t=new Map;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];const o=JSON.stringify(i);if(t.has(o))return t.get(o);const s=e(...i);return t.set(o,s),s}}(function(e){const t=document.createElement("div").style,n={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:e.toString(10),"z-index":e.toString(10),top:"0",left:"0"};for(const i in n){const e=n[i];t.setProperty(i,e)}return t});var hw,dw,pw,fw,mw,gw,vw,yw,_w,bw,ww,xw;function kw(e,t){if(t)for(const n of e.colorManagers.values())if(t.startsWith(n.stringPrefix))return n.parseString(t)}function Cw(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return;const r=ub(t)?{value:t}:t;if(ub(r.value))return Sw(e,r.value,n,i);if(pb(r.value))return Cw(e,{value:Gb(r.value,n,i)});for(const o of e.colorManagers.values()){const e=o.handleRangeColor(r);if(e)return e}}function Sw(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return;const r=ub(t)?{value:t}:t;if(ub(r.value))return r.value===J_?Iw():function(e,t){return kw(e,t)}(e,r.value);if(pb(r.value))return Sw(e,{value:Gb(r.value,n,i)});for(const o of e.colorManagers.values()){const e=o.handleColor(r);if(e)return e}}function Ew(e,t,n){const i=Cw(e,t,n,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]);return i?Tw(i):void 0}function Tw(e){const t=e.r/rb,n=e.g/rb,i=e.b/rb,r=Math.max(t,n,i),o=Math.min(t,n,i),s={h:0,l:(r+o)*W_,s:0};return r!==o&&(s.s=s.l<W_?(r-o)/(r+o):(r-o)/(2-r-o),s.h=t===r?(n-i)/(r-o):s.h=n===r?2+(i-t)/(r-o):4+(t-n)/(r-o)),s.l*=100,s.s*=100,s.h*=60,s.h<0&&(s.h+=ob),s.h>=ob&&(s.h-=ob),s}function Pw(e){const t=(e.h%ob+ob)%ob,n=Math.max(0,Math.min(100,e.s)),i=Math.max(0,Math.min(100,e.l)),r=t/ob,o=n/100,s=i/100;if(0===n){const e=Math.round(s*ab);return{r:e,g:e,b:e}}const a=(e,t,n)=>{if(n<0&&n++,n>1&&n--,6*n<1)return e+6*(t-e)*n;if(2*n<1)return t;if(3*n<2){return e+(t-e)*(2/3-n)*6}return e},l=s<W_?s*(1+o):s+o-s*o,c=2*s-l,u=1/3,h=Math.min(ab,ab*a(c,l,r+u)),d=Math.min(ab,ab*a(c,l,r)),p=Math.min(ab,ab*a(c,l,r-u));return{r:Math.round(h),g:Math.round(d),b:Math.round(p)}}function Iw(e){const t=null!==e&&void 0!==e?e:0;return{b:Math.floor(xb(Eb(t,256))),g:Math.floor(xb(Eb(t,256))),r:Math.floor(xb(Eb(t,256)))}}function Rw(e,t){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(null!==t&&void 0!==t?t:1,")")}function Aw(e,t){return"hsla(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%, ").concat(null!==t&&void 0!==t?t:1,")")}function Dw(e,t,n,i){let r=e,o=t;return void 0===r.r&&(r=Pw(e)),void 0===o.r&&(o=Pw(t)),{b:wb(r.b,o.b,n,i),g:wb(r.g,o.g,n,i),r:wb(r.r,o.r,n,i)}}function Ow(e,t,n){if(n===J_)return Iw();if(n!==Z_)return n;{var i,r;const n=null!==(i=e.getFillColor())&&void 0!==i?i:e.getStrokeColor(),o=null!==(r=null===t||void 0===t?void 0:t.getFillColor())&&void 0!==r?r:null===t||void 0===t?void 0:t.getStrokeColor();if(n&&o&&t)return Dw(n,o,e.getRadius(),t.getRadius());{const e=null!==n&&void 0!==n?n:o;if(e)return Pw(e)}}}function Nw(e,t,n,i){const r=ub(t)?t:t.value;return r===J_?i?Cw(e,{value:r}):n?J_:Z_:r===Z_?Z_:Cw(e,{value:r})}function Mw(e){return void 0!==e?{h:e.h.value,s:e.s.value,l:e.l.value}:void 0}function Fw(e,t,n){const i={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return t&&(Lw(i.h,t.h,n),Lw(i.s,t.s,n),Lw(i.l,t.l,n)),i}function Lw(e,t,n){e.enable=t.enable,e.enable?(e.velocity=kb(t.speed)/B_*n,e.decay=1-kb(t.decay),e.status=Nb.increasing,e.loops=0,e.maxLoops=kb(t.count),e.time=0,e.delayTime=kb(t.delay)*q_,t.sync||(e.velocity*=_b(),e.value*=_b()),e.initialValue=e.value,e.offset=Eb(t.offset)):e.velocity=0}function zw(e,t,n,i){var r,o,s,a,l,c,u,h,d;if(!e||!e.enable||(null!==(r=e.maxLoops)&&void 0!==r?r:0)>0&&(null!==(o=e.loops)&&void 0!==o?o:0)>(null!==(s=e.maxLoops)&&void 0!==s?s:0))return;if(e.time||(e.time=0),(null!==(a=e.delayTime)&&void 0!==a?a:0)>0&&e.time<(null!==(l=e.delayTime)&&void 0!==l?l:0)&&(e.time+=i.value),(null!==(c=e.delayTime)&&void 0!==c?c:0)>0&&e.time<(null!==(u=e.delayTime)&&void 0!==u?u:0))return;const p=e.offset?xb(e.offset):0,f=(null!==(h=e.velocity)&&void 0!==h?h:0)*i.factor+3.6*p,m=null!==(d=e.decay)&&void 0!==d?d:1,g=Sb(t),v=Cb(t);if(n&&e.status!==Nb.increasing){e.value-=f;const t=0;e.value<t&&(e.loops||(e.loops=0),e.loops++,e.status=Nb.increasing)}else e.value+=f,e.value>g&&(e.loops||(e.loops=0),e.loops++,n?e.status=Nb.decreasing:e.value-=g);e.velocity&&1!==m&&(e.velocity*=m),e.value=bb(e.value,v,g)}function jw(e,t){if(!e)return;const{h:n,s:i,l:r}=e,o={min:0,max:100},s={min:0,max:100};n&&zw(n,{min:0,max:360},!1,t),i&&zw(i,o,!0,t),r&&zw(r,s,!0,t)}function Uw(e,t,n){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath()}function Vw(e,t){e.clearRect(H_,K_,t.width,t.height)}function Bw(e){var t,n,i,r,o,s,l;const{container:c,context:u,particle:h,delta:d,colorStyles:p,backgroundMask:f,composite:m,radius:g,opacity:v,shadow:y,transform:_}=e,b=h.getPosition(),w=h.rotation+(h.pathRotation?h.velocity.angle:0),x=Math.sin(w),k=Math.cos(w),C=!!w,S={a:k*(null!==(t=_.a)&&void 0!==t?t:Y_),b:C?x*(null!==(n=_.b)&&void 0!==n?n:1):null!==(i=_.b)&&void 0!==i?i:$_,c:C?-x*(null!==(r=_.c)&&void 0!==r?r:1):null!==(o=_.c)&&void 0!==o?o:Q_,d:k*(null!==(s=_.d)&&void 0!==s?s:X_)};u.setTransform(S.a,S.b,S.c,S.d,b.x,b.y),f&&(u.globalCompositeOperation=m);const E=h.shadowColor;y.enable&&E&&(u.shadowBlur=y.blur,u.shadowColor=Rw(E),u.shadowOffsetX=y.offset.x,u.shadowOffsetY=y.offset.y),p.fill&&(u.fillStyle=p.fill);const T=null!==(l=h.strokeWidth)&&void 0!==l?l:0;u.lineWidth=T,p.stroke&&(u.strokeStyle=p.stroke);const P={container:c,context:u,particle:h,radius:g,opacity:v,delta:d,transformData:S,strokeWidth:T};!function(e){const{container:t,context:n,particle:i,radius:r,opacity:o,delta:s,strokeWidth:l,transformData:c}=e;if(!i.shape)return;const u=t.shapeDrawers.get(i.shape);if(!u)return;n.beginPath(),u.draw({context:n,particle:i,radius:r,opacity:o,delta:s,pixelRatio:t.retina.pixelRatio,transformData:(0,a.A)({},c)}),i.shapeClose&&n.closePath();l>0&&n.stroke();i.shapeFill&&n.fill()}(P),function(e){const{container:t,context:n,particle:i,radius:r,opacity:o,delta:s,transformData:l}=e;if(!i.shape)return;const c=t.shapeDrawers.get(i.shape);if(null===c||void 0===c||!c.afterDraw)return;c.afterDraw({context:n,particle:i,radius:r,opacity:o,delta:s,pixelRatio:t.retina.pixelRatio,transformData:(0,a.A)({},l)})}(P),function(e){const{container:t,context:n,particle:i,radius:r,opacity:o,delta:s,transformData:l}=e;if(!i.effect)return;const c=t.effectDrawers.get(i.effect);if(!c)return;c.draw({context:n,particle:i,radius:r,opacity:o,delta:s,pixelRatio:t.retina.pixelRatio,transformData:(0,a.A)({},l)})}(P),u.globalCompositeOperation="source-over",u.resetTransform()}function Ww(e,t,n){const i=t[n];var r;void 0!==i&&(e[n]=(null!==(r=e[n])&&void 0!==r?r:1)*i)}function qw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return;if(!e)return;const i=e.style;if(!i)return;const r=new Set;for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.add(i[o]);for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.add(t[o]);for(const o of r){const e=t.getPropertyValue(o);e?i.setProperty(o,e,n?"important":""):i.removeProperty(o)}}!function(e){e.darken="darken",e.enlighten="enlighten"}(hw||(hw={}));class Hw{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=e=>{for(const n of this._postDrawUpdaters){var t;null===(t=n.afterDraw)||void 0===t||t.call(n,e)}},this._applyPreDrawUpdaters=(e,t,n,i,r,o)=>{for(const a of this._preDrawUpdaters){var s;if(a.getColorStyles){const{fill:o,stroke:s}=a.getColorStyles(t,e,n,i);o&&(r.fill=o),s&&(r.stroke=s)}if(a.getTransformValues){const e=a.getTransformValues(t);for(const t in e)Ww(o,e,t)}null===(s=a.beforeDraw)||void 0===s||s.call(a,t)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins){var e;null===(e=t.resize)||void 0===e||e.call(t)}},this._getPluginParticleColors=e=>{let t,n;for(const i of this._colorPlugins)if(!t&&i.particleFillColor&&(t=Ew(this._engine,i.particleFillColor(e))),!n&&i.particleStrokeColor&&(n=Ew(this._engine,i.particleStrokeColor(e))),t&&n)break;return[t,n]},this._initCover=async()=>{const e=this.container.actualOptions.backgroundMask.cover,t=e.color;if(t){const n=Cw(this._engine,t);if(n){const t=(0,a.A)((0,a.A)({},n),{},{a:e.opacity});this._coverColorStyle=Rw(t,t.a)}}else await new Promise((t,n)=>{if(!e.image)return;const i=document.createElement("img");i.addEventListener("load",()=>{this._coverImage={image:i,opacity:e.opacity},t()}),i.addEventListener("error",e=>{n(e.error)}),i.src=e.image})},this._initStyle=()=>{const e=this.element,t=this.container.actualOptions;if(e){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const n in t.style){if(!n||!t.style||!Object.prototype.hasOwnProperty.call(t.style,n))continue;const i=t.style[n];i&&e.style.setProperty(n,i,"important")}}},this._initTrail=async()=>{const e=this.container.actualOptions.particles.move.trail,t=e.fill;if(!e.enable)return;const n=1/e.length;if(t.color){const e=Cw(this._engine,t.color);if(!e)return;this._trailFill={color:(0,a.A)({},e),opacity:n}}else await new Promise((e,i)=>{if(!t.image)return;const r=document.createElement("img");r.addEventListener("load",()=>{this._trailFill={image:r,opacity:n},e()}),r.addEventListener("error",e=>{i(e.error)}),r.src=t.image})},this._paintBase=e=>{this.draw(t=>function(e,t,n){e.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",e.fillRect(H_,K_,t.width,t.height)}(t,this.size,e))},this._paintImage=(e,t)=>{this.draw(n=>function(e,t,n,i){n&&(e.globalAlpha=i,e.drawImage(n,H_,K_,t.width,t.height),e.globalAlpha=1)}(n,this.size,e,t))},this._repairStyle=()=>{const e=this.element;e&&(this._safeMutationObserver(e=>e.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(t=>{e&&e instanceof Node&&t.observe(e,{attributes:!0})}))},this._resetOriginalStyle=()=>{const e=this.element,t=this._originalStyle;e&&t&&qw(e,t,!0)},this._safeMutationObserver=e=>{this._mutationObserver&&e(this._mutationObserver)},this._setFullScreenStyle=()=>{const e=this.element;e&&qw(e,uw(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const n=e.retina.pixelRatio,i=this._standardSize;this.size={height:i.height*n,width:i.width*n},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,n=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&n?n.color?this._paintBase(Rw(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):e.clear&&this.draw(e=>{Vw(e,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;null===e||void 0===e||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){var n;if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),o=null!==(n=e.getStrokeColor())&&void 0!==n?n:r;let[s,a]=this._getPluginParticleColors(e);s||(s=r),a||(a=o),(s||a)&&this.draw(n=>{var r,o,l,c;const u=this.container,h=u.actualOptions,d=e.options.zIndex,p=1-e.zIndexFactor,f=p**d.opacityRate,m=null!==(r=null!==(o=e.bubble.opacity)&&void 0!==o?o:null===(l=e.opacity)||void 0===l?void 0:l.value)&&void 0!==r?r:1,g=m*f,v=(null!==(c=e.strokeOpacity)&&void 0!==c?c:m)*f,y={},_={fill:s?Aw(s,g):void 0};_.stroke=a?Aw(a,v):_.fill,this._applyPreDrawUpdaters(n,e,i,g,_,y),Bw({container:u,context:n,particle:e,delta:t,colorStyles:_,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*p**d.sizeRate,opacity:g,shadow:e.options.shadow,transform:y}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,n){this.draw(i=>function(e,t,n,i){t.drawParticle&&t.drawParticle(e,n,i)}(i,e,t,n))}drawPlugin(e,t){this.draw(n=>function(e,t,n){t.draw&&t.draw(e,n)}(n,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=function(e){if(!Wb()&&"undefined"!==typeof MutationObserver)return new MutationObserver(e)}(e=>{for(const t of e)"attributes"===t.type&&"style"===t.attributeName&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(jS){Vb().error(jS)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&this.element instanceof Node&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions.background,t=this.element;if(!t)return;const n=t.style;if(n){if(e.color){const t=Cw(this._engine,e.color);n.backgroundColor=t?Rw(t,e.opacity):""}else n.backgroundColor="";n.backgroundImage=e.image||"",n.backgroundPosition=e.position||"",n.backgroundRepeat=e.repeat||"",n.backgroundSize=e.size||""}}initPlugins(){this._resizePlugins=[];for(const t of this.container.plugins.values()){var e;t.resize&&this._resizePlugins.push(t),(null!==(e=t.particleFillColor)&&void 0!==e?e:t.particleStrokeColor)&&this._colorPlugins.push(t)}}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const n of this.container.particles.updaters){var e,t;n.afterDraw&&this._postDrawUpdaters.push(n),(null!==(e=null!==(t=n.getColorStyles)&&void 0!==t?t:n.getTransformValues)&&void 0!==e?e:n.beforeDraw)&&this._preDrawUpdaters.push(n)}}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&L_ in e.dataset?"true"===e.dataset[L_]:this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=function(e){const t=document.createElement("div").style;if(!e)return t;for(const s in e){var n,i;const a=e[s];if(!Object.prototype.hasOwnProperty.call(e,s)||fb(a))continue;const l=null===(n=e.getPropertyValue)||void 0===n?void 0:n.call(e,a);if(!l)continue;const c=null===(i=e.getPropertyPriority)||void 0===i?void 0:i.call(e,a);var r,o;c?null===(r=t.setProperty)||void 0===r||r.call(t,a,l,c):null===(o=t.setProperty)||void 0===o||o.call(t,a,l)}return t}(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const n=this.container.retina.pixelRatio,i=this.size;e.height=i.height=t.height*n,e.width=i.width=t.width*n,this._context=this.element.getContext("2d"),this._safeMutationObserver(e=>e.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(e=>{this.element&&this.element instanceof Node&&e.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Vw(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,n={width:this.element.offsetWidth,height:this.element.offsetHeight},i=e.retina.pixelRatio,r={width:n.width*i,height:n.height*i};if(n.height===t.height&&n.width===t.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const o=(0,a.A)({},t);t.height=n.height,t.width=n.width;const s=this.size;return this.element.width=s.width=r.width,this.element.height=s.height=r.height,this.container.started&&e.particles.setResizeFactor({width:t.width/o.width,height:t.height/o.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Vw(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function Kw(e,t,n,i,r){if(i){let i={passive:!0};cb(r)?i.capture=r:void 0!==r&&(i=r),e.addEventListener(t,n,i)}else{const i=r;e.removeEventListener(t,n,i)}}!function(e){e.canvas="canvas",e.parent="parent",e.window="window"}(dw||(dw={}));class Gw{constructor(e){this.container=e,this._doMouseTouchClick=e=>{const t=this.container,n=t.actualOptions;if(this._canPush){const e=t.interactivity.mouse,i=e.position;if(!i)return;e.clickPosition=(0,a.A)({},i),e.clickTime=(new Date).getTime();iw(n.interactivity.events.onClick.mode,e=>this.container.handleClickMode(e))}"touchend"===e.type&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=e=>{const t=e,n=this.container,i=n.options,r=i.defaultThemes,o=t.matches?r.dark:r.light,s=i.themes.find(e=>e.name===o);null!==s&&void 0!==s&&s.default.auto&&n.loadTheme(o)},this._handleVisibilityChange=()=>{var e;const t=this.container,n=t.actualOptions;this._mouseTouchFinish(),n.pauseOnBlur&&(null!==(e=document)&&void 0!==e&&e.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const e=async()=>{const e=this.container.canvas;await(null===e||void 0===e?void 0:e.windowResize())};this._resizeTimeout=setTimeout(()=>{e()},this.container.actualOptions.interactivity.events.resize.delay*q_)},this._manageInteractivityListeners=(e,t)=>{const n=this._handlers,i=this.container,r=i.actualOptions,o=i.interactivity.element;if(!o)return;const s=o,a=i.canvas.element;a&&(a.style.pointerEvents=s===a?"initial":"none"),(r.interactivity.events.onHover.enable||r.interactivity.events.onClick.enable)&&(Kw(o,j_,n.mouseMove,t),Kw(o,"touchstart",n.touchStart,t),Kw(o,"touchmove",n.touchMove,t),r.interactivity.events.onClick.enable?(Kw(o,U_,n.touchEndClick,t),Kw(o,"pointerup",n.mouseUp,t),Kw(o,"pointerdown",n.mouseDown,t)):Kw(o,U_,n.touchEnd,t),Kw(o,e,n.mouseLeave,t),Kw(o,"touchcancel",n.touchCancel,t))},this._manageListeners=e=>{const t=this._handlers,n=this.container,i=n.actualOptions.interactivity.detectsOn,r=n.canvas.element;let o=z_;if(i===dw.window)n.interactivity.element=window,o="pointerout";else if(i===dw.parent&&r){var s;n.interactivity.element=null!==(s=r.parentElement)&&void 0!==s?s:r.parentNode}else n.interactivity.element=r;this._manageMediaMatch(e),this._manageResize(e),this._manageInteractivityListeners(o,e),document&&Kw(document,"visibilitychange",t.visibilityChange,e,!1)},this._manageMediaMatch=e=>{const t=this._handlers,n=qb("(prefers-color-scheme: dark)");n&&(void 0===n.addEventListener?void 0!==n.addListener&&(e?n.addListener(t.oldThemeChange):n.removeListener(t.oldThemeChange)):Kw(n,"change",t.themeChange,e))},this._manageResize=e=>{const t=this._handlers,n=this.container;if(!n.actualOptions.interactivity.events.resize)return;if("undefined"===typeof ResizeObserver)return void Kw(window,"resize",t.resize,e);const i=n.canvas.element;this._resizeObserver&&!e?(i&&this._resizeObserver.unobserve(i),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&e&&i&&(this._resizeObserver=new ResizeObserver(e=>{e.find(e=>e.target===i)&&this._handleWindowResize()}),this._resizeObserver.observe(i))},this._mouseDown=()=>{const{interactivity:e}=this.container;if(!e)return;const{mouse:t}=e;t.clicking=!0,t.downPosition=t.position},this._mouseTouchClick=e=>{const t=this.container,n=t.actualOptions,{mouse:i}=t.interactivity;i.inside=!0;let r=!1;const o=i.position;if(o&&n.interactivity.events.onClick.enable){for(const e of t.plugins.values())if(e.clickPositionValid&&(r=e.clickPositionValid(o),r))break;r||this._doMouseTouchClick(e),i.clicking=!1}},this._mouseTouchFinish=()=>{const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=z_,t.inside=!1,t.clicking=!1},this._mouseTouchMove=e=>{const t=this.container,n=t.actualOptions,i=t.interactivity,r=t.canvas.element;if(null===i||void 0===i||!i.element)return;let o;if(i.mouse.inside=!0,e.type.startsWith("pointer")){this._canPush=!0;const t=e;if(i.element===window){if(r){const e=r.getBoundingClientRect();o={x:t.clientX-e.left,y:t.clientY-e.top}}}else if(n.interactivity.detectsOn===dw.parent){const e=t.target,n=t.currentTarget;if(e&&n&&r){const i=e.getBoundingClientRect(),s=n.getBoundingClientRect(),a=r.getBoundingClientRect();o={x:t.offsetX+2*i.left-(s.left+a.left),y:t.offsetY+2*i.top-(s.top+a.top)}}else{var s,a;o={x:null!==(s=t.offsetX)&&void 0!==s?s:t.clientX,y:null!==(a=t.offsetY)&&void 0!==a?a:t.clientY}}}else if(t.target===r){var l,c;o={x:null!==(l=t.offsetX)&&void 0!==l?l:t.clientX,y:null!==(c=t.offsetY)&&void 0!==c?c:t.clientY}}}else if(this._canPush="touchmove"!==e.type,r){var u,h;const t=e,n=t.touches[t.touches.length-1],i=r.getBoundingClientRect();o={x:n.clientX-(null!==(u=i.left)&&void 0!==u?u:0),y:n.clientY-(null!==(h=i.top)&&void 0!==h?h:0)}}const d=t.retina.pixelRatio;o&&(o.x*=d,o.y*=d),i.mouse.position=o,i.status=j_},this._touchEnd=e=>{const t=e,n=Array.from(t.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const t=e,n=Array.from(t.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const t=e,n=Array.from(t.changedTouches);for(const i of n)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}!function(e){e.configAdded="configAdded",e.containerInit="containerInit",e.particlesSetup="particlesSetup",e.containerStarted="containerStarted",e.containerStopped="containerStopped",e.containerDestroyed="containerDestroyed",e.containerPaused="containerPaused",e.containerPlay="containerPlay",e.containerBuilt="containerBuilt",e.particleAdded="particleAdded",e.particleDestroyed="particleDestroyed",e.particleRemoved="particleRemoved"}(pw||(pw={}));class Yw{constructor(){this.value=""}static create(e,t){const n=new Yw;return n.load(e),void 0!==t&&(ub(t)||pb(t)?n.load({value:t}):n.load(t)),n}load(e){fb(e)||fb(e.value)||(this.value=e.value)}}class $w{constructor(){this.color=new Yw,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){fb(e)||(void 0!==e.color&&(this.color=Yw.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Qw{constructor(){this.opacity=1}load(e){fb(e)||(void 0!==e.color&&(this.color=Yw.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Xw{constructor(){this.composite="destination-out",this.cover=new Qw,this.enable=!1}load(e){if(!fb(e)){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover,n=ub(e.cover)?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color||void 0!==t.image?t:{color:n})}void 0!==e.enable&&(this.enable=e.enable)}}}class Jw{constructor(){this.enable=!0,this.zIndex=0}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class Zw{constructor(){this.enable=!1,this.mode=[]}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}!function(e){e.circle="circle",e.rectangle="rectangle"}(fw||(fw={}));class ex{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=fw.circle}load(e){fb(e)||(void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type))}}class tx{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class nx{constructor(){this.enable=!1,this.mode=[],this.parallax=new tx}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class ix{constructor(){this.delay=.5,this.enable=!0}load(e){fb(e)||(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}class rx{constructor(){this.onClick=new Zw,this.onDiv=new ex,this.onHover=new nx,this.resize=new ix}load(e){if(fb(e))return;this.onClick.load(e.onClick);const t=e.onDiv;void 0!==t&&(this.onDiv=iw(t,e=>{const t=new ex;return t.load(e),t})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class ox{constructor(e,t){this._engine=e,this._container=t}load(e){if(fb(e))return;if(!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const n of t)n.loadModeOptions&&n.loadModeOptions(this,e)}}class sx{constructor(e,t){this.detectsOn=dw.window,this.events=new rx,this.modes=new ox(e,t)}load(e){if(fb(e))return;const t=e.detectsOn;void 0!==t&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class ax{load(e){if(!fb(e)){var t,n,i;if(e.position)this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(n=e.position.y)&&void 0!==n?n:50,mode:null!==(i=e.position.mode)&&void 0!==i?i:Lb.percent};e.options&&(this.options=Qb({},e.options))}}}!function(e){e.screen="screen",e.canvas="canvas"}(mw||(mw={}));class lx{constructor(){this.maxWidth=1/0,this.options={},this.mode=mw.canvas}load(e){fb(e)||(fb(e.maxWidth)||(this.maxWidth=e.maxWidth),fb(e.mode)||(e.mode===mw.screen?this.mode=mw.screen:this.mode=mw.canvas),fb(e.options)||(this.options=Qb({},e.options)))}}!function(e){e.any="any",e.dark="dark",e.light="light"}(gw||(gw={}));class cx{constructor(){this.auto=!1,this.mode=gw.any,this.value=!1}load(e){fb(e)||(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class ux{constructor(){this.name="",this.default=new cx}load(e){fb(e)||(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=Qb({},e.options)))}}class hx{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){fb(e)||(void 0!==e.count&&(this.count=Eb(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Eb(e.speed)),void 0!==e.decay&&(this.decay=Eb(e.decay)),void 0!==e.delay&&(this.delay=Eb(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}class dx extends hx{constructor(){super(),this.mode=Ob.auto,this.startValue=zb.random}load(e){super.load(e),fb(e)||(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.startValue&&(this.startValue=e.startValue))}}class px extends hx{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),fb(e)||void 0!==e.offset&&(this.offset=Eb(e.offset))}}class fx{constructor(){this.h=new px,this.s=new px,this.l=new px}load(e){fb(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class mx extends Yw{constructor(){super(),this.animation=new fx}static create(e,t){const n=new mx;return n.load(e),void 0!==t&&(ub(t)||pb(t)?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),fb(e))return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}!function(e){e.absorb="absorb",e.bounce="bounce",e.destroy="destroy"}(vw||(vw={}));class gx{constructor(){this.speed=2}load(e){fb(e)||void 0!==e.speed&&(this.speed=e.speed)}}class vx{constructor(){this.enable=!0,this.retries=0}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class yx{constructor(){this.value=0}load(e){fb(e)||fb(e.value)||(this.value=Eb(e.value))}}class _x extends yx{constructor(){super(),this.animation=new hx}load(e){if(super.load(e),fb(e))return;const t=e.animation;void 0!==t&&this.animation.load(t)}}class bx extends _x{constructor(){super(),this.animation=new dx}load(e){super.load(e)}}class wx extends yx{constructor(){super(),this.value=1}}class xx{constructor(){this.horizontal=new wx,this.vertical=new wx}load(e){fb(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class kx{constructor(){this.absorb=new gx,this.bounce=new xx,this.enable=!1,this.maxSpeed=50,this.mode=vw.bounce,this.overlap=new vx}load(e){fb(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.maxSpeed&&(this.maxSpeed=Eb(e.maxSpeed)),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Cx{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(fb(e))return;const t=e.options;if(void 0!==t)for(const i in t){const e=t[i];var n;if(e)this.options[i]=Qb(null!==(n=this.options[i])&&void 0!==n?n:{},e)}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}class Sx{constructor(){this.offset=0,this.value=90}load(e){fb(e)||(void 0!==e.offset&&(this.offset=Eb(e.offset)),void 0!==e.value&&(this.value=Eb(e.value)))}}class Ex{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!fb(e)&&(void 0!==e.distance&&(this.distance=Eb(e.distance)),void 0!==e.enable&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;void 0!==t&&(this.rotate.x=t);const n=e.rotate.y;void 0!==n&&(this.rotate.y=n)}}}class Tx{constructor(){this.x=50,this.y=50,this.mode=Lb.percent,this.radius=0}load(e){fb(e)||(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}class Px{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){fb(e)||(void 0!==e.acceleration&&(this.acceleration=Eb(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=Eb(e.maxSpeed)))}}class Ix{constructor(){this.clamp=!0,this.delay=new yx,this.enable=!1,this.options={}}load(e){fb(e)||(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Qb(this.options,e.options)))}}class Rx{load(e){fb(e)||(void 0!==e.color&&(this.color=Yw.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class Ax{constructor(){this.enable=!1,this.length=10,this.fill=new Rx}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.fill&&this.fill.load(e.fill),void 0!==e.length&&(this.length=e.length))}}!function(e){e.bounce="bounce",e.none="none",e.out="out",e.destroy="destroy",e.split="split"}(yw||(yw={}));class Dx{constructor(){this.default=yw.out}load(e){var t,n,i,r;fb(e)||(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(n=e.left)&&void 0!==n?n:e.default,this.right=null!==(i=e.right)&&void 0!==i?i:e.default,this.top=null!==(r=e.top)&&void 0!==r?r:e.default)}}class Ox{constructor(){this.acceleration=0,this.enable=!1}load(e){fb(e)||(void 0!==e.acceleration&&(this.acceleration=Eb(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),e.position&&(this.position=Qb({},e.position)))}}class Nx{constructor(){this.angle=new Sx,this.attract=new Ex,this.center=new Tx,this.decay=0,this.distance={},this.direction=lb.none,this.drift=0,this.enable=!1,this.gravity=new Px,this.path=new Ix,this.outModes=new Dx,this.random=!1,this.size=!1,this.speed=2,this.spin=new Ox,this.straight=!1,this.trail=new Ax,this.vibrate=!1,this.warp=!1}load(e){if(fb(e))return;this.angle.load(hb(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=Eb(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance=hb(e.distance)?{horizontal:e.distance,vertical:e.distance}:(0,a.A)({},e.distance)),void 0!==e.drift&&(this.drift=Eb(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;void 0!==t&&(db(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=Eb(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class Mx extends dx{constructor(){super(),this.destroy=Mb.none,this.speed=2}load(e){super.load(e),fb(e)||void 0!==e.destroy&&(this.destroy=e.destroy)}}class Fx extends bx{constructor(){super(),this.animation=new Mx,this.value=1}load(e){if(fb(e))return;super.load(e);const t=e.animation;void 0!==t&&this.animation.load(t)}}class Lx{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(fb(e))return;void 0!==e.enable&&(this.enable=e.enable);const t=e.width;void 0!==t&&(this.width=t);const n=e.height;void 0!==n&&(this.height=n)}}!function(e){e.delete="delete",e.wait="wait"}(_w||(_w={}));class zx{constructor(){this.mode=_w.delete,this.value=0}load(e){fb(e)||(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class jx{constructor(){this.density=new Lx,this.limit=new zx,this.value=0}load(e){fb(e)||(this.density.load(e.density),this.limit.load(e.limit),void 0!==e.value&&(this.value=e.value))}}class Ux{constructor(){this.blur=0,this.color=new Yw,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){fb(e)||(void 0!==e.blur&&(this.blur=e.blur),this.color=Yw.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}class Vx{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(fb(e))return;const t=e.options;if(void 0!==t)for(const i in t){const e=t[i];var n;if(e)this.options[i]=Qb(null!==(n=this.options[i])&&void 0!==n?n:{},e)}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}class Bx extends dx{constructor(){super(),this.destroy=Mb.none,this.speed=5}load(e){super.load(e),fb(e)||void 0!==e.destroy&&(this.destroy=e.destroy)}}class Wx extends bx{constructor(){super(),this.animation=new Bx,this.value=3}load(e){if(super.load(e),fb(e))return;const t=e.animation;void 0!==t&&this.animation.load(t)}}class qx{constructor(){this.width=0}load(e){fb(e)||(void 0!==e.color&&(this.color=mx.create(this.color,e.color)),void 0!==e.width&&(this.width=Eb(e.width)),void 0!==e.opacity&&(this.opacity=Eb(e.opacity)))}}class Hx extends yx{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),fb(e)||(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class Kx{constructor(e,t){this._engine=e,this._container=t,this.bounce=new xx,this.collisions=new kx,this.color=new mx,this.color.value="#fff",this.effect=new Cx,this.groups={},this.move=new Nx,this.number=new jx,this.opacity=new Fx,this.reduceDuplicates=!1,this.shadow=new Ux,this.shape=new Vx,this.size=new Wx,this.stroke=new qx,this.zIndex=new Hx}load(e){if(fb(e))return;if(void 0!==e.groups)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const n=e.groups[i];var t;if(void 0!==n)this.groups[i]=Qb(null!==(t=this.groups[i])&&void 0!==t?t:{},n)}void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(mx.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=Qb({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=iw(n,e=>{const t=new qx;return t.load(e),t})),this._container){const t=this._engine.updaters.get(this._container);if(t)for(const i of t)i.loadOptions&&i.loadOptions(this,e);const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadParticlesOptions&&i.loadParticlesOptions(this,e)}}}function Gx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.load(r)}function Yx(e,t){const n=new Kx(e,t);for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return Gx(n,...r),n}class $x{constructor(e,t){this._findDefaultTheme=e=>{var t;return null!==(t=this.themes.find(t=>t.default.value&&t.default.mode===e))&&void 0!==t?t:this.themes.find(e=>e.default.value&&e.default.mode===gw.any)},this._importPreset=e=>{this.load(this._engine.getPreset(e))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new $w,this.backgroundMask=new Xw,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new Jw,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new sx(e,t),this.manualParticles=[],this.particles=Yx(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var t,n;if(fb(e))return;void 0!==e.preset&&iw(e.preset,e=>this._importPreset(e)),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.clear&&(this.clear=e.clear),void 0!==e.key&&(this.key=e.key),void 0!==e.name&&(this.name=e.name),void 0!==e.delay&&(this.delay=Eb(e.delay));const i=e.detectRetina;void 0!==i&&(this.detectRetina=i),void 0!==e.duration&&(this.duration=Eb(e.duration));const r=e.fpsLimit;void 0!==r&&(this.fpsLimit=r),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const o=e.fullScreen;cb(o)?this.fullScreen.enable=o:this.fullScreen.load(o),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(e=>{const t=new ax;return t.load(e),t})),this.particles.load(e.particles),this.style=Qb(this.style,e.style),this._engine.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const a of s)a.loadOptions&&a.loadOptions(this,e);if(void 0!==e.responsive)for(const a of e.responsive){const e=new lx;e.load(a),this.responsive.push(e)}if(this.responsive.sort((e,t)=>e.maxWidth-t.maxWidth),void 0!==e.themes)for(const a of e.themes){const e=this.themes.find(e=>e.name===a.name);if(e)e.load(a);else{const e=new ux;e.load(a),this.themes.push(e)}}this.defaultThemes.dark=null===(t=this._findDefaultTheme(gw.dark))||void 0===t?void 0:t.name,this.defaultThemes.light=null===(n=this._findDefaultTheme(gw.light))||void 0===n?void 0:n.name}setResponsive(e,t,n){this.load(n);const i=this.responsive.find(n=>n.mode===mw.screen&&screen?n.maxWidth>screen.availWidth:n.maxWidth*t>e);return this.load(null===i||void 0===i?void 0:i.options),null===i||void 0===i?void 0:i.maxWidth}setTheme(e){if(e){const t=this.themes.find(t=>t.name===e);t&&this.load(t.options)}else{const e=qb("(prefers-color-scheme: dark)"),t=null===e||void 0===e?void 0:e.matches,n=this._findDefaultTheme(t?gw.dark:gw.light);n&&this.load(n.options)}}}!function(e){e.external="external",e.particles="particles"}(bw||(bw={}));class Qx{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const n of this._externalInteractors){var t;null===(t=n.handleClickMode)||void 0===t||t.call(n,e)}}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case bw.external:this._externalInteractors.push(e);break;case bw.particles:this._particleInteractors.push(e)}e.init()}}particlesInteract(e,t){for(const n of this._externalInteractors)n.clear(e,t);for(const n of this._particleInteractors)n.isEnabled(e)&&n.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}function Xx(e){if(!Hb(e.outMode,e.checkModes))return;const t=2*e.radius;e.coord>e.maxCoord-t?e.setCb(-e.radius):e.coord<t&&e.setCb(e.radius)}!function(e){e.normal="normal",e.inside="inside",e.outside="outside"}(ww||(ww={}));class Jx{constructor(e,t){var n=this;this.container=t,this._calcPosition=function(e,t,i){var r,o,s,a;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(const m of e.plugins.values()){const e=void 0!==m.particlePosition?m.particlePosition(t,n):void 0;if(e)return mb.create(e.x,e.y,i)}const c=Ab({size:e.canvas.size,position:t}),u=mb.create(c.x,c.y,i),h=n.getRadius(),d=n.options.move.outModes,p=t=>{Xx({outMode:t,checkModes:[yw.bounce],coord:u.x,maxCoord:e.canvas.size.width,setCb:e=>u.x+=e,radius:h})},f=t=>{Xx({outMode:t,checkModes:[yw.bounce],coord:u.y,maxCoord:e.canvas.size.height,setCb:e=>u.y+=e,radius:h})};return p(null!==(r=d.left)&&void 0!==r?r:d.default),p(null!==(o=d.right)&&void 0!==o?o:d.default),f(null!==(s=d.top)&&void 0!==s?s:d.default),f(null!==(a=d.bottom)&&void 0!==a?a:d.default),n._checkOverlap(u,l)?n._calcPosition(e,void 0,i,l+1):u},this._calculateVelocity=()=>{const e=function(e){const t=gb.origin;return t.length=1,t.angle=e,t}(this.direction).copy(),t=this.options.move;if(t.direction===lb.inside||t.direction===lb.outside)return e;const n=Ib(kb(t.angle.value)),i=Ib(kb(t.angle.offset)),r={left:i-n*W_,right:i+n*W_};return t.straight||(e.angle+=xb(Eb(r.left,r.right))),t.random&&"number"===typeof t.speed&&(e.length*=_b()),e},this._checkOverlap=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=n.options.collisions,r=n.getRadius();if(!i.enable)return!1;const o=i.overlap;if(o.enable)return!1;const s=o.retries;if(s>=0&&t>s)throw new Error("".concat(V_," particle is overlapping and can't be placed"));return!!n.container.particles.find(t=>Pb(e,t.position)<r+t.getRadius())},this._getRollColor=e=>{var t;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const n=this.roll.horizontal&&this.roll.vertical?2:1,i=this.roll.horizontal?Math.PI*W_:0;return Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+i)/(Math.PI/n))%2?this.backColor?this.backColor:this.roll.alter?function(e,t,n){return{h:e.h,s:e.s,l:e.l+(t===hw.darken?-1:1)*n}}(e,this.roll.alter.type,this.roll.alter.value):e:e},this._initPosition=e=>{var t,n;const i=this.container,r=kb(this.options.zIndex.value);this.position=this._calcPosition(i,e,bb(r,0,i.zLayers)),this.initialPosition=this.position.copy();const o=i.canvas.size;switch(this.moveCenter=(0,a.A)((0,a.A)({},lw(this.options.move.center,o)),{},{radius:null!==(t=this.options.move.center.radius)&&void 0!==t?t:0,mode:null!==(n=this.options.move.center.mode)&&void 0!==n?n:Lb.percent}),this.direction=function(e,t,n){if(hb(e))return Ib(e);switch(e){case lb.top:return-Math.PI*W_;case lb.topRight:return-Math.PI*sb;case lb.right:return 0;case lb.bottomRight:return Math.PI*sb;case lb.bottom:return Math.PI*W_;case lb.bottomLeft:return.75*Math.PI;case lb.left:return Math.PI;case lb.topLeft:return.75*-Math.PI;case lb.inside:return Math.atan2(n.y-t.y,n.x-t.x);case lb.outside:return Math.atan2(t.y-n.y,t.x-n.x);default:return _b()*eb}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case lb.inside:this.outType=ww.inside;break;case lb.outside:this.outType=ww.outside}this.offset=gb.origin},this._engine=e}destroy(e){var t;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);null===r||void 0===r||null===(t=r.particleDestroy)||void 0===t||t.call(r,this);for(const a of n.plugins.values()){var o;null===(o=a.particleDestroyed)||void 0===o||o.call(a,this,e)}for(const a of n.particles.updaters){var s;null===(s=a.particleDestroyed)||void 0===s||s.call(a,this,e)}null===i||void 0===i||i.reset(this),this._engine.dispatchEvent(pw.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,n=t.canvas;for(const i of t.plugins.values())n.drawParticlePlugin(i,this,e);n.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:Mw(this.color))}getMass(){return this.getRadius()**2*Math.PI*W_}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getStrokeColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:Mw(this.strokeColor))}init(e,t,n,i){var r,o,s,a,l,c,u,h,d,p,f;const m=this.container,g=this._engine;this.id=e,this.group=i,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=ww.normal,this.ignoresResizeRatio=!0;const v=m.retina.pixelRatio,y=m.actualOptions,_=Yx(this._engine,m,y.particles),{reduceDuplicates:b}=_,w=_.effect.type,x=_.shape.type;this.effect=rw(w,this.id,b),this.shape=rw(x,this.id,b);const k=_.effect,C=_.shape;if(n){var S,E;if(null!==(S=n.effect)&&void 0!==S&&S.type){const e=rw(n.effect.type,this.id,b);e&&(this.effect=e,k.load(n.effect))}if(null!==(E=n.shape)&&void 0!==E&&E.type){const e=rw(n.shape.type,this.id,b);e&&(this.shape=e,C.load(n.shape))}}if(this.effect===J_){const e=[...this.container.effectDrawers.keys()];this.effect=e[Math.floor(Math.random()*e.length)]}if(this.shape===J_){const e=[...this.container.shapeDrawers.keys()];this.shape=e[Math.floor(Math.random()*e.length)]}this.effectData=function(e,t,n,i){const r=t.options[e];if(r)return Qb({close:t.close,fill:t.fill},rw(r,n,i))}(this.effect,k,this.id,b),this.shapeData=function(e,t,n,i){const r=t.options[e];if(r)return Qb({close:t.close,fill:t.fill},rw(r,n,i))}(this.shape,C,this.id,b),_.load(n);const T=this.effectData;T&&_.load(T.particles);const P=this.shapeData;P&&_.load(P.particles);const I=new sx(g,m);I.load(m.actualOptions.interactivity),I.load(_.interactivity),this.interactivity=I,this.effectFill=null!==(r=null===T||void 0===T?void 0:T.fill)&&void 0!==r?r:_.effect.fill,this.effectClose=null!==(o=null===T||void 0===T?void 0:T.close)&&void 0!==o?o:_.effect.close,this.shapeFill=null!==(s=null===P||void 0===P?void 0:P.fill)&&void 0!==s?s:_.shape.fill,this.shapeClose=null!==(a=null===P||void 0===P?void 0:P.close)&&void 0!==a?a:_.shape.close,this.options=_;const R=this.options.move.path;this.pathDelay=kb(R.delay.value)*q_,R.generator&&(this.pathGenerator=this._engine.getPathGenerator(R.generator),this.pathGenerator&&m.addPath(R.generator,this.pathGenerator)&&this.pathGenerator.init(m)),m.retina.initParticle(this),this.size=sw(this.options.size,v),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-kb(this.options.move.decay);const A=m.particles;A.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/m.zLayers,this.sides=24;let D=m.effectDrawers.get(this.effect);D||(D=this._engine.getEffectDrawer(this.effect),D&&m.effectDrawers.set(this.effect,D)),null!==(l=D)&&void 0!==l&&l.loadEffect&&D.loadEffect(this);let O=m.shapeDrawers.get(this.shape);O||(O=this._engine.getShapeDrawer(this.shape),O&&m.shapeDrawers.set(this.shape,O)),null!==(c=O)&&void 0!==c&&c.loadShape&&O.loadShape(this);const N=null===(u=O)||void 0===u?void 0:u.getSidesCount;N&&(this.sides=N(this)),this.spawning=!1,this.shadowColor=Cw(this._engine,this.options.shadow.color);for(const L of A.updaters)L.init(this);for(const L of A.movers){var M;null===(M=L.init)||void 0===M||M.call(L,this)}null===(h=D)||void 0===h||null===(d=h.particleInit)||void 0===d||d.call(h,m,this),null===(p=O)||void 0===p||null===(f=p.particleInit)||void 0===f||f.call(p,m,this);for(const L of m.plugins.values()){var F;null===(F=L.particleCreated)||void 0===F||F.call(L,this)}}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=t.height+e&&n.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters){var e;null===(e=t.reset)||void 0===e||e.call(t,this)}}}class Zx{constructor(e,t){this.position=e,this.particle=t}}!function(e){e.circle="circle",e.rectangle="rectangle"}(xw||(xw={}));class ek{constructor(e,t,n){this.position={x:e,y:t},this.type=n}}class tk extends ek{constructor(e,t,n){super(e,t,xw.circle),this.radius=n}contains(e){return Pb(e,this.position)<=this.radius}intersects(e){const t=this.position,n=e.position,i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),o=this.radius;if(e instanceof tk||e.type===xw.circle){return o+e.radius>Math.sqrt(i**2+r**2)}if(e instanceof nk||e.type===xw.rectangle){const t=e,{width:n,height:s}=t.size;return Math.pow(i-n,2)+Math.pow(r-s,2)<=o**2||i<=o+n&&r<=o+s||i<=n||r<=s}return!1}}class nk extends ek{constructor(e,t,n,i){super(e,t,xw.rectangle),this.size={height:i,width:n}}contains(e){const t=this.size.width,n=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+t&&e.y>=i.y&&e.y<=i.y+n}intersects(e){if(e instanceof tk)return e.intersects(this);const t=this.size.width,n=this.size.height,i=this.position,r=e.position,o=e instanceof nk?e.size:{width:0,height:0},s=o.width,a=o.height;return r.x<i.x+t&&r.x+s>i.x&&r.y<i.y+n&&r.y+a>i.y}}class ik{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:e,y:t}=this.rectangle.position,{width:n,height:i}=this.rectangle.size,{capacity:r}=this;for(let o=0;o<4;o++){const s=o%2;this._subs.push(new ik(new nk(e+n*W_*s,t+i*W_*(Math.round(o*W_)-s),n*W_,i*W_),r))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return!!this.rectangle.contains(e.position)&&(this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))))}query(e,t){const n=[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&Pb(e.position,i.position)>i.particle.getRadius()&&(!t||t(i.particle))||n.push(i.particle);if(this._divided)for(const i of this._subs)n.push(...i.query(e,t));return n}queryCircle(e,t,n){return this.query(new tk(e.x,e.y,t),n)}queryRectangle(e,t,n){return this.query(new nk(e.x,e.y,t.width,t.height),n)}}const rk=e=>{const{height:t,width:n}=e;return new nk(-.25*n,-.25*t,1.5*n,1.5*t)};class ok{constructor(e,t){var n=this;this._addToPool=function(){n._pool.push(...arguments)},this._applyDensity=(e,t,n)=>{var i;const r=e.number;if(null===(i=e.number.density)||void 0===i||!i.enable)return void(void 0===n?this._limit=r.limit.value:r.limit&&this._groupLimits.set(n,r.limit.value));const o=this._initDensityFactor(r.density),s=r.value,a=r.limit.value>0?r.limit.value:s,l=Math.min(s,a)*o+t,c=Math.min(this.count,this.filter(e=>e.group===n).length);void 0===n?this._limit=r.limit.value*o:this._groupLimits.set(n,r.limit.value*o),c<l?this.push(Math.abs(l-c),void 0,e,n):c>l&&this.removeQuantity(c-l,n)},this._initDensityFactor=e=>{const t=this._container;if(!t.canvas.element||!e.enable)return 1;const n=t.canvas.element,i=t.retina.pixelRatio;return n.width*n.height/(e.height*e.width*i**2)},this._pushParticle=(e,t,n,i)=>{try{let r=this._pool.pop();r||(r=new Jx(this._engine,this._container)),r.init(this._nextId,e,t,n);let o=!0;if(i&&(o=i(r)),!o)return;return this._array.push(r),this._zArray.push(r),this._nextId++,this._engine.dispatchEvent(pw.particleAdded,{container:this._container,data:{particle:r}}),r}catch(jS){Vb().warning("".concat(V_," adding particle: ").concat(jS))}},this._removeParticle=(e,t,n)=>{const i=this._array[e];if(!i||i.group!==t)return!1;const r=this._zArray.indexOf(i);return this._array.splice(e,1),this._zArray.splice(r,1),i.destroy(n),this._engine.dispatchEvent(pw.particleRemoved,{container:this._container,data:{particle:i}}),this._addToPool(i),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Qx(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new ik(rk(i),4),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(t=>this.addParticle(t.position?lw(t.position,e.canvas.size):void 0,t.options))}addParticle(e,t,n,i){var r;const o=this._container.actualOptions.particles.number.limit.mode,s=void 0===n?this._limit:null!==(r=this._groupLimits.get(n))&&void 0!==r?r:this._limit,a=this.count;if(s>0)switch(o){case _w.delete:{const e=a+1-s;e>0&&this.removeQuantity(e);break}case _w.wait:if(a>=s)return}return this._pushParticle(e,t,n,i)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,n=t.canvas;n.clear(),this.update(e);for(const i of t.plugins.values())n.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let n=!1;for(const s of e.plugins.values()){var i,r;if(n=null!==(i=null===(r=s.particlesInitialization)||void 0===r?void 0:r.call(s))&&void 0!==i?i:n,n)break}if(this.addManualParticles(),!n){const e=t.particles,n=e.groups;for(const t in n){const i=n[t];for(let n=this.count,r=0;r<(null===(o=i.number)||void 0===o?void 0:o.value)&&n<e.number.value;n++,r++){var o;this.addParticle(void 0,i,t)}}for(let t=this.count;t<e.number.value;t++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,n,i){for(let r=0;r<e;r++)this.addParticle(null===t||void 0===t?void 0:t.position,n,i)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,n){this.removeAt(this._array.indexOf(e),void 0,t,n)}removeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(e<0||e>this.count)return;let r=0;for(let o=e;r<t&&o<this.count;o++)this._removeParticle(o,n,i)&&(o--,r++)}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const n in t)this._applyDensity(t[n],0,n);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,n=new Set;this.quadTree=new ik(rk(t.canvas.size),4);for(const s of t.pathGenerators.values())s.update();for(const s of t.plugins.values()){var i;null===(i=s.update)||void 0===i||i.call(s,e)}const r=this._resizeFactor;for(const s of this._array){r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,this._interactionManager.reset(s);for(const t of this._container.plugins.values()){var o;if(s.destroyed)break;null===(o=t.particleUpdate)||void 0===o||o.call(t,s,e)}for(const t of this.movers)t.isEnabled(s)&&t.move(s,e);s.destroyed?n.add(s):this.quadTree.insert(new Zx(s.getPosition(),s))}if(n.size){const e=e=>!n.has(e);this._array=this.filter(e),this._zArray=this._zArray.filter(e);for(const t of n)this._engine.dispatchEvent(pw.particleRemoved,{container:this._container,data:{particle:t}});this._addToPool(...n)}this._interactionManager.externalInteract(e);for(const s of this._array){for(const t of this.updaters)t.update(s,e);s.destroyed||s.spawning||this._interactionManager.particlesInteract(s,e)}if(delete this._resizeFactor,this._needsSort){const e=this._zArray;e.sort((e,t)=>t.position.z-e.position.z||e.id-t.id),this._lastZIndex=e[e.length-1].position.z,this._needsSort=!1}}}class sk{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Wb()?1:window.devicePixelRatio,this.reduceFactor=1;const n=this.pixelRatio,i=e.canvas;if(i.element){const e=i.element;i.size.width=e.offsetWidth*n,i.size.height=e.offsetHeight*n}const r=t.particles,o=r.move;this.maxSpeed=kb(o.gravity.maxSpeed)*n,this.sizeAnimationSpeed=kb(r.size.animation.speed)*n}initParticle(e){const t=e.options,n=this.pixelRatio,i=t.move,r=i.distance,o=e.retina;o.moveDrift=kb(i.drift)*n,o.moveSpeed=kb(i.speed)*n,o.sizeAnimationSpeed=kb(t.size.animation.speed)*n;const s=o.maxDistance;s.horizontal=void 0!==r.horizontal?r.horizontal*n:void 0,s.vertical=void 0!==r.vertical?r.vertical*n:void 0,o.maxSpeed=kb(i.gravity.maxSpeed)*n}}function ak(e){return e&&!e.destroyed}function lk(e,t){const n=new $x(e,t);for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return Gx(n,...r),n}class ck{constructor(e,t,n){this._intersectionManager=e=>{if(ak(this)&&this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play():this.pause())},this._nextFrame=e=>{try{var t;if(!this._smooth&&void 0!==this._lastFrameTime&&e<this._lastFrameTime+q_/this.fpsLimit)return void this.draw(!1);null!==(t=this._lastFrameTime)&&void 0!==t||(this._lastFrameTime=e);const n=function(e){return{value:e,factor:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?60/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60):60*e/q_}}(e-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(n.value),this._lastFrameTime=e,n.value>q_)return void this.draw(!1);if(this.particles.draw(n),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(jS){Vb().error("".concat(V_," in animation loop"),jS)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new sk(this),this.canvas=new Hw(this,this._engine),this.particles=new ok(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=lk(this._engine,this),this.actualOptions=lk(this._engine,this),this._eventListeners=new Gw(this),this._intersectionObserver=function(e){if(!Wb()&&"undefined"!==typeof IntersectionObserver)return new IntersectionObserver(e)}(e=>this._intersectionManager(e)),this._engine.dispatchEvent(pw.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&ak(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ak(this))return;const t=this.interactivity.element;if(!t)return;const n=(t,n,i)=>{if(!ak(this))return;const r=this.retina.pixelRatio,o={x:n.x*r,y:n.y*r},s=this.particles.quadTree.queryCircle(o,i*r);e(t,s)};let i=!1,r=!1;this._clickHandlers.set("click",e=>{if(!ak(this))return;const t=e,i={x:t.offsetX||t.clientX,y:t.offsetY||t.clientY};n(e,i,1)}),this._clickHandlers.set("touchstart",()=>{ak(this)&&(i=!0,r=!1)}),this._clickHandlers.set("touchmove",()=>{ak(this)&&(r=!0)}),this._clickHandlers.set("touchend",e=>{if(ak(this)){if(i&&!r){const t=e;let i=t.touches[t.touches.length-1];if(!i&&(i=t.changedTouches[t.changedTouches.length-1],!i))return;const r=this.canvas.element,o=r?r.getBoundingClientRect():void 0,s={x:i.clientX-(o?o.left:0),y:i.clientY-(o?o.top:0)};n(e,s,Math.max(i.radiusX,i.radiusY))}i=!1,r=!1}}),this._clickHandlers.set("touchcancel",()=>{ak(this)&&(i=!1,r=!1)});for(const[o,s]of this._clickHandlers)t.addEventListener(o,s)}addLifeTime(e){this._lifeTime+=e}addPath(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!ak(this)||!n&&this.pathGenerators.has(e))&&(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(ak(this)){for(const[t,n]of this._clickHandlers){var e;null===(e=this.interactivity.element)||void 0===e||e.removeEventListener(t,n)}this._clickHandlers.clear()}}destroy(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(ak(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const e of this.effectDrawers.values()){var t;null===(t=e.destroy)||void 0===t||t.call(e,this)}for(const e of this.shapeDrawers.values()){var n;null===(n=e.destroy)||void 0===n||n.call(e,this)}for(const e of this.effectDrawers.keys())this.effectDrawers.delete(e);for(const e of this.shapeDrawers.keys())this.shapeDrawers.delete(e);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const e=this._engine.items,t=e.findIndex(e=>e===this);t>=0&&e.splice(t,1)}this._engine.dispatchEvent(pw.containerDestroyed,{container:this})}}draw(e){if(!ak(this))return;let t=e;const n=e=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(e)};var i;this._drawAnimationFrame=(i=e=>n(e),yb.nextFrame(i))}async export(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of this.plugins.values()){if(!n.export)continue;const i=await n.export(e,t);if(i.supported)return i.blob}Vb().error("".concat(V_," - Export plugin with type ").concat(e," not found"))}handleClickMode(e){if(ak(this)){this.particles.handleClickMode(e);for(const n of this.plugins.values()){var t;null===(t=n.handleClickMode)||void 0===t||t.call(n,e)}}}async init(){if(!ak(this))return;const e=this._engine.getSupportedEffects();for(const d of e){const e=this._engine.getEffectDrawer(d);e&&this.effectDrawers.set(d,e)}const t=this._engine.getSupportedShapes();for(const d of t){const e=this._engine.getShapeDrawer(d);e&&this.shapeDrawers.set(d,e)}await this.particles.initPlugins(),this._options=lk(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lk(this._engine,this,this._options);const n=await this._engine.getAvailablePlugins(this);for(const[d,p]of n)this.plugins.set(d,p);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:i,duration:r,delay:o,fpsLimit:s,smooth:a}=this.actualOptions;this.zLayers=i,this._duration=kb(r)*q_,this._delay=kb(o)*q_,this._lifeTime=0,this.fpsLimit=s>0?s:120,this._smooth=a;for(const d of this.effectDrawers.values()){var l;await(null===(l=d.init)||void 0===l?void 0:l.call(d,this))}for(const d of this.shapeDrawers.values()){var c;await(null===(c=d.init)||void 0===c?void 0:c.call(d,this))}for(const d of this.plugins.values()){var u;await(null===(u=d.init)||void 0===u?void 0:u.call(d))}this._engine.dispatchEvent(pw.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const d of this.plugins.values()){var h;null===(h=d.particlesSetup)||void 0===h||h.call(d)}this._engine.dispatchEvent(pw.particlesSetup,{container:this})}async loadTheme(e){ak(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(ak(this)&&(void 0!==this._drawAnimationFrame&&(e=this._drawAnimationFrame,yb.cancel(e),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values()){var t;null===(t=e.pause)||void 0===t||t.call(e)}this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(pw.containerPaused,{container:this})}}play(e){if(!ak(this))return;const t=this._paused||e;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),t)for(const e of this.plugins.values())e.play&&e.play();this._engine.dispatchEvent(pw.containerPlay,{container:this}),this.draw(null!==t&&void 0!==t&&t)}else this._firstStart=!1}async refresh(){if(ak(this))return this.stop(),this.start()}async reset(e){if(ak(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=lk(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lk(this._engine,this,this._options),this.refresh()}async start(){ak(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const e of this.plugins.values()){var t;await(null===(t=e.start)||void 0===t?void 0:t.call(e))}this._engine.dispatchEvent(pw.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>{t()},this._delay)}))}stop(){if(ak(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values()){var e;null===(e=t.stop)||void 0===e||e.call(t)}for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(pw.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==e&&(this._responsiveMaxWidth=e,!0)}}class uk{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}dispatchEvent(e,t){const n=this._listeners.get(e);null===n||void 0===n||n.forEach(e=>e(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const n=this._listeners.get(e);if(!n)return;const i=n.length,r=n.indexOf(t);r<0||(1===i?this._listeners.delete(e):n.splice(r,1))}}async function hk(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.get(e);return r&&!i||(r=await Promise.all([...n.values()].map(t=>t(e))),t.set(e,r)),r}class dk{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new uk,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,n]of this._configs)e[t]=n;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){var t,n;const i=null!==(t=null!==(n=e.key)&&void 0!==n?n:e.name)&&void 0!==t?t:"default";this._configs.set(i,e),this._eventDispatcher.dispatchEvent(pw.configAdded,{data:{name:i,config:e}})}async addEasing(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(n))}async addEffect(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];iw(e,e=>{this.getEffectDrawer(e)||this.effectDrawers.set(e,t)}),await this.refresh(n)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.interactors.set(e,t),await this.refresh(n)}async addMover(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.movers.set(e,t),await this.refresh(n)}async addParticleUpdater(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.updaters.set(e,t),await this.refresh(n)}async addPathGenerator(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(n)}async addPlugin(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&this.getPreset(e)||this.presets.set(e,t),await this.refresh(n)}async addShape(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(const n of e.validTypes)this.getShapeDrawer(n)||this.shapeDrawers.set(n,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error("The tsParticles version is different from the loaded plugins version. Engine version: ".concat(this.version,". Plugin version: ").concat(e))}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,await n.getPlugin(e));return t}getEasing(e){var t;return null!==(t=this.easingFunctions.get(e))&&void 0!==t?t:e=>e}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hk(e,this.interactors,this._initializers.interactors,t)}async getMovers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hk(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hk(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,n=t[e];if(n&&!n.destroyed)return n;t.splice(e,1)}async load(e){var t,n,i;const r=null!==(t=null!==(n=e.id)&&void 0!==n?n:null===(i=e.element)||void 0===i?void 0:i.id)&&void 0!==t?t:"tsparticles".concat(Math.floor(1e4*_b())),{index:o,url:s}=e,a=s?await async function(e){const t=rw(e.url,e.index);if(!t)return e.fallback;const n=await fetch(t);return n.ok?await n.json():(Vb().error("".concat(V_," ").concat(n.status," while retrieving config file")),e.fallback)}({fallback:e.options,url:s,index:o}):e.options,l=rw(a,o),{items:c}=this,u=c.findIndex(e=>e.id.description===r),h=new ck(this,r,l);if(u>=0){const e=this.item(u),t=e?1:0;e&&!e.destroyed&&e.destroy(!1),c.splice(u,t,h)}else c.push(h);const d=((e,t)=>{let n=null!==t&&void 0!==t?t:document.getElementById(e);return n||(n=document.createElement("div"),n.id=e,n.dataset[L_]=tb,document.body.append(n),n)})(r,e.element),p=(e=>{let t;if(e instanceof HTMLCanvasElement||e.tagName.toLowerCase()===ib)t=e,t.dataset[L_]||(t.dataset[L_]=nb);else{const n=e.getElementsByTagName(ib);n.length?(t=n[0],t.dataset[L_]=nb):(t=document.createElement(ib),t.dataset[L_]=tb,e.appendChild(t))}const n="100%";return t.style.width||(t.style.width=n),t.style.height||(t.style.height=n),t})(d);return h.canvas.loadCanvas(p),await h.start(),h}loadOptions(e,t){this.plugins.forEach(n=>{var i;return null===(i=n.loadOptions)||void 0===i?void 0:i.call(n,e,t)})}loadParticlesOptions(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const o=this.updaters.get(e);o&&o.forEach(e=>{var n;return null===(n=e.loadOptions)||void 0===n?void 0:n.call(e,t,...i)})}async refresh(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&await Promise.all(this.items.map(e=>e.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error("".concat(V_," can only set click handlers after calling tsParticles.load()"));t.forEach(t=>t.addClickHandler(e))}}class pk{constructor(e){this.type=bw.external,this.container=e}}class fk{constructor(e){this.type=bw.particles,this.container=e}}var mk,gk,vk;!function(e){e.clockwise="clockwise",e.counterClockwise="counter-clockwise",e.random="random"}(mk||(mk={})),function(e){e.linear="linear",e.radial="radial",e.random="random"}(gk||(gk={})),function(e){e.easeInBack="ease-in-back",e.easeInCirc="ease-in-circ",e.easeInCubic="ease-in-cubic",e.easeInLinear="ease-in-linear",e.easeInQuad="ease-in-quad",e.easeInQuart="ease-in-quart",e.easeInQuint="ease-in-quint",e.easeInExpo="ease-in-expo",e.easeInSine="ease-in-sine",e.easeOutBack="ease-out-back",e.easeOutCirc="ease-out-circ",e.easeOutCubic="ease-out-cubic",e.easeOutLinear="ease-out-linear",e.easeOutQuad="ease-out-quad",e.easeOutQuart="ease-out-quart",e.easeOutQuint="ease-out-quint",e.easeOutExpo="ease-out-expo",e.easeOutSine="ease-out-sine",e.easeInOutBack="ease-in-out-back",e.easeInOutCirc="ease-in-out-circ",e.easeInOutCubic="ease-in-out-cubic",e.easeInOutLinear="ease-in-out-linear",e.easeInOutQuad="ease-in-out-quad",e.easeInOutQuart="ease-in-out-quart",e.easeInOutQuint="ease-in-out-quint",e.easeInOutExpo="ease-in-out-expo",e.easeInOutSine="ease-in-out-sine"}(vk||(vk={}));const yk=function(){const e=new dk;return e.init(),e}();Wb()||(window.tsParticles=yk);const _k=e=>{var t;const n=null!==(t=e.id)&&void 0!==t?t:"tsparticles";return(0,i.useEffect)(()=>{let t;return yk.load({id:n,url:e.url,options:e.options}).then(n=>{var i;t=n,null==(i=e.particlesLoaded)||i.call(e,n)}),()=>{null==t||t.destroy()}},[n,e,e.url,e.options]),(0,mr.jsx)("div",{id:n,className:e.className})};const bk=2*Math.PI;function wk(e,t,n,i,r,o){!function(e,t){var n;const i=e.options,r=i.move.path;if(!r.enable)return;if(e.lastPathTime<=e.pathDelay)return void(e.lastPathTime+=t.value);const o=null===(n=e.pathGenerator)||void 0===n?void 0:n.generate(e,t);o&&e.velocity.addTo(o);r.clamp&&(e.velocity.x=bb(e.velocity.x,-1,1),e.velocity.y=bb(e.velocity.y,-1,1));e.lastPathTime-=e.pathDelay}(e,o);const s=e.gravity,a=null!==s&&void 0!==s&&s.enable&&s.inverse?-1:1;r&&n&&(e.velocity.x+=r*o.factor/(60*n)),null!==s&&void 0!==s&&s.enable&&n&&(e.velocity.y+=a*(s.acceleration*o.factor)/(60*n));const l=e.moveDecay;e.velocity.multTo(l);const c=e.velocity.mult(n);null!==s&&void 0!==s&&s.enable&&i>0&&(!s.inverse&&c.y>=0&&c.y>=i||s.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,n&&(e.velocity.y=c.y/n));const u=e.options.zIndex,h=(1-e.zIndexFactor)**u.velocityRate;c.multTo(h);const{position:d}=e;d.addTo(c),t.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}class xk{init(e){const t=e.options.move.gravity;e.gravity={enable:t.enable,acceleration:kb(t.acceleration),inverse:t.inverse},function(e){var t;const n=e.container,i=e.options.move.spin;if(!i.enable)return;const r=null!==(t=i.position)&&void 0!==t?t:{x:50,y:50},o={x:.01*r.x*n.canvas.size.width,y:.01*r.y*n.canvas.size.height},s=Pb(e.getPosition(),o),a=kb(i.acceleration);e.retina.spinAcceleration=a*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?mk.clockwise:mk.counterClockwise,angle:_b()*bk,radius:s,acceleration:e.retina.spinAcceleration}}(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var n,i,r,o,s;const a=e.options,l=a.move;if(!l.enable)return;const c=e.container,u=c.retina.pixelRatio;null!==(i=(n=e.retina).moveSpeed)&&void 0!==i||(n.moveSpeed=kb(l.speed)*u),null!==(o=(r=e.retina).moveDrift)&&void 0!==o||(r.moveDrift=kb(e.options.move.drift)*u);const h=function(e){return e.slow.inRange?e.slow.factor:1}(e),d=e.retina.moveSpeed*c.retina.reduceFactor,p=e.retina.moveDrift,f=Sb(a.size.value)*u,m=d*(l.size?e.getRadius()/f:1)*h*(t.factor||1)/2,g=null!==(s=e.retina.maxSpeed)&&void 0!==s?s:c.retina.maxSpeed;l.spin.enable?function(e,t){const n=e.container;if(!e.spin)return;const i=e.spin.direction===mk.clockwise,r={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};e.position.x=e.spin.center.x+e.spin.radius*r.x(e.spin.angle),e.position.y=e.spin.center.y+e.spin.radius*r.y(e.spin.angle),e.spin.radius+=e.spin.acceleration;const o=Math.max(n.canvas.size.width,n.canvas.size.height),s=.5*o;e.spin.radius>s?(e.spin.radius=s,e.spin.acceleration*=-1):e.spin.radius<0&&(e.spin.radius=0,e.spin.acceleration*=-1),e.spin.angle+=.01*t*(1-e.spin.radius/o)}(e,m):wk(e,l,m,g,p,t),function(e){var t,n;const i=e.initialPosition,{dx:r,dy:o}=Tb(i,e.position),s=Math.abs(r),a=Math.abs(o),{maxDistance:l}=e.retina,c=l.horizontal,u=l.vertical;if(!c&&!u)return;const h=null!==(n=u&&a>=u)&&void 0!==n&&n;if((null!==(t=c&&s>=c)&&void 0!==t&&t||h)&&!e.misplaced)e.misplaced=!!c&&s>c||!!u&&a>u,c&&(e.velocity.x=.5*e.velocity.y-e.velocity.x),u&&(e.velocity.y=.5*e.velocity.x-e.velocity.y);else if((!c||s<c)&&(!u||a<u)&&e.misplaced)e.misplaced=!1;else if(e.misplaced){const t=e.position,n=e.velocity;c&&(t.x<i.x&&n.x<0||t.x>i.x&&n.x>0)&&(n.x*=-_b()),u&&(t.y<i.y&&n.y<0||t.y>i.y&&n.y>0)&&(n.y*=-_b())}}(e)}}const kk=2*Math.PI,Ck=0,Sk=0;class Ek{constructor(){this.validTypes=["circle"]}draw(e){!function(e){const{context:t,particle:n,radius:i}=e;n.circleRange||(n.circleRange={min:0,max:kk});const r=n.circleRange;t.arc(Ck,Sk,i,r.min,r.max,!1)}(e)}getSidesCount(){return 12}particleInit(e,t){var n;const i=t.shapeData,r=null!==(n=null===i||void 0===i?void 0:i.angle)&&void 0!==n?n:{max:360,min:0};t.circleRange=db(r)?{min:Ib(r.min),max:Ib(r.max)}:{min:0,max:Ib(r)}}}class Tk{constructor(e,t){this._container=e,this._engine=t}init(e){const t=Ew(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Fw(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:n,l:i}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&(void 0!==(null===r||void 0===r?void 0:r.h.value)&&t.enable||void 0!==(null===r||void 0===r?void 0:r.s.value)&&n.enable||void 0!==(null===r||void 0===r?void 0:r.l.value)&&i.enable)}update(e,t){jw(e.color,t)}}var Pk;!function(e){e[e.r=1]="r",e[e.g=2]="g",e[e.b=3]="b",e[e.a=4]="a"}(Pk||(Pk={}));const Ik=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Rk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i;class Ak{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if("string"!==typeof e)return;if(null===e||void 0===e||!e.startsWith(this.stringPrefix))return;const t=e.replace(Ik,(e,t,n,i,r)=>t+t+n+n+i+i+(void 0!==r?r+r:"")),n=Rk.exec(t);return n?{a:void 0!==n[Pk.a]?parseInt(n[Pk.a],16)/255:1,b:parseInt(n[Pk.b],16),g:parseInt(n[Pk.g],16),r:parseInt(n[Pk.r],16)}:void 0}}var Dk;!function(e){e[e.h=1]="h",e[e.s=2]="s",e[e.l=3]="l",e[e.a=5]="a"}(Dk||(Dk={}));class Ok{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.s&&void 0!==n.l)return Pw(n)}handleRangeColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.l)return Pw({h:kb(n.h),l:kb(n.l),s:kb(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(e);return t?function(e){const t=Pw(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}({a:t.length>4?Db(t[Dk.a]):1,h:parseInt(t[Dk.h],10),l:parseInt(t[Dk.l],10),s:parseInt(t[Dk.s],10)}):void 0}}class Nk{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=sw(t,1);const n=t.animation;n.enable&&(e.opacity.velocity=kb(n.speed)/B_*this.container.retina.reduceFactor,n.sync||(e.opacity.velocity*=_b()))}isEnabled(e){var t,n,i,r;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.opacity.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=e.opacity.loops)&&void 0!==i?i:0)<(null!==(r=e.opacity.maxLoops)&&void 0!==r?r:0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&e.opacity&&cw(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}class Mk{constructor(e){this.container=e,this.modes=[yw.bounce,yw.split]}update(e,t,n,i){if(!this.modes.includes(i))return;const r=this.container;let o=!1;for(const h of r.plugins.values())if(void 0!==h.particleBounce&&(o=h.particleBounce(e,n,t)),o)break;if(o)return;const s=e.getPosition(),a=e.offset,l=e.getRadius(),c=$b(s,l),u=r.canvas.size;!function(e){if(e.outMode!==yw.bounce&&e.outMode!==yw.split||e.direction!==Fb.left&&e.direction!==Fb.right)return;e.bounds.right<0&&e.direction===Fb.left?e.particle.position.x=e.size+e.offset.x:e.bounds.left>e.canvasSize.width&&e.direction===Fb.right&&(e.particle.position.x=e.canvasSize.width-e.size-e.offset.x);const t=e.particle.velocity.x;let n=!1;if(e.direction===Fb.right&&e.bounds.right>=e.canvasSize.width&&t>0||e.direction===Fb.left&&e.bounds.left<=0&&t<0){const t=kb(e.particle.options.bounce.horizontal.value);e.particle.velocity.x*=-t,n=!0}if(!n)return;const i=e.offset.x+e.size;e.bounds.right>=e.canvasSize.width&&e.direction===Fb.right?e.particle.position.x=e.canvasSize.width-i:e.bounds.left<=0&&e.direction===Fb.left&&(e.particle.position.x=i),e.outMode===yw.split&&e.particle.destroy()}({particle:e,outMode:i,direction:t,bounds:c,canvasSize:u,offset:a,size:l}),function(e){if(e.outMode!==yw.bounce&&e.outMode!==yw.split||e.direction!==Fb.bottom&&e.direction!==Fb.top)return;e.bounds.bottom<0&&e.direction===Fb.top?e.particle.position.y=e.size+e.offset.y:e.bounds.top>e.canvasSize.height&&e.direction===Fb.bottom&&(e.particle.position.y=e.canvasSize.height-e.size-e.offset.y);const t=e.particle.velocity.y;let n=!1;if(e.direction===Fb.bottom&&e.bounds.bottom>=e.canvasSize.height&&t>0||e.direction===Fb.top&&e.bounds.top<=0&&t<0){const t=kb(e.particle.options.bounce.vertical.value);e.particle.velocity.y*=-t,n=!0}if(!n)return;const i=e.offset.y+e.size;e.bounds.bottom>=e.canvasSize.height&&e.direction===Fb.bottom?e.particle.position.y=e.canvasSize.height-i:e.bounds.top<=0&&e.direction===Fb.top&&(e.particle.position.y=i),e.outMode===yw.split&&e.particle.destroy()}({particle:e,outMode:i,direction:t,bounds:c,canvasSize:u,offset:a,size:l})}}class Fk{constructor(e){this.container=e,this.modes=[yw.destroy]}update(e,t,n,i){if(!this.modes.includes(i))return;const r=this.container;switch(e.outType){case ww.normal:case ww.outside:if(Yb(e.position,r.canvas.size,gb.origin,e.getRadius(),t))return;break;case ww.inside:{const{dx:t,dy:n}=Tb(e.position,e.moveCenter),{x:i,y:r}=e.velocity;if(i<0&&t>e.moveCenter.radius||r<0&&n>e.moveCenter.radius||i>=0&&t<-e.moveCenter.radius||r>=0&&n<-e.moveCenter.radius)return;break}}r.particles.remove(e,e.group,!0)}}class Lk{constructor(e){this.container=e,this.modes=[yw.none]}update(e,t,n,i){var r;if(!this.modes.includes(i))return;if(null!==(r=e.options.move.distance.horizontal&&(t===Fb.left||t===Fb.right))&&void 0!==r?r:e.options.move.distance.vertical&&(t===Fb.top||t===Fb.bottom))return;const o=e.options.move.gravity,s=this.container,a=s.canvas.size,l=e.getRadius();if(o.enable){const n=e.position;(!o.inverse&&n.y>a.height+l&&t===Fb.bottom||o.inverse&&n.y<-l&&t===Fb.top)&&s.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;Yb(e.position,s.canvas.size,gb.origin,l,t)||s.particles.remove(e)}}}class zk{constructor(e){this.container=e,this.modes=[yw.out]}update(e,t,n,i){if(!this.modes.includes(i))return;const r=this.container;switch(e.outType){case ww.inside:{const{x:t,y:n}=e.velocity,i=gb.origin;i.length=e.moveCenter.radius,i.angle=e.velocity.angle+Math.PI,i.addTo(gb.create(e.moveCenter));const{dx:o,dy:s}=Tb(e.position,i);if(t<=0&&o>=0||n<=0&&s>=0||t>=0&&o<=0||n>=0&&s<=0)return;e.position.x=Math.floor(xb({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(xb({min:0,max:r.canvas.size.height}));const{dx:a,dy:l}=Tb(e.position,e.moveCenter);e.direction=Math.atan2(-l,-a),e.velocity.angle=e.direction;break}default:if(Yb(e.position,r.canvas.size,gb.origin,e.getRadius(),t))return;switch(e.outType){case ww.outside:{e.position.x=Math.floor(xb({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(xb({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:t,dy:n}=Tb(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(n,t),e.velocity.angle=e.direction);break}case ww.normal:{const n=e.options.move.warp,i=r.canvas.size,o={bottom:i.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:i.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},s=e.getRadius(),a=$b(e.position,s);t===Fb.right&&a.left>i.width+e.offset.x?(e.position.x=o.left,e.initialPosition.x=e.position.x,n||(e.position.y=_b()*i.height,e.initialPosition.y=e.position.y)):t===Fb.left&&a.right<-e.offset.x&&(e.position.x=o.right,e.initialPosition.x=e.position.x,n||(e.position.y=_b()*i.height,e.initialPosition.y=e.position.y)),t===Fb.bottom&&a.top>i.height+e.offset.y?(n||(e.position.x=_b()*i.width,e.initialPosition.x=e.position.x),e.position.y=o.top,e.initialPosition.y=e.position.y):t===Fb.top&&a.bottom<-e.offset.y&&(n||(e.position.x=_b()*i.width,e.initialPosition.x=e.position.x),e.position.y=o.bottom,e.initialPosition.y=e.position.y);break}}}}}class jk{constructor(e){this._addUpdaterIfMissing=(e,t,n)=>{const i=e.options.move.outModes;!this.updaters.has(t)&&((e,t)=>e.default===t||e.bottom===t||e.left===t||e.right===t||e.top===t)(i,t)&&this.updaters.set(t,n(this.container))},this._updateOutMode=(e,t,n,i)=>{for(const r of this.updaters.values())r.update(e,i,t,n)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,yw.bounce,e=>new Mk(e)),this._addUpdaterIfMissing(e,yw.out,e=>new zk(e)),this._addUpdaterIfMissing(e,yw.destroy,e=>new Fk(e)),this._addUpdaterIfMissing(e,yw.none,e=>new Lk(e))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){var n,i,r,o;const s=e.options.move.outModes;this._updateOutMode(e,t,null!==(n=s.bottom)&&void 0!==n?n:s.default,Fb.bottom),this._updateOutMode(e,t,null!==(i=s.left)&&void 0!==i?i:s.default,Fb.left),this._updateOutMode(e,t,null!==(r=s.right)&&void 0!==r?r:s.default,Fb.right),this._updateOutMode(e,t,null!==(o=s.top)&&void 0!==o?o:s.default,Fb.top)}}var Uk;!function(e){e[e.r=1]="r",e[e.g=2]="g",e[e.b=3]="b",e[e.a=5]="a"}(Uk||(Uk={}));class Vk{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return n}handleRangeColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return{r:kb(n.r),g:kb(n.g),b:kb(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(e);return t?{a:t.length>4?Db(t[Uk.a]):1,b:parseInt(t[Uk.b],10),g:parseInt(t[Uk.g],10),r:parseInt(t[Uk.r],10)}:void 0}}class Bk{init(e){const t=e.container,n=e.options.size.animation;var i;n.enable&&(e.size.velocity=(null!==(i=e.retina.sizeAnimationSpeed)&&void 0!==i?i:t.retina.sizeAnimationSpeed)/B_*t.retina.reduceFactor,n.sync||(e.size.velocity*=_b()))}isEnabled(e){var t,n,i,r;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.size.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=e.size.loops)&&void 0!==i?i:0)<(null!==(r=e.size.maxLoops)&&void 0!==r?r:0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&cw(e,e.size,!0,e.options.size.animation.destroy,t)}}async function Wk(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addColorManager(new Ak,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addColorManager(new Ok,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addColorManager(new Vk,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addMover("base",()=>Promise.resolve(new xk),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new Ek,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("color",t=>Promise.resolve(new Tk(t,e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("opacity",e=>Promise.resolve(new Nk(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("outModes",e=>Promise.resolve(new jk(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("size",()=>Promise.resolve(new Bk),t)}(e,!1),await e.refresh(t)}const qk='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class Hk{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(null===t||void 0===t||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const n=this._emojiShapeDict.get(t);n&&function(e,t){const{context:n,opacity:i}=e,r=n.globalAlpha;if(!t)return;const o=t.width,s=.5*o;n.globalAlpha=i,n.drawImage(t,-s,-s,o,o),n.globalAlpha=r}(e,n)}async init(e){const t=e.actualOptions,{validTypes:n}=this;if(!n.find(e=>Hb(e,t.particles.shape.type)))return;const i=[Kb(qk)],r=n.map(e=>t.particles.shape.options[e]).find(e=>!!e);r&&iw(r,e=>{e.font&&i.push(Kb(e.font))}),await Promise.all(i)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){var n,i;const r=t.shapeData;if(null===r||void 0===r||!r.value)return;const o=rw(r.value,t.randomIndexData);if(!o)return;const s="string"===typeof o?{font:null!==(n=r.font)&&void 0!==n?n:qk,padding:null!==(i=r.padding)&&void 0!==i?i:0,value:o}:(0,a.A)((0,a.A)({font:qk,padding:0},r),o),l=s.font,c=s.value,u="".concat(c,"_").concat(l);if(this._emojiShapeDict.has(u))return void(t.emojiDataKey=u);const h=2*s.padding,d=Sb(t.size.value),p=d+h,f=2*p;let m;if("undefined"!==typeof OffscreenCanvas){const e=new OffscreenCanvas(f,f),t=e.getContext("2d");if(!t)return;t.font="400 ".concat(2*d,"px ").concat(l),t.textBaseline="middle",t.textAlign="center",t.fillText(c,p,p),m=e.transferToImageBitmap()}else{const e=document.createElement("canvas");e.width=f,e.height=f;const t=e.getContext("2d");if(!t)return;t.font="400 ".concat(2*d,"px ").concat(l),t.textBaseline="middle",t.textAlign="center",t.fillText(c,p,p),m=e}this._emojiShapeDict.set(u,m),t.emojiDataKey=u}}function Kk(e,t,n,i,r,o){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const a=t.particles.quadTree.query(r,o);for(const l of a){const{dx:t,dy:r,distance:o}=Tb(l.position,n),a=s.speed*s.factor,c=bb(e.getEasing(s.easing)(1-o/i)*a,1,s.maxSpeed),u=gb.create(o?t/o*c:a,o?r/o*c:a);l.position.subFrom(u)}}class Gk{constructor(){this.distance=200,this.duration=.4,this.easing=vk.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){fb(e)||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}const Yk="attract";class $k extends pk{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=e=>{const n=this.container.actualOptions.interactivity.modes.attract;if(n&&e===Yk){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const e of t.attract.particles)this.isEnabled(e)&&e.velocity.setTo(e.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},n.duration*q_)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===j_,i=t.interactivity.events,{enable:r,mode:o}=i.onHover,{enable:s,mode:a}=i.onClick;n&&r&&Hb(Yk,o)?function(e,t,n){const i=t.interactivity.mouse.position,r=t.retina.attractModeDistance;!r||r<0||!i||Kk(e,t,i,r,new tk(i.x,i.y,r),e=>n(e))}(this._engine,this.container,e=>this.isEnabled(e)):s&&Hb(Yk,a)&&function(e,t,n){t.attract||(t.attract={particles:[]});const{attract:i}=t;if(i.finish||(i.count||(i.count=0),i.count++,i.count===t.particles.count&&(i.finish=!0)),i.clicking){const i=t.interactivity.mouse.clickPosition,r=t.retina.attractModeDistance;if(!r||r<0||!i)return;Kk(e,t,i,r,new tk(i.x,i.y,r),e=>n(e))}else!1===i.clicking&&(i.particles=[])}(this._engine,this.container,e=>this.isEnabled(e))}isEnabled(e){var t;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:i.interactivity).events;if((!r.position||!o.onHover.enable)&&(!r.clickPosition||!o.onClick.enable))return!1;const s=o.onHover.mode,a=o.onClick.mode;return Hb(Yk,s)||Hb(Yk,a)}loadModeOptions(e){e.attract||(e.attract=new Gk);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.attract.load(null===r||void 0===r?void 0:r.attract)}reset(){}}const Qk=.5,Xk=Math.PI*Qk;function Jk(e,t,n,i,r){const o=e.particles.quadTree.query(i,r);for(const s of o)i instanceof tk?tw(ew(s),{position:t,radius:n,mass:n**2*Xk,velocity:gb.origin,factor:gb.origin}):i instanceof nk&&nw(s,$b(t,n))}function Zk(e,t,n,i){Jb(n,t,(t,n)=>function(e,t,n,i){const r=document.querySelectorAll(t);r.length&&r.forEach(t=>{const r=t,o=e.retina.pixelRatio,s={x:(r.offsetLeft+r.offsetWidth*Qk)*o,y:(r.offsetTop+r.offsetHeight*Qk)*o},a=r.offsetWidth*Qk*o,l=10*o,c=n.type===fw.circle?new tk(s.x,s.y,a+l):new nk(r.offsetLeft*o-l,r.offsetTop*o-l,r.offsetWidth*o+2*l,r.offsetHeight*o+2*l);i(s,a,c)})}(e,t,n,(t,n,r)=>Jk(e,t,n,r,i)))}class eC{constructor(){this.distance=200}load(e){fb(e)||void 0!==e.distance&&(this.distance=e.distance)}}const tC="bounce";class nC extends pk{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions.interactivity.events,n=e.interactivity.status===j_,i=t.onHover.enable,r=t.onHover.mode,o=t.onDiv;n&&i&&Hb(tC,r)?function(e,t){const n=10*e.retina.pixelRatio,i=e.interactivity.mouse.position,r=e.retina.bounceModeDistance;!r||r<0||!i||Jk(e,i,r,new tk(i.x,i.y,r+n),t)}(this.container,e=>this.isEnabled(e)):Zk(this.container,o,tC,e=>this.isEnabled(e))}isEnabled(e){var t;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:i.interactivity).events,s=o.onDiv;return!!r.position&&o.onHover.enable&&Hb(tC,o.onHover.mode)||Xb(tC,s)}loadModeOptions(e){e.bounce||(e.bounce=new eC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.bounce.load(null===r||void 0===r?void 0:r.bounce)}reset(){}}class iC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!fb(e)){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const t=pb(this.color)?void 0:this.color;this.color=iw(e.color,e=>Yw.create(t,e))}void 0!==e.size&&(this.size=e.size)}}}class rC extends iC{constructor(){super(),this.selectors=[]}load(e){super.load(e),fb(e)||void 0!==e.selectors&&(this.selectors=e.selectors)}}class oC extends iC{load(e){super.load(e),fb(e)||(this.divs=iw(e.divs,e=>{const t=new rC;return t.load(e),t}))}}var sC;function aC(e,t,n,i){if(t>=n){return bb(e+(t-n)*i,e,t)}if(t<n){return bb(e-(n-t)*i,t,e)}}!function(e){e.color="color",e.opacity="opacity",e.size="size"}(sC||(sC={}));const lC="bubble";class cC extends pk{constructor(e,t){super(e),this._clickBubble=()=>{const e=this.container,t=e.actualOptions,n=e.interactivity.mouse.clickPosition,i=t.interactivity.modes.bubble;if(!i||!n)return;e.bubble||(e.bubble={});const r=e.retina.bubbleModeDistance;if(!r||r<0)return;const o=e.particles.quadTree.queryCircle(n,r,e=>this.isEnabled(e)),{bubble:s}=e;for(const u of o){var a,l,c;if(!s.clicking)continue;u.bubble.inRange=!s.durationEnd;const t=Pb(u.getPosition(),n),o=((new Date).getTime()-(null!==(a=e.interactivity.mouse.clickTime)&&void 0!==a?a:0))/q_;o>i.duration&&(s.durationEnd=!0),o>2*i.duration&&(s.clicking=!1,s.durationEnd=!1);const h={bubbleObj:{optValue:e.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:Sb(u.options.size.value)*e.retina.pixelRatio,value:u.size.value},type:sC.size};this._process(u,t,o,h);const d={bubbleObj:{optValue:i.opacity,value:u.bubble.opacity},particlesObj:{optValue:Sb(u.options.opacity.value),value:null!==(l=null===(c=u.opacity)||void 0===c?void 0:c.value)&&void 0!==l?l:1},type:sC.opacity};this._process(u,t,o,d),!s.durationEnd&&t<=r?this._hoverBubbleColor(u,t):delete u.bubble.color}},this._hoverBubble=()=>{const e=this.container,t=e.interactivity.mouse.position,n=e.retina.bubbleModeDistance;if(!n||n<0||!t)return;const i=e.particles.quadTree.queryCircle(t,n,e=>this.isEnabled(e));for(const r of i){r.bubble.inRange=!0;const i=Pb(r.getPosition(),t),o=1-i/n;i<=n?o>=0&&e.interactivity.status===j_&&(this._hoverBubbleSize(r,o),this._hoverBubbleOpacity(r,o),this._hoverBubbleColor(r,o)):this.reset(r),e.interactivity.status===z_&&this.reset(r)}},this._hoverBubbleColor=(e,t,n)=>{const i=this.container.actualOptions,r=null!==n&&void 0!==n?n:i.interactivity.modes.bubble;if(r){if(!e.bubble.finalColor){const t=r.color;if(!t)return;const n=rw(t);e.bubble.finalColor=Ew(this._engine,n)}if(e.bubble.finalColor)if(r.mix){e.bubble.color=void 0;const n=e.getFillColor();e.bubble.color=n?Tw(Dw(n,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,t,n)=>{var i,r,o,s;const a=this.container.actualOptions,l=null!==(i=null===n||void 0===n?void 0:n.opacity)&&void 0!==i?i:null===(r=a.interactivity.modes.bubble)||void 0===r?void 0:r.opacity;if(!l)return;const c=e.options.opacity.value,u=aC(null!==(o=null===(s=e.opacity)||void 0===s?void 0:s.value)&&void 0!==o?o:1,l,Sb(c),t);void 0!==u&&(e.bubble.opacity=u)},this._hoverBubbleSize=(e,t,n)=>{const i=this.container,r=null!==n&&void 0!==n&&n.size?n.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0===r)return;const o=Sb(e.options.size.value)*i.retina.pixelRatio,s=aC(e.size.value,r,o,t);void 0!==s&&(e.bubble.radius=s)},this._process=(e,t,n,i)=>{var r;const o=this.container,s=i.bubbleObj.optValue,a=o.actualOptions.interactivity.modes.bubble;if(!a||void 0===s)return;const l=a.duration,c=o.retina.bubbleModeDistance,u=i.particlesObj.optValue,h=i.bubbleObj.value,d=null!==(r=i.particlesObj.value)&&void 0!==r?r:0,p=i.type;if(c&&!(c<0)&&s!==u)if(o.bubble||(o.bubble={}),o.bubble.durationEnd)h&&(p===sC.size&&delete e.bubble.radius,p===sC.opacity&&delete e.bubble.opacity);else if(t<=c){if((null!==h&&void 0!==h?h:d)!==s){const t=d-n*(d-s)/l;p===sC.size&&(e.bubble.radius=t),p===sC.opacity&&(e.bubble.opacity=t)}}else p===sC.size&&delete e.bubble.radius,p===sC.opacity&&delete e.bubble.opacity},this._singleSelectorHover=(e,t,n)=>{const i=this.container,r=document.querySelectorAll(t),o=i.actualOptions.interactivity.modes.bubble;o&&r.length&&r.forEach(t=>{const r=t,s=i.retina.pixelRatio,a={x:(r.offsetLeft+.5*r.offsetWidth)*s,y:(r.offsetTop+.5*r.offsetHeight)*s},l=.5*r.offsetWidth*s,c=n.type===fw.circle?new tk(a.x,a.y,l):new nk(r.offsetLeft*s,r.offsetTop*s,r.offsetWidth*s,r.offsetHeight*s),u=i.particles.quadTree.query(c,e=>this.isEnabled(e));for(const n of u){if(!c.contains(n.getPosition()))continue;n.bubble.inRange=!0;const t=Zb(o.divs,r);n.bubble.div&&n.bubble.div===r||(this.clear(n,e,!0),n.bubble.div=r),this._hoverBubbleSize(n,1,t),this._hoverBubbleOpacity(n,1,t),this._hoverBubbleColor(n,1,t)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===lC&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,n){e.bubble.inRange&&!n||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions.interactivity.events,n=t.onHover,i=t.onClick,r=n.enable,o=n.mode,s=i.enable,a=i.mode,l=t.onDiv;r&&Hb(lC,o)?this._hoverBubble():s&&Hb(lC,a)?this._clickBubble():Jb(lC,l,(t,n)=>this._singleSelectorHover(e,t,n))}isEnabled(e){var t;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:i.interactivity).events,{onClick:s,onDiv:a,onHover:l}=o,c=Xb(lC,a);return!!(c||l.enable&&r.position||s.enable&&r.clickPosition)&&(Hb(lC,l.mode)||Hb(lC,s.mode)||c)}loadModeOptions(e){e.bubble||(e.bubble=new oC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.bubble.load(null===r||void 0===r?void 0:r.bubble)}reset(e){e.bubble.inRange=!1}}class uC{constructor(){this.opacity=.5}load(e){fb(e)||void 0!==e.opacity&&(this.opacity=e.opacity)}}class hC{constructor(){this.distance=80,this.links=new uC,this.radius=60}load(e){fb(e)||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(e.links),void 0!==e.radius&&(this.radius=e.radius))}}function dC(e,t,n,i){const r=e.actualOptions.interactivity.modes.connect;if(r)return function(e,t,n,i){const r=Math.floor(n.getRadius()/t.getRadius()),o=t.getFillColor(),s=n.getFillColor();if(!o||!s)return;const a=t.getPosition(),l=n.getPosition(),c=Dw(o,s,t.getRadius(),n.getRadius()),u=e.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,Aw(o,i)),u.addColorStop(bb(r,0,1),Rw(c,i)),u.addColorStop(1,Aw(s,i)),u}(t,n,i,r.links.opacity)}function pC(e,t,n){e.canvas.draw(i=>{var r;const o=dC(e,i,t,n);if(!o)return;const s=t.getPosition(),a=n.getPosition();!function(e,t,n,i,r){Uw(e,i,r),e.lineWidth=t,e.strokeStyle=n,e.stroke()}(i,null!==(r=t.retina.linksWidth)&&void 0!==r?r:0,o,s,a)})}class fC extends pk{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&"pointermove"===e.interactivity.status){const t=e.interactivity.mouse.position,{connectModeDistance:n,connectModeRadius:i}=e.retina;if(!n||n<0||!i||i<0||!t)return;const r=Math.abs(i),o=e.particles.quadTree.queryCircle(t,r,e=>this.isEnabled(e));o.forEach((t,i)=>{const r=t.getPosition();for(const s of o.slice(i+1)){const i=s.getPosition(),o=Math.abs(n),a=Math.abs(r.x-i.x),l=Math.abs(r.y-i.y);a<o&&l<o&&pC(e,t,s)}})}}isEnabled(e){var t;const n=this.container,i=n.interactivity.mouse,r=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return!(!r.onHover.enable||!i.position)&&Hb("connect",r.onHover.mode)}loadModeOptions(e){e.connect||(e.connect=new hC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.connect.load(null===r||void 0===r?void 0:r.connect)}reset(){}}class mC{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){fb(e)||(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=Yw.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class gC{constructor(){this.distance=100,this.links=new mC}load(e){fb(e)||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(e.links))}}function vC(e,t,n,i,r){e.canvas.draw(e=>{var o;const s=t.getPosition();!function(e,t,n,i,r,o){Uw(e,n,i),e.strokeStyle=Rw(r,o),e.lineWidth=t,e.stroke()}(e,null!==(o=t.retina.linksWidth)&&void 0!==o?o:0,s,r,n,i)})}class yC extends pk{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions.interactivity;if(!t.modes.grab||!t.events.onHover.enable||e.interactivity.status!==j_)return;const n=e.interactivity.mouse.position;if(!n)return;const i=e.retina.grabModeDistance;if(!i||i<0)return;const r=e.particles.quadTree.queryCircle(n,i,e=>this.isEnabled(e));for(const a of r){var o,s;const r=Pb(a.getPosition(),n);if(r>i)continue;const l=t.modes.grab.links,c=l.opacity,u=c-r*c/i;if(u<=0)continue;const h=null!==(o=l.color)&&void 0!==o?o:null===(s=a.options.links)||void 0===s?void 0:s.color;if(!e.particles.grabLineColor&&h){const n=t.modes.grab.links;e.particles.grabLineColor=Nw(this._engine,h,n.blink,n.consent)}const d=Ow(a,void 0,e.particles.grabLineColor);d&&vC(e,a,d,u,n)}}isEnabled(e){var t;const n=this.container,i=n.interactivity.mouse,r=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Hb("grab",r.onHover.mode)}loadModeOptions(e){e.grab||(e.grab=new gC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.grab.load(null===r||void 0===r?void 0:r.grab)}reset(){}}class _C extends pk{constructor(e){super(e),this.handleClickMode=e=>{if("pause"!==e)return;const t=this.container;t.animationStatus?t.pause():t.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}class bC{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(fb(e))return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(e=>e)),this.groups.length||(this.default=!0);const t=e.quantity;void 0!==t&&(this.quantity=Eb(t))}}class wC extends pk{constructor(e){super(e),this.handleClickMode=e=>{if("push"!==e)return;const t=this.container,n=t.actualOptions.interactivity.modes.push;if(!n)return;const i=kb(n.quantity);if(i<=0)return;const r=Gb([void 0,...n.groups]),o=void 0!==r?t.actualOptions.particles.groups[r]:void 0;t.particles.push(i,t.interactivity.mouse,o,r)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e){e.push||(e.push=new bC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.push.load(null===r||void 0===r?void 0:r.push)}reset(){}}class xC{constructor(){this.quantity=2}load(e){if(fb(e))return;const t=e.quantity;void 0!==t&&(this.quantity=Eb(t))}}class kC extends pk{constructor(e){super(e),this.handleClickMode=e=>{const t=this.container,n=t.actualOptions;if(!n.interactivity.modes.remove||"remove"!==e)return;const i=kb(n.interactivity.modes.remove.quantity);t.particles.removeQuantity(i)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e){e.remove||(e.remove=new xC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.remove.load(null===r||void 0===r?void 0:r.remove)}reset(){}}class CC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=vk.easeOutQuad}load(e){fb(e)||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class SC extends CC{constructor(){super(),this.selectors=[]}load(e){super.load(e),fb(e)||void 0!==e.selectors&&(this.selectors=e.selectors)}}class EC extends CC{load(e){super.load(e),fb(e)||(this.divs=iw(e.divs,e=>{const t=new SC;return t.load(e),t}))}}const TC="repulse";class PC extends pk{constructor(e,t){super(t),this._clickRepulse=()=>{var e;const t=this.container,n=t.actualOptions.interactivity.modes.repulse;if(!n)return;const i=null!==(e=t.repulse)&&void 0!==e?e:{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count===t.particles.count&&(i.finish=!0)),i.clicking){const e=t.retina.repulseModeDistance;if(!e||e<0)return;const r=Math.pow(e/6,3),o=t.interactivity.mouse.clickPosition;if(void 0===o)return;const s=new tk(o.x,o.y,r),a=t.particles.quadTree.query(s,e=>this.isEnabled(e));for(const t of a){const{dx:e,dy:s,distance:a}=Tb(o,t.position),l=a**2,c=-r*n.speed/l;if(l<=r){i.particles.push(t);const n=gb.create(e,s);n.length=c,t.velocity.setTo(n)}}}else if(!1===i.clicking){for(const e of i.particles)e.velocity.setTo(e.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{const e=this.container,t=e.interactivity.mouse.position,n=e.retina.repulseModeDistance;!n||n<0||!t||this._processRepulse(t,n,new tk(t.x,t.y,n))},this._processRepulse=(e,t,n,i)=>{var r;const o=this.container,s=o.particles.quadTree.query(n,e=>this.isEnabled(e)),a=o.actualOptions.interactivity.modes.repulse;if(!a)return;const{easing:l,speed:c,factor:u,maxSpeed:h}=a,d=this._engine.getEasing(l),p=(null!==(r=null===i||void 0===i?void 0:i.speed)&&void 0!==r?r:c)*u;for(const f of s){const{dx:n,dy:i,distance:r}=Tb(f.position,e),o=bb(d(1-r/t)*p,0,h),s=gb.create(r?n/r*o:p,r?i/r*o:p);f.position.addTo(s)}},this._singleSelectorRepulse=(e,t)=>{const n=this.container,i=n.actualOptions.interactivity.modes.repulse;if(!i)return;const r=document.querySelectorAll(e);r.length&&r.forEach(e=>{const r=e,o=n.retina.pixelRatio,s={x:(r.offsetLeft+.5*r.offsetWidth)*o,y:(r.offsetTop+.5*r.offsetHeight)*o},a=.5*r.offsetWidth*o,l=t.type===fw.circle?new tk(s.x,s.y,a):new nk(r.offsetLeft*o,r.offsetTop*o,r.offsetWidth*o,r.offsetHeight*o),c=Zb(i.divs,r);this._processRepulse(s,a,l,c)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=e=>{const n=this.container.actualOptions.interactivity.modes.repulse;if(!n||e!==TC)return;t.repulse||(t.repulse={particles:[]});const i=t.repulse;i.clicking=!0,i.count=0;for(const r of t.repulse.particles)this.isEnabled(r)&&r.velocity.setTo(r.initialVelocity);i.particles=[],i.finish=!1,setTimeout(()=>{t.destroyed||(i.clicking=!1)},n.duration*q_)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===j_,i=t.interactivity.events,r=i.onHover,o=r.enable,s=r.mode,a=i.onClick,l=a.enable,c=a.mode,u=i.onDiv;n&&o&&Hb(TC,s)?this._hoverRepulse():l&&Hb(TC,c)?this._clickRepulse():Jb(TC,u,(e,t)=>this._singleSelectorRepulse(e,t))}isEnabled(e){var t;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:i.interactivity).events,s=o.onDiv,a=o.onHover,l=o.onClick,c=Xb(TC,s);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,h=l.mode;return Hb(TC,u)||Hb(TC,h)||c}loadModeOptions(e){e.repulse||(e.repulse=new EC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.repulse.load(null===r||void 0===r?void 0:r.repulse)}reset(){}}class IC{constructor(){this.factor=3,this.radius=200}load(e){fb(e)||(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class RC extends pk{constructor(e){super(e)}clear(e,t,n){e.slow.inRange&&!n||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){var t;const n=this.container,i=n.interactivity.mouse,r=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Hb("slow",r.onHover.mode)}loadModeOptions(e){e.slow||(e.slow=new IC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.slow.load(null===r||void 0===r?void 0:r.slow)}reset(e){e.slow.inRange=!1;const t=this.container,n=t.actualOptions,i=t.interactivity.mouse.position,r=t.retina.slowModeRadius,o=n.interactivity.modes.slow;if(!o||!r||r<0||!i)return;const s=Pb(i,e.getPosition()),a=s/r,l=o.factor,{slow:c}=e;s>r||(c.inRange=!0,c.factor=a/l)}}const AC=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function DC(e){return new Promise(t=>{e.loading=!0;const n=new Image;e.element=n,n.addEventListener("load",()=>{e.loading=!1,t()}),n.addEventListener("error",()=>{e.element=void 0,e.error=!0,e.loading=!1,Vb().error("".concat(V_," loading image: ").concat(e.source)),t()}),n.src=e.source})}async function OC(e){if("svg"!==e.type)return void await DC(e);e.loading=!0;const t=await fetch(e.source);t.ok?e.svgData=await t.text():(Vb().error("".concat(V_," Image not found")),e.error=!0),e.loading=!1}function NC(e,t,n,i){var r,o;const s=function(e,t,n){const{svgData:i}=e;if(!i)return"";const r=Aw(t,n);if(i.includes("fill"))return i.replace(AC,()=>r);const o=i.indexOf(">");return"".concat(i.substring(0,o),' fill="').concat(r,'"').concat(i.substring(o))}(e,n,null!==(r=null===(o=i.opacity)||void 0===o?void 0:o.value)&&void 0!==r?r:1),l={color:n,gif:t.gif,data:(0,a.A)((0,a.A)({},e),{},{svgData:s}),loaded:!1,ratio:t.width/t.height,replaceColor:t.replaceColor,source:t.src};return new Promise(t=>{const n=new Blob([s],{type:"image/svg+xml"}),i=URL||window.URL||window.webkitURL||window,r=i.createObjectURL(n),o=new Image;o.addEventListener("load",()=>{l.loaded=!0,l.element=o,t(l),i.revokeObjectURL(r)});o.addEventListener("error",()=>{(async()=>{i.revokeObjectURL(r);const n=(0,a.A)((0,a.A)({},e),{},{error:!1,loading:!0});await DC(n),l.loaded=!0,l.element=n.element,t(l)})()}),o.src=r})}const MC=[0,4,2,1],FC=[8,8,4,2];class LC{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((e,t)=>e+String.fromCharCode(t),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let n=t;--n>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(0!==t);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;for(let i=0;0!==e;i+=e+1,e=this.data[this.pos+i])t+=e;const n=new Uint8Array(t);e=this.data[this.pos++];for(let i=0;0!==e;e=this.data[this.pos++])for(let t=e;--t>=0;n[i++]=this.data[this.pos++]);return n}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var zC,jC;!function(e){e[e.Replace=0]="Replace",e[e.Combine=1]="Combine",e[e.RestoreBackground=2]="RestoreBackground",e[e.RestorePrevious=3]="RestorePrevious",e[e.UndefinedA=4]="UndefinedA",e[e.UndefinedB=5]="UndefinedB",e[e.UndefinedC=6]="UndefinedC",e[e.UndefinedD=7]="UndefinedD"}(zC||(zC={})),function(e){e[e.Extension=33]="Extension",e[e.ApplicationExtension=255]="ApplicationExtension",e[e.GraphicsControlExtension=249]="GraphicsControlExtension",e[e.PlainTextExtension=1]="PlainTextExtension",e[e.CommentExtension=254]="CommentExtension",e[e.Image=44]="Image",e[e.EndOfFile=59]="EndOfFile"}(jC||(jC={}));const UC=0,VC=0;function BC(e,t){const n=[];for(let i=0;i<t;i++)n.push({r:e.data[e.pos],g:e.data[e.pos+1],b:e.data[e.pos+2]}),e.pos+=3;return n}async function WC(e,t,n,i,r,o){switch(e.nextByte()){case jC.EndOfFile:return!0;case jC.Image:await async function(e,t,n,i,r,o){const s=t.frames[i(!0)];s.left=e.nextTwoBytes(),s.top=e.nextTwoBytes(),s.width=e.nextTwoBytes(),s.height=e.nextTwoBytes();const a=e.nextByte(),l=128===(128&a),c=64===(64&a);s.sortFlag=32===(32&a),s.reserved=(24&a)>>>3;const u=1<<1+(7&a);l&&(s.localColorTable=BC(e,u));const h=e=>{const{r:i,g:o,b:a}=(l?s.localColorTable:t.globalColorTable)[e];return e!==r(null)?{r:i,g:o,b:a,a:255}:{r:i,g:o,b:a,a:n?~~((i+o+a)/3):0}},d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(uf){if(uf instanceof DOMException&&"IndexSizeError"===uf.name)return null;throw uf}})();if(null==d)throw new EvalError("GIF frame size is to large");const p=e.nextByte(),f=e.readSubBlocksBin(),m=1<<p,g=(e,t)=>{const n=e>>>3,i=7&e;return(f[n]+(f[n+1]<<8)+(f[n+2]<<16)&(1<<t)-1<<i)>>>i};if(c){for(let n=0,r=p+1,a=0,l=[[0]],c=0;c<4;c++){if(MC[c]<s.height){let e=0,t=0,i=!1;for(;!i;){const o=n;if(n=g(a,r),a+=r+1,n===m){r=p+1,l.length=m+2;for(let e=0;e<l.length;e++)l[e]=e<m?[e]:[]}else{n>=l.length?l.push(l[o].concat(l[o][0])):o!==m&&l.push(l[o].concat(l[n][0]));for(const i of l[n]){const{r:n,g:r,b:o,a:a}=h(i);d.data.set([n,r,o,a],MC[c]*s.width+FC[c]*t+e%(4*s.width)),e+=4}l.length===1<<r&&r<12&&r++}e===4*s.width*(t+1)&&(t++,MC[c]+FC[c]*t>=s.height&&(i=!0))}}null===o||void 0===o||o(e.pos/(e.data.length-1),i(!1)+1,d,{x:s.left,y:s.top},{width:t.width,height:t.height})}s.image=d,s.bitmap=await createImageBitmap(d)}else{let n=0,r=p+1,a=0,l=-4,c=!1;const u=[[0]];for(;!c;){const e=n;if(n=g(a,r),a+=r,n===m){r=p+1,u.length=m+2;for(let e=0;e<u.length;e++)u[e]=e<m?[e]:[]}else{if(n===m+1){c=!0;break}n>=u.length?u.push(u[e].concat(u[e][0])):e!==m&&u.push(u[e].concat(u[n][0]));for(const e of u[n]){const{r:t,g:n,b:i,a:r}=h(e);d.data.set([t,n,i,r],l+=4)}u.length>=1<<r&&r<12&&r++}}s.image=d,s.bitmap=await createImageBitmap(d),null===o||void 0===o||o((e.pos+1)/e.data.length,i(!1)+1,s.image,{x:s.left,y:s.top},{width:t.width,height:t.height})}}(e,t,n,i,r,o);break;case jC.Extension:!function(e,t,n,i){switch(e.nextByte()){case jC.GraphicsControlExtension:{const r=t.frames[n(!1)];e.pos++;const o=e.nextByte();r.GCreserved=(224&o)>>>5,r.disposalMethod=(28&o)>>>2,r.userInputDelayFlag=2===(2&o);const s=1===(1&o);r.delayTime=10*e.nextTwoBytes();const a=e.nextByte();s&&i(a),e.pos++;break}case jC.ApplicationExtension:{e.pos++;const n={identifier:e.getString(8),authenticationCode:e.getString(3),data:e.readSubBlocksBin()};t.applicationExtensions.push(n);break}case jC.CommentExtension:t.comments.push([n(!1),e.readSubBlocks()]);break;case jC.PlainTextExtension:if(0===t.globalColorTable.length)throw new EvalError("plain text extension without global color table");e.pos++,t.frames[n(!1)].plainTextData={left:e.nextTwoBytes(),top:e.nextTwoBytes(),width:e.nextTwoBytes(),height:e.nextTwoBytes(),charSize:{width:e.nextTwoBytes(),height:e.nextTwoBytes()},foregroundColor:e.nextByte(),backgroundColor:e.nextByte(),text:e.readSubBlocks()};break;default:e.skipSubBlocks()}}(e,t,i,r);break;default:throw new EvalError("undefined block found")}return!1}async function qC(e){if("gif"===e.type){e.loading=!0;try{var t;e.gifData=await async function(e,t,n){n||(n=!1);const i=await fetch(e);if(!i.ok&&404===i.status)throw new EvalError("file not found");const r=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},s=new LC(new Uint8ClampedArray(r));if("GIF89a"!==s.getString(6))throw new Error("not a supported GIF file");o.width=s.nextTwoBytes(),o.height=s.nextTwoBytes();const a=s.nextByte(),l=128===(128&a);o.colorRes=(112&a)>>>4,o.sortFlag=8===(8&a);const c=1<<1+(7&a),u=s.nextByte();o.pixelAspectRatio=s.nextByte(),0!==o.pixelAspectRatio&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),l&&(o.globalColorTable=BC(s,c));const h=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(uf){if(uf instanceof DOMException&&"IndexSizeError"===uf.name)return null;throw uf}})();if(null==h)throw new Error("GIF frame size is to large");const{r:d,g:p,b:f}=o.globalColorTable[u];h.data.set(l?[d,p,f,255]:[0,0,0,0]);for(let b=4;b<h.data.length;b*=2)h.data.copyWithin(b,0,b);o.backgroundImage=h;let m=-1,g=!0,v=-1;const y=e=>(e&&(g=!0),m),_=e=>(null!=e&&(v=e),v);try{do{g&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:zC.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),m++,v=-1,g=!1)}while(!await WC(s,o,n,y,_,t));o.frames.length--;for(const e of o.frames){if(e.userInputDelayFlag&&0===e.delayTime){o.totalTime=1/0;break}o.totalTime+=e.delayTime}return o}catch(uf){if(uf instanceof EvalError)throw new Error("error while parsing frame ".concat(m,' "').concat(uf.message,'"'));throw uf}}(e.source),e.gifLoopCount=null!==(t=function(e){for(const t of e.applicationExtensions)if(t.identifier+t.authenticationCode==="NETSCAPE2.0")return t.data[1]+(t.data[2]<<8);return NaN}(e.gifData))&&void 0!==t?t:0,e.gifLoopCount||(e.gifLoopCount=1/0)}catch(n){e.error=!0}e.loading=!1}else await DC(e)}class HC{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async e=>{var t;if(!this._engine.loadImage)throw new Error("".concat(V_," image shape not initialized"));await this._engine.loadImage({gif:e.gif,name:e.name,replaceColor:null!==(t=e.replaceColor)&&void 0!==t&&t,src:e.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:n,particle:i,opacity:r}=e,o=i.image,s=null===o||void 0===o?void 0:o.element;if(o){if(t.globalAlpha=r,o.gif&&o.gifData)!function(e){var t;const{context:n,radius:i,particle:r,delta:o}=e,s=r.image;if(null===s||void 0===s||!s.gifData||!s.gif)return;const a=new OffscreenCanvas(s.gifData.width,s.gifData.height),l=a.getContext("2d");if(!l)throw new Error("could not create offscreen canvas context");var c;l.imageSmoothingQuality="low",l.imageSmoothingEnabled=!1,l.clearRect(UC,VC,a.width,a.height),void 0===r.gifLoopCount&&(r.gifLoopCount=null!==(c=s.gifLoopCount)&&void 0!==c?c:0);let u=null!==(t=r.gifFrame)&&void 0!==t?t:0;const h={x:.5*-s.gifData.width,y:.5*-s.gifData.height},d=s.gifData.frames[u];if(void 0===r.gifTime&&(r.gifTime=0),d.bitmap){switch(n.scale(i/s.gifData.width,i/s.gifData.height),d.disposalMethod){case zC.UndefinedA:case zC.UndefinedB:case zC.UndefinedC:case zC.UndefinedD:case zC.Replace:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(a,h.x,h.y),l.clearRect(UC,VC,a.width,a.height);break;case zC.Combine:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(a,h.x,h.y);break;case zC.RestoreBackground:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(a,h.x,h.y),l.clearRect(UC,VC,a.width,a.height),s.gifData.globalColorTable.length?l.putImageData(s.gifData.backgroundImage,h.x,h.y):l.putImageData(s.gifData.frames[0].image,h.x+d.left,h.y+d.top);break;case zC.RestorePrevious:{const e=l.getImageData(UC,VC,a.width,a.height);l.drawImage(d.bitmap,d.left,d.top),n.drawImage(a,h.x,h.y),l.clearRect(UC,VC,a.width,a.height),l.putImageData(e,UC,VC)}}if(r.gifTime+=o.value,r.gifTime>d.delayTime){if(r.gifTime-=d.delayTime,++u>=s.gifData.frames.length){if(--r.gifLoopCount<=0)return;u=0,l.clearRect(UC,VC,a.width,a.height)}r.gifFrame=u}n.scale(s.gifData.width/i,s.gifData.height/i)}}(e);else if(s){const e=o.ratio,i={x:-n,y:-n},r=2*n;t.drawImage(s,i.x,i.y,r,r/e)}t.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(t.preload&&this._engine.loadImage)for(const n of t.preload)await this._engine.loadImage(n)}loadShape(e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(e=>e.name===t.name||e.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){var n;if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const o=t.getFillColor(),s=i.find(e=>e.name===r.name||e.source===r.src);if(!s)return;const a=null!==(n=r.replaceColor)&&void 0!==n?n:s.replaceColor;s.loading?setTimeout(()=>{this.particleInit(e,t)}):(async(e,n)=>{let i;var l;s.svgData&&o?i=await NC(s,r,o,t):i={color:o,data:s,element:s.element,gif:s.gif,gifData:s.gifData,gifLoopCount:s.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:null!==(l=s.ratio)&&void 0!==l?l:1,replaceColor:a,source:r.src};i.ratio||(i.ratio=1);const c={image:i,fill:null!==(e=r.fill)&&void 0!==e?e:t.shapeFill,close:null!==(n=r.close)&&void 0!==n?n:t.shapeClose};t.image=c.image,t.shapeFill=c.fill,t.shapeClose=c.close})()}}class KC{constructor(){this.src="",this.gif=!1}load(e){fb(e)||(void 0!==e.gif&&(this.gif=e.gif),void 0!==e.height&&(this.height=e.height),void 0!==e.name&&(this.name=e.name),void 0!==e.replaceColor&&(this.replaceColor=e.replaceColor),void 0!==e.src&&(this.src=e.src),void 0!==e.width&&(this.width=e.width))}}class GC{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(null===t||void 0===t||!t.preload)return;e.preload||(e.preload=[]);const n=e.preload;for(const i of t.preload){const e=n.find(e=>e.name===i.name||e.src===i.src);if(e)e.load(i);else{const e=new KC;e.load(i),n.push(e)}}}needsPlugin(){return!0}}async function YC(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),function(e){e.loadImage||(e.loadImage=async t=>{if(!t.name&&!t.src)throw new Error("".concat(V_," no image source provided"));if(e.images||(e.images=[]),!e.images.find(e=>e.name===t.name||e.source===t.src))try{var n,i;const r={gif:null!==(n=t.gif)&&void 0!==n&&n,name:null!==(i=t.name)&&void 0!==i?i:t.src,source:t.src,type:t.src.substring(t.src.length-3),error:!1,loading:!0,replaceColor:t.replaceColor,ratio:t.width&&t.height?t.width/t.height:void 0};let o;e.images.push(r),o=t.gif?qC:t.replaceColor?OC:DC,await o(r)}catch(o){var r;throw new Error("".concat(V_," ").concat(null!==(r=t.name)&&void 0!==r?r:t.src," not found"))}})}(e);const n=new GC(e);await e.addPlugin(n,t),await e.addShape(new HC(e),t)}class $C extends yx{constructor(){super(),this.sync=!1}load(e){fb(e)||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class QC extends yx{constructor(){super(),this.sync=!1}load(e){fb(e)||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class XC{constructor(){this.count=0,this.delay=new $C,this.duration=new QC}load(e){fb(e)||(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class JC{constructor(e){this.container=e}init(e){const t=this.container,n=e.options.life;n&&(e.life={delay:t.retina.reduceFactor?kb(n.delay.value)*(n.delay.sync?1:_b())/t.retina.reduceFactor*q_:0,delayTime:0,duration:t.retina.reduceFactor?kb(n.duration.value)*(n.duration.sync?1:_b())/t.retina.reduceFactor*q_:0,time:0,count:n.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e){e.life||(e.life=new XC);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.life.load(null===r||void 0===r?void 0:r.life)}update(e,t){this.isEnabled(e)&&e.life&&function(e,t,n){if(!e.life)return;const i=e.life;let r=!1;if(e.spawning){if(i.delayTime+=t.value,!(i.delayTime>=e.life.delay))return;r=!0,e.spawning=!1,i.delayTime=0,i.time=0}if(-1===i.duration)return;if(e.spawning)return;if(r?i.time=0:i.time+=t.value,i.time<i.duration)return;if(i.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const o=Eb(0,n.width),s=Eb(0,n.width);e.position.x=xb(o),e.position.y=xb(s),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const a=e.options.life;a&&(i.delay=kb(a.delay.value)*q_,i.duration=kb(a.duration.value)*q_)}(e,t,this.container.canvas.size)}}class ZC{constructor(){this.validTypes=["line"]}draw(e){!function(e){var t;const{context:n,particle:i,radius:r}=e,o=i.shapeData;n.moveTo(-r,0),n.lineTo(r,0),n.lineCap=null!==(t=null===o||void 0===o?void 0:o.cap)&&void 0!==t?t:"butt"}(e)}getSidesCount(){return 1}}class eS{init(){}isEnabled(e){return!Wb()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,n=t.actualOptions.interactivity.events.onHover.parallax;if(Wb()||!n.enable)return;const i=n.force,r=t.interactivity.mouse.position;if(!r)return;const o=t.canvas.size,s=.5*o.width,a=.5*o.height,l=n.smooth,c=e.getRadius()/i,u=(r.x-s)*c,h=(r.y-a)*c,{offset:d}=e;d.x+=(u-d.x)/l,d.y+=(h-d.y)/l}}class tS extends fk{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;void 0===e.attractDistance&&(e.attractDistance=kb(e.options.move.attract.distance)*t.retina.pixelRatio);const n=e.attractDistance,i=e.getPosition(),r=t.particles.quadTree.queryCircle(i,n);for(const o of r){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const t=o.getPosition(),{dx:n,dy:r}=Tb(i,t),s=e.options.move.attract.rotate,a=n/(1e3*s.x),l=r/(1e3*s.y),c=o.size.value/e.size.value,u=1/c;e.velocity.x-=a*c,e.velocity.y-=l*c,o.velocity.x+=a*u,o.velocity.y+=l*u}}isEnabled(e){return e.options.move.attract.enable}reset(){}}function nS(e,t,n,i,r,o){const s=bb(e.options.collisions.absorb.speed*r.factor/10,0,i);e.size.value+=.5*s,n.size.value-=s,i<=o&&(n.size.value=0,n.destroy())}const iS=e=>{void 0===e.collisionMaxSpeed&&(e.collisionMaxSpeed=kb(e.options.collisions.maxSpeed)),e.velocity.length>e.collisionMaxSpeed&&(e.velocity.length=e.collisionMaxSpeed)};function rS(e,t){tw(ew(e),ew(t)),iS(e),iS(t)}function oS(e,t,n,i){switch(e.options.collisions.mode){case vw.absorb:!function(e,t,n,i){const r=e.getRadius(),o=t.getRadius();void 0===r&&void 0!==o?e.destroy():void 0!==r&&void 0===o?t.destroy():void 0!==r&&void 0!==o&&(r>=o?nS(e,0,t,o,n,i):nS(t,0,e,r,n,i))}(e,t,n,i);break;case vw.bounce:rS(e,t);break;case vw.destroy:!function(e,t){e.unbreakable||t.unbreakable||rS(e,t),void 0===e.getRadius()&&void 0!==t.getRadius()?e.destroy():void 0!==e.getRadius()&&void 0===t.getRadius()?t.destroy():void 0!==e.getRadius()&&void 0!==t.getRadius()&&(e.getRadius()>=t.getRadius()?t:e).destroy()}(e,t)}}class sS extends fk{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const n=this.container,i=e.getPosition(),r=e.getRadius(),o=n.particles.quadTree.queryCircle(i,2*r);for(const s of o){if(e===s||!s.options.collisions.enable||e.options.collisions.mode!==s.options.collisions.mode||s.destroyed||s.spawning)continue;const o=s.getPosition(),a=s.getRadius();if(Math.abs(Math.round(i.z)-Math.round(o.z))>r+a)continue;Pb(i,o)>r+a||oS(e,s,t,n.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}class aS extends tk{constructor(e,t,n,i){super(e,t,n),this.canvasSize=i,this.canvasSize=(0,a.A)({},i)}contains(e){const{width:t,height:n}=this.canvasSize,{x:i,y:r}=e;return super.contains(e)||super.contains({x:i-t,y:r})||super.contains({x:i-t,y:r-n})||super.contains({x:i,y:r-n})}intersects(e){if(super.intersects(e))return!0;const t=e,n=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==n.radius){const e=new tk(i.x,i.y,2*n.radius);return super.intersects(e)}if(void 0!==t.size){const e=new nk(i.x,i.y,2*t.size.width,2*t.size.height);return super.intersects(e)}return!1}}class lS{constructor(){this.blur=5,this.color=new Yw,this.color.value="#000",this.enable=!1}load(e){fb(e)||(void 0!==e.blur&&(this.blur=e.blur),this.color=Yw.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class cS{constructor(){this.enable=!1,this.frequency=1}load(e){fb(e)||(void 0!==e.color&&(this.color=Yw.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class uS{constructor(){this.blink=!1,this.color=new Yw,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new lS,this.triangles=new cS,this.width=1,this.warp=!1}load(e){fb(e)||(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=Yw.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}const hS=0,dS=0;function pS(e,t,n,i,r){const{dx:o,dy:s,distance:a}=Tb(e,t);if(!r||a<=n)return a;const l={x:Math.abs(o),y:Math.abs(s)},c=Math.min(l.x,i.width-l.x),u=Math.min(l.y,i.height-l.y);return Math.sqrt(c**2+u**2)}class fS extends fk{constructor(e,t){super(e),this._setColor=e=>{if(!e.options.links)return;const t=this._linkContainer,n=e.options.links;let i=void 0===n.id?t.particles.linksColor:t.particles.linksColors.get(n.id);if(i)return;const r=n.color;i=Nw(this._engine,r,n.blink,n.consent),void 0===n.id?t.particles.linksColor=i:t.particles.linksColors.set(n.id,i)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){var t;if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<hS||n.y<dS||n.x>r.width||n.y>r.height)return;const o=e.options.links,s=o.opacity,a=null!==(t=e.retina.linksDistance)&&void 0!==t?t:0,l=o.warp;let c;c=l?new aS(n.x,n.y,a,r):new tk(n.x,n.y,a);const u=i.particles.quadTree.query(c);for(const h of u){const t=h.options.links;if(e===h||null===t||void 0===t||!t.enable||o.id!==t.id||h.spawning||h.destroyed||!h.links||e.links.some(e=>e.destination===h)||h.links.some(t=>t.destination===e))continue;const i=h.getPosition();if(i.x<hS||i.y<dS||i.x>r.width||i.y>r.height)continue;const c=pS(n,i,a,r,l&&t.warp);if(c>a)continue;const u=(1-c/a)*s;this._setColor(e),e.links.push({destination:h,opacity:u})}}isEnabled(e){var t;return!(null===(t=e.options.links)||void 0===t||!t.enable)}loadParticlesOptions(e){e.links||(e.links=new uS);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.links.load(null===r||void 0===r?void 0:r.links)}reset(){}}function mS(e,t){const n=((i=e.map(e=>e.id)).sort((e,t)=>e-t),i.join("_"));var i;let r=t.get(n);return void 0===r&&(r=_b(),t.set(n,r)),r}class gS{constructor(e,t){this._drawLinkLine=(e,t)=>{const n=e.options.links;if(null===n||void 0===n||!n.enable)return;const i=this._container,r=i.actualOptions,o=t.destination,s=e.getPosition(),a=o.getPosition();let l=t.opacity;i.canvas.draw(t=>{var c,u,h;let d;const p=null===(c=e.options.twinkle)||void 0===c?void 0:c.lines;if(null!==p&&void 0!==p&&p.enable){const e=p.frequency,t=Cw(this._engine,p.color);_b()<e&&t&&(d=t,l=kb(p.opacity))}if(!d){const t=void 0!==n.id?i.particles.linksColors.get(n.id):i.particles.linksColor;d=Ow(e,o,t)}if(!d)return;const f=null!==(u=e.retina.linksWidth)&&void 0!==u?u:0,m=null!==(h=e.retina.linksDistance)&&void 0!==h?h:0,{backgroundMask:g}=r;!function(e){let t=!1;const{begin:n,end:i,engine:r,maxDistance:o,context:s,canvasSize:a,width:l,backgroundMask:c,colorLine:u,opacity:h,links:d}=e;if(Pb(n,i)<=o)Uw(s,n,i),t=!0;else if(d.warp){let e,r;const l=Tb(n,{x:i.x-a.width,y:i.y});if(l.distance<=o){const t=n.y-l.dy/l.dx*n.x;e={x:0,y:t},r={x:a.width,y:t}}else{const t=Tb(n,{x:i.x,y:i.y-a.height});if(t.distance<=o){const i=-(n.y-t.dy/t.dx*n.x)/(t.dy/t.dx);e={x:i,y:0},r={x:i,y:a.height}}else{const t=Tb(n,{x:i.x-a.width,y:i.y-a.height});if(t.distance<=o){const i=n.y-t.dy/t.dx*n.x;e={x:-i/(t.dy/t.dx),y:i},r={x:e.x+a.width,y:e.y+a.height}}}}e&&r&&(Uw(s,n,e),Uw(s,i,r),t=!0)}if(!t)return;s.lineWidth=l,c.enable&&(s.globalCompositeOperation=c.composite),s.strokeStyle=Rw(u,h);const{shadow:p}=d;if(p.enable){const e=Cw(r,p.color);e&&(s.shadowBlur=p.blur,s.shadowColor=Rw(e))}s.stroke()}({context:t,width:f,begin:s,end:a,engine:this._engine,maxDistance:m,canvasSize:i.canvas.size,links:n,backgroundMask:g,colorLine:d,opacity:l})})},this._drawLinkTriangle=(e,t,n)=>{var i;const r=e.options.links;if(null===r||void 0===r||!r.enable)return;const o=r.triangles;if(!o.enable)return;const s=this._container,a=s.actualOptions,l=t.destination,c=n.destination,u=null!==(i=o.opacity)&&void 0!==i?i:.5*(t.opacity+n.opacity);u<=0||s.canvas.draw(t=>{var n;const i=e.getPosition(),h=l.getPosition(),d=c.getPosition(),p=null!==(n=e.retina.linksDistance)&&void 0!==n?n:0;if(Pb(i,h)>p||Pb(d,h)>p||Pb(d,i)>p)return;let f=Cw(this._engine,o.color);if(!f){const t=void 0!==r.id?s.particles.linksColors.get(r.id):s.particles.linksColor;f=Ow(e,l,t)}f&&function(e){const{context:t,pos1:n,pos2:i,pos3:r,backgroundMask:o,colorTriangle:s,opacityTriangle:a}=e;!function(e,t,n,i){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(i.x,i.y),e.closePath()}(t,n,i,r),o.enable&&(t.globalCompositeOperation=o.composite),t.fillStyle=Rw(s,a),t.fill()}({context:t,pos1:i,pos2:h,pos3:d,backgroundMask:a.backgroundMask,colorTriangle:f,opacityTriangle:u})})},this._drawTriangles=(e,t,n,i)=>{var r,o,s;const a=n.destination;if(null===(r=e.links)||void 0===r||!r.triangles.enable||null===(o=a.options.links)||void 0===o||!o.triangles.enable)return;const l=null===(s=a.links)||void 0===s?void 0:s.filter(e=>{const t=this._getLinkFrequency(a,e.destination);return a.options.links&&t<=a.options.links.frequency&&i.findIndex(t=>t.destination===e.destination)>=0});if(null!==l&&void 0!==l&&l.length)for(const c of l){const i=c.destination;this._getTriangleFrequency(t,a,i)>e.links.triangles.frequency||this._drawLinkTriangle(t,n,c)}},this._getLinkFrequency=(e,t)=>mS([e,t],this._freqs.links),this._getTriangleFrequency=(e,t,n)=>mS([e,t,n],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:n,options:i}=t;if(null===n||void 0===n||!n.length)return;const r=n.filter(e=>i.links&&(i.links.frequency>=1||this._getLinkFrequency(t,e.destination)<=i.links.frequency));for(const s of r){var o;this._drawTriangles(i,t,s,r),s.opacity>0&&(null!==(o=t.retina.linksWidth)&&void 0!==o?o:0)>0&&this._drawLinkLine(t,s)}}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:n}=e,{distance:i,width:r}=e.options.links;n.linksDistance=i*t,n.linksWidth=r*t}particleDestroyed(e){e.links=[]}}class vS{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new gS(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function yS(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await e.addInteractor("particlesLinks",async t=>Promise.resolve(new fS(t,e)),t)}(e,t),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new vS(e);await e.addPlugin(n,t)}(e,t)}const _S=0,bS=0;class wS{draw(e){const{particle:t,radius:n}=e;!function(e,t,n){const{context:i}=e,r=n.count.numerator*n.count.denominator,o=n.count.numerator/n.count.denominator,s=180*(o-2)/o,a=Math.PI-Ib(s);if(i){i.beginPath(),i.translate(t.x,t.y),i.moveTo(_S,bS);for(let e=0;e<r;e++)i.lineTo(n.length,bS),i.translate(n.length,bS),i.rotate(a)}}(e,this.getCenter(t,n),this.getSidesData(t,n))}getSidesCount(e){var t;const n=e.shapeData;return Math.round(kb(null!==(t=null===n||void 0===n?void 0:n.sides)&&void 0!==t?t:5))}}class xS extends wS{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/.76}}getSidesData(e,t){const n=e.sides;return{count:{denominator:1,numerator:n},length:2.66*t/(n/3)}}}class kS extends wS{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}}async function CS(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new xS,t)}(e,t),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new kS,t)}(e,t)}class SS{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){fb(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Eb(e.speed)),void 0!==e.decay&&(this.decay=Eb(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class ES extends yx{constructor(){super(),this.animation=new SS,this.direction=mk.clockwise,this.path=!1,this.value=0}load(e){fb(e)||(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}const TS=2*Math.PI;class PS{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Ib(kb(t.value)),min:0,max:TS},e.pathRotation=t.path;let n=t.direction;if(n===mk.random){n=Math.floor(2*_b())>0?mk.counterClockwise:mk.clockwise}switch(n){case mk.counterClockwise:case"counterClockwise":e.rotate.status=Nb.decreasing;break;case mk.clockwise:e.rotate.status=Nb.increasing}const i=t.animation;i.enable&&(e.rotate.decay=1-kb(i.decay),e.rotate.velocity=kb(i.speed)/360*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=_b())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return!!t&&(!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path))}loadOptions(e){e.rotate||(e.rotate=new ES);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)e.rotate.load(null===r||void 0===r?void 0:r.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(cw(e,e.rotate,!1,Mb.none,t),e.rotation=e.rotate.value))}}const IS=Math.sqrt(2);class RS{constructor(){this.validTypes=["edge","square"]}draw(e){!function(e){const{context:t,radius:n}=e,i=n/IS,r=2*i;t.rect(-i,-i,r,r)}(e)}getSidesCount(){return 4}}const AS=0,DS=0;class OS{constructor(){this.validTypes=["star"]}draw(e){!function(e){var t;const{context:n,particle:i,radius:r}=e,o=i.sides,s=null!==(t=i.starInset)&&void 0!==t?t:2;n.moveTo(AS,DS-r);for(let a=0;a<o;a++)n.rotate(Math.PI/o),n.lineTo(AS,DS-r*s),n.rotate(Math.PI/o),n.lineTo(AS,DS-r)}(e)}getSidesCount(e){var t;const n=e.shapeData;return Math.round(kb(null!==(t=null===n||void 0===n?void 0:n.sides)&&void 0!==t?t:5))}particleInit(e,t){var n;const i=t.shapeData;t.starInset=kb(null!==(n=null===i||void 0===i?void 0:i.inset)&&void 0!==n?n:2)}}class NS{constructor(e,t){this._container=e,this._engine=t}init(e){var t,n,i;const r=this._container,o=e.options,s=rw(o.stroke,e.id,o.reduceDuplicates);e.strokeWidth=kb(s.width)*r.retina.pixelRatio,e.strokeOpacity=kb(null!==(t=s.opacity)&&void 0!==t?t:1),e.strokeAnimation=null===(n=s.color)||void 0===n?void 0:n.animation;const a=null!==(i=Ew(this._engine,s.color))&&void 0!==i?i:e.getFillColor();a&&(e.strokeColor=Fw(a,e.strokeAnimation,r.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:n}=e;return!e.destroyed&&!e.spawning&&!!t&&(void 0!==(null===n||void 0===n?void 0:n.h.value)&&n.h.enable||void 0!==(null===n||void 0===n?void 0:n.s.value)&&n.s.enable||void 0!==(null===n||void 0===n?void 0:n.l.value)&&n.l.enable)}update(e,t){this.isEnabled(e)&&jw(e.strokeColor,t)}}async function MS(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addMover("parallax",()=>Promise.resolve(new eS),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalAttract",t=>Promise.resolve(new $k(e,t)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalBounce",e=>Promise.resolve(new nC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalBubble",t=>Promise.resolve(new cC(t,e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalConnect",e=>Promise.resolve(new fC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalGrab",t=>Promise.resolve(new yC(t,e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalPause",e=>Promise.resolve(new _C(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalPush",e=>Promise.resolve(new wC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalRemove",e=>Promise.resolve(new kC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalRepulse",t=>Promise.resolve(new PC(e,t)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("externalSlow",e=>Promise.resolve(new RC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("particlesAttract",e=>Promise.resolve(new tS(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addInteractor("particlesCollisions",e=>Promise.resolve(new sS(e)),t)}(e,!1),await yS(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addEasing(vk.easeInQuad,e=>e**2,!1),await e.addEasing(vk.easeOutQuad,e=>1-(1-e)**2,!1),await e.addEasing(vk.easeInOutQuad,e=>e<.5?2*e**2:1-(-2*e+2)**2/2,!1),await e.refresh(t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new Hk,t)}(e,!1),await YC(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new ZC,t)}(e,!1),await CS(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new RS,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addShape(new OS,t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("life",async e=>Promise.resolve(new JC(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("rotate",e=>Promise.resolve(new PS(e)),t)}(e,!1),await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.checkVersion("3.8.1"),await e.addParticleUpdater("strokeColor",t=>Promise.resolve(new NS(t,e)),t)}(e,!1),await Wk(e,t)}const FS=()=>{const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{MS().then(()=>{console.log("Particles initialized"),s(!0)})},[]),(0,i.useEffect)(()=>{console.log("Setting up auth listener");const e=function(e,t,n,i){return mc(e).onAuthStateChanged(t,n,i)}(I_,e=>{if(e){console.log("User signed in:",e.uid,e.email),r(e);const t=p_(R_,"users/".concat(e.uid)),n={email:e.email,online:!0,lastActive:T_()};console.log("Writing user data:",n),g_(t,n).then(()=>console.log("User data written successfully")).catch(e=>console.error("Error setting user data:",e)),function(e){return e=mc(e),new c_(e._repo,e._path)}(t).update({online:!1,lastActive:T_()}).then(()=>console.log("onDisconnect set up")).catch(e=>console.error("Error setting onDisconnect:",e))}else console.log("No user signed in"),r(null);t(!1)});return()=>{console.log("Cleaning up auth listener"),e()}},[]),e?(0,mr.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-black to-purple-900 flex items-center justify-center",children:(0,mr.jsx)(oa.p,{className:"text-cyan-400 text-2xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Loading TapTap..."})}):(0,mr.jsxs)("div",{className:"relative",children:[o&&(0,mr.jsx)(_k,{options:{particles:{number:{value:50},size:{value:{min:1,max:3}},move:{enable:!0,speed:.5},color:{value:"#00f7ff"}}}}),(0,mr.jsx)(xl,{children:(0,mr.jsxs)(_l,{children:[(0,mr.jsx)(vl,{path:"/",element:n?(0,mr.jsx)(gl,{to:"/profile"}):(0,mr.jsx)(O_,{})}),(0,mr.jsx)(vl,{path:"/profile",element:n?(0,mr.jsx)(N_,{currentUser:n}):(0,mr.jsx)(gl,{to:"/"})}),(0,mr.jsx)(vl,{path:"/main",element:n?(0,mr.jsx)(M_,{currentUser:n}):(0,mr.jsx)(gl,{to:"/"})}),(0,mr.jsx)(vl,{path:"/chat/:chatId",element:n?(0,mr.jsx)(F_,{currentUser:n}):(0,mr.jsx)(gl,{to:"/"})}),(0,mr.jsx)(vl,{path:"/settings",element:n?(0,mr.jsx)("div",{children:"Settings Page (Coming Soon)"}):(0,mr.jsx)(gl,{to:"/"})}),(0,mr.jsx)(vl,{path:"/posts",element:n?(0,mr.jsx)("div",{children:"Posts Page (Coming Soon)"}):(0,mr.jsx)(gl,{to:"/"})})]})})]})},LS=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then(t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=t;n(e),i(e),r(e),o(e),s(e)})};o.createRoot(document.getElementById("root")).render((0,mr.jsx)(i.StrictMode,{children:(0,mr.jsx)(FS,{})})),LS()})();
//# sourceMappingURL=main.1625efb9.js.map